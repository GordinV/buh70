var lapsed=webpackJsonp_name_([0],[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(1),i=r(n),o=a(4),l=a(5),s=l.BrowserRouter,d=a(37);initData=JSON.parse(initData),userData=JSON.parse(userData),i.default.setInitData=initData,i.default.setUserData=userData,i.default.setModule="lapsed",i.default.setPageName="Laste register",o.hydrate(React.createElement(s,null,React.createElement(d,{initData:initData,userData:userData,module:"lapsed"})),document.getElementById("doc"))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(10),d=(a(38),a(185)),u=a(207),c=a(230),p=a(233),h=a(236),f=a(241),m=a(243),y=a(249),k=a(251),b=a(254),g=a(256),v=a(258),D=a(260),_=a(262),w=a(264),E=a(266),C=a(271),O=a(273),I=a(276),x=a(281),j=a(283),T=a(285),P=a(287),S=a(289),R=a(291),A=a(293),L=a(295),K=a(297),G=a(299),V=a(301),N=a(303),H=a(305),U=a(307),B=a(309),M=a(311),F=a(313),W=a(315),J=a(317),q=a(319),X=a(321),Y=a(323),z=a(325),$=a(327),Q=a(329),Z=a(331),ee=a(333),te=a(335),ae=a(337),re=a(341),ne=a(343),ie=a(345),oe=a(347),le=a(349),se=a(351),de=a(353),ue=a(355),ce=a(357),pe=a(359),he=a(361),fe=a(363),me=a(365),ye=a(367),ke=a(369),be=a(371),ge=a(373),ve=a(375),De=a(377),_e=a(379),we=a(381),Ee=a(383),Ce=a(385),Oe=a(387),Ie=a(389),xe=a(391),je=a(393),Te=a(5),Pe=Te.Route,Se=Te.Redirect,Re=a(80),Ae=Re.StyleRoot,Le="Lapsed",Ke=a(1),Ge=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.prepareParamsForToolbar=a.prepareParamsForToolbar.bind(a),a.componets={},a.prepareComponents(a.componets),a}return i(t,e),l(t,[{key:"render",value:function(e){var t=this;return s.createElement(Ae,null,s.createElement(Pe,{exact:!0,path:"/lapsed/arvete_saatmine",render:function(e){return s.createElement(d,{history:e.history,initData:t.props.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/arvete_saatmine/:docId",render:function(e){return s.createElement(u,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed",render:function(e){return s.createElement(h,{history:e.history,initData:t.props.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/laps",render:function(e){return s.createElement(h,{history:e.history,initData:t.props.initData,handleRouting:t.handleRouting,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/laps/:docId",render:function(e){return s.createElement(p,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/asutused",render:function(e){return s.createElement(K,{history:e.history,initData:t.props.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/asutused/:docId",render:function(e){return s.createElement(G,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_grupp",render:function(e){return s.createElement(V,{history:e.history,initData:t.props.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_grupp/:docId",render:function(e){return s.createElement(N,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/vanem",render:function(e){return s.createElement(w,{history:e.history,initData:t.props.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/vanem/:docId",render:function(e){return s.createElement(_,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_kaart",render:function(e){return s.createElement(f,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_kaart/:docId",component:m}),s.createElement(Pe,{exact:!0,path:"/lapsed/asendus_taabel",render:function(e){return s.createElement(y,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/asendus_taabel/:docId",component:k}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_taabel",render:function(e){return s.createElement(b,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/lapse_taabel/:docId",component:g}),s.createElement(Pe,{exact:!0,path:"/lapsed/paeva_taabel",render:function(e){return s.createElement(v,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/paeva_taabel/:docId",component:D}),s.createElement(Pe,{exact:!0,path:"/lapsed/arv",render:function(e){return s.createElement(E,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/arv/:docId",render:function(e){return s.createElement(C,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/journal/:docId",render:function(e){return s.createElement(c,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/smk",render:function(e){return s.createElement(O,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/smk/:docId",render:function(e){return s.createElement(I,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/vmk",render:function(e){return s.createElement(x,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/vmk/:docId",render:function(e){return s.createElement(j,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/sorder",render:function(e){return s.createElement(T,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/sorder/:docId",render:function(e){return s.createElement(P,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/nomenclature",render:function(e){return s.createElement(S,{history:e.history,initData:e.initData,module:Le})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/nomenclature/:docId",render:function(e){return s.createElement(R,o({},e,{module:Le,history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/tunnus/:docId",component:L}),s.createElement(Pe,{exact:!0,path:"/lapsed/tunnus",render:function(e){return s.createElement(A,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/teatis/:docId",component:U}),s.createElement(Pe,{exact:!0,path:"/lapsed/teatis",render:function(e){return s.createElement(H,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/pank_vv/:docId",component:Y}),s.createElement(Pe,{exact:!0,path:"/lapsed/pank_vv",render:function(e){return s.createElement(X,{module:Le,history:e.history,initData:t.props.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/config/:docId",render:function(e){return s.createElement($,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/config",render:function(){return s.createElement(Se,{to:"/lapsed/config/"+Ke.userData.asutusId})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/e-mail/:docId",render:function(e){return s.createElement(te,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/e-mail",render:function(){return s.createElement(Se,{to:"/lapsed/e-mail/0"})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/rekv/:docId",render:function(e){return s.createElement(Q,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/rekv",render:function(){return s.createElement(Se,{to:"/lapsed/rekv/"+Ke.userData.asutusId})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/dokprops/:docId",render:function(e){return s.createElement(Z,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/userid/:docId",render:function(e){return s.createElement(ee,o({},e,{history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/userid/",render:function(){return s.createElement(Se,{to:"/lapsed/userid/"+Ke.userData.id})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/inf3",render:function(e){return s.createElement(ae,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/inf3_analuus",render:function(e){return s.createElement(re,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/laps_kokkuvotte",render:function(e){return s.createElement(ne,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/laps_kv_kaibed",render:function(e){return s.createElement(ie,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/saldo_aruanne",render:function(e){return s.createElement(xe,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/arved_koodi_jargi",render:function(e){return s.createElement(oe,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/saldo_ja_kaive",render:function(e){return s.createElement(le,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kaive_aruanne",render:function(e){return s.createElement(ue,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kaive_aruanne_kokku",render:function(e){return s.createElement(ce,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/saldo_ja_kaibeandmik",render:function(e){return s.createElement(se,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/saldo_ja_ka_kokku",render:function(e){return s.createElement(de,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/sent_docs",render:function(e){return s.createElement(pe,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/child_age",render:function(e){return s.createElement(he,{module:Le,history:e.history,initData:t.props.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/soodustused",render:function(e){return s.createElement(fe,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/statistika",render:function(e){return s.createElement(me,{module:Le,history:e.history,initData:t.props.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/ebatoenaolised",render:function(e){return s.createElement(ye,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kondarve",render:function(e){return s.createElement(ke,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/aasta_naitajad_tyyp",render:function(e){return s.createElement(ge,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/aasta_naitajad",render:function(e){return s.createElement(be,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kuu_taabel",render:function(e){return s.createElement(ve,{module:Le,history:e.history,initData:t.props.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/yksuse_taabel",render:function(e){return s.createElement(De,{module:Le,history:e.history,initData:t.props.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kohaloleku_aruanne",render:function(e){return s.createElement(_e,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/topeltmaksud",render:function(e){return s.createElement(we,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/kuutabeli_aruanne",render:function(e){return s.createElement(Ee,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/selgemata_maksed",render:function(e){return s.createElement(Ce,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/arved_emailiga",render:function(e){return s.createElement(je,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/pank_earve",render:function(e){return s.createElement(Oe,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/saldod_asutustes",render:function(e){return s.createElement(Ie,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/asutuse_liik",render:function(e){return s.createElement(B,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/asutuse_liik/:docId",render:function(e){return s.createElement(M,o({},e,{module:Le,history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/koolituse_tyyp",render:function(e){return s.createElement(F,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/koolituse_tyyp/:docId",render:function(e){return s.createElement(W,o({},e,{module:Le,history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/koolituse_liik",render:function(e){return s.createElement(J,{module:Le,history:e.history,initData:e.initData})}}),s.createElement(Pe,{exact:!0,path:"/lapsed/koolituse_Liik/:docId",render:function(e){return s.createElement(q,o({},e,{module:Le,history:e.history}))}}),s.createElement(Pe,{exact:!0,path:"/lapsed/viitenr/:docId",render:function(e){return s.createElement(z,o({},e,{module:Le,history:e.history}))}}))}},{key:"prepareParamsForToolbar",value:function(){return{btnStart:{show:!0},btnLogin:{show:!0,disabled:!1},btnAccount:{show:!0,disabled:!1}}}},{key:"prepareComponents",value:function(e){return e.LapseDocument=function(e){var t=a(233);return s.createElement(t,e)}}}]),t}(s.Component);e.exports=Ge},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(206),u="ARVETE_SAATMINE",c=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=(a(199),a(223)),c=a(164),p=a(203),h=a(229),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"ARVETE_SAATMINE",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){if(!e.docData)return null;var t=!1;return e.docData.id&&(t=!!e.docData.eelmise_alus_status),l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Alg. kuupäev",name:"alg_kpv",ref:"input-alg_kpv",readOnly:!e.state.edited,value:e.docData.alg_kpv||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Lõpp kuupäev",name:"lopp_kpv",ref:"input-lopp_kpv",readOnly:!e.state.edited,value:e.docData.lopp_kpv||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(c,{title:"Kas alusta arvete saatmine ?:",name:"kas_alusta",value:!!e.docData.kas_alusta,ref:"checkbox_kas_alusta",onChange:e.handleInputChange,readOnly:t?t:!e.state.edited})),!e.docData.kas_alusta?null:l.createElement("div",{style:h.docColumn},l.createElement("label",{style:h.label},"Saatmine algab: ",e.docData.saatmine_alustatakse," "),l.createElement("label",{style:h.label},"Vastav kasutaja: ",e.docData.al_ametnik?e.docData.al_ametnik:e.docData.kasutaja," "))),!e.docData.kas_alusta?null:l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(c,{title:"Paus arvete saatmine:",name:"paus",value:!!e.docData.paus,ref:"checkbox_paus",onChange:e.handleInputChange,readOnly:t&&!e.state.edited})),!e.docData.paus?null:l.createElement("div",{style:h.docColumn},l.createElement("label",{style:h.label},"Vastav kasutaja: ",e.docData.p_ametnik?e.docData.p_ametnik:e.docData.kasutaja," "),l.createElement("label",{style:h.label},"Paus alates: ",e.docData.paus_timestamp," "))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited})))}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},label:{color:"red"}}},,,,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(1),s=a(11),d=a(10),u=a(39),c=a(2),p=a(234),h="LAPS",f=a(187),m=a(188),y=a(208),k=a(199),b=a(221),g=a(203),v=a(159),D=a(223),_=a(164),w=a(235),E=a(182).LAPS,C=E.LIBRARIES,O=E.ERITUNNUSED,I=E.DOCS,x=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,vanemId:null,module:"lapsed",kehtiv:"2019-12-31"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.fetchData=a.fetchData.bind(a),a.setFilter=a.setFilter.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.docId=e.docId?e.docId:+e.match.params.docId,a.pages=[{pageName:"Lapse kaart",docTypeId:"LAPS"}],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){if(this.props.history&&this.props.history.location.state){var e=this.props.history.location.state.vanemId,t=this.props.history.location.state.module?this.props.history.location.state.module:"lapsed";this.setState({vanemId:e,module:t})}this.state.docId&&(l.lapsId=this.state.docId)}},{key:"render",value:function(){return d.createElement(y,{docId:this.state.docId,ref:"document",history:this.props.history,module:this.state.module,docTypeId:"LAPS",reload:!0,initData:this.props.initData?this.props.initData:{},libs:C,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,focusElement:"input-isikukood"})}},{key:"renderer",value:function(e){var t=this,a=e.state.edited,r=e.docData.vanemad,n=e.docData.gridConfig,i=e.docData.teenused,o=e.docData.gridTeenusteConfig,s=e.docData.viitenumbers,u=e.docData.gridViitenumberConfig,c=f[h]?f[h]:[],y=l.userData?l.userData.roles:[],E=(m(y,c,"koostaArve"),m(y,c,"edit")),C=[];return 0===e.docData.id?e.docData.vanemid=this.state.vanemId:this.setFilter(e.docData.isikukood),!this.docId&&e.docData.id&&(this.docId=e.docData.id),i&&i.length&&(C=i.filter(function(e){return p(e.lopp_kpv,t.state.kehtiv)&&e.tyyp&&"SOODUSTUS"===e.tyyp}),i=i.filter(function(e){return p(e.lopp_kpv,t.state.kehtiv)&&(!e.tyyp||""===e.tyyp)})),d.createElement("div",{style:w.doc},e.docData&&e.docData.isikukood&&!+e.docData.arveldus?d.createElement("div",{style:w.docRow},d.createElement("div",{style:w.warning},"Puudub arvestuse eest vastutav isik")):null,d.createElement("div",{style:w.docRow},d.createElement("div",{style:w.docColumn},d.createElement(k,{ref:"input-isikukood",title:"Isikukood:",name:"isikukood",value:e.docData.isikukood||"",readOnly:!a,maxLength:"11",self:this,onChange:e.handleInputChange}),d.createElement(k,{title:"Nimi:",name:"nimi",value:e.docData.nimi||"",ref:"input-nimi",readOnly:!a,onChange:e.handleInputChange}),d.createElement(k,{title:"Viitenumber:",name:"viitenumber",value:e.docData.viitenumber||"",ref:"input-viitenumber",readOnly:!0,disabled:!0,onChange:e.handleInputChange}),d.createElement(k,{ref:"input-jaak",title:"Jääk:",name:"jaak",value:e.docData.jaak||"",readOnly:!0,style:w.jaak}),d.createElement(b,{title:"Eritunnus:",name:"eritunnus",data:O,collId:"kood",value:e.docData.eritunnus||"",defaultValue:e.docData.eritunnus,ref:"select-eritunnus",btnDelete:a,onChange:e.handleInputChange,style:w.eritunnus,readOnly:!a}),d.createElement(_,{title:"Teiste KOVide lapsed:",name:"kas_teiste_kov",value:!!e.docData.kas_teiste_kov,ref:"checkbox_kas_teiste_kov",onChange:e.handleInputChange,readOnly:!e.state.edited})),d.createElement("div",{style:w.docColumn},d.createElement("div",{style:w.docRow},d.createElement("label",{ref:"label"},"Vana viitenumbrid")),d.createElement("div",{style:w.docRow},d.createElement(v,{source:"viitenumbers",gridData:s,gridColumns:u,showToolBar:!a,handleGridBtnClick:e.handleGridBtnClick,readOnly:a,style:w.grid.headerTable,docTypeId:"viitenr",ref:"viitenr-data-grid"})))),d.createElement("div",{style:w.docRow},d.createElement("div",{style:w.docColumn},d.createElement(D,{title:"Arvesta INF3 kuni:",name:"inf3_kpv",value:e.docData.inf3_kpv||"",ref:"input-inf3_kpv",disabled:!E,readOnly:!a,styles:w.inf3_kpv,onChange:e.handleInputChange}))),d.createElement("div",{style:w.docRow},d.createElement(g,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!a})),d.createElement("div",{style:w.docRow},d.createElement("label",{ref:"label"},"Vanemad")),d.createElement("div",{style:w.docRow},d.createElement(v,{source:"vanemad",gridData:r,gridColumns:n,showToolBar:!a,handleGridBtnClick:e.handleGridBtnClick,readOnly:a,style:w.grid.headerTable,docTypeId:"vanem",ref:"vanemad-data-grid"})),d.createElement("div",{style:w.docRow},d.createElement("div",{style:w.docColumn},d.createElement("label",{ref:"label"},"Teenused")),d.createElement("div",{style:w.docColumn},d.createElement(D,{title:"Kehtiv seisuga: ",name:"kehtivSeisuga",value:this.state.kehtiv,ref:"input-kehtiv",readOnly:!1,styles:w.kehtivSeisuga,onChange:this.handleInputChange}))),d.createElement("div",{style:w.docRow},d.createElement(v,{source:"teenused",gridData:i,gridColumns:o,showToolBar:!a,handleGridBtnClick:e.handleGridBtnClick,docTypeId:"lapse_kaart",readOnly:!a,style:w.grid.headerTable,ref:"teenuste-data-grid"})),d.createElement("div",{style:w.docRow},d.createElement("label",{ref:"label"},"Lühiajalised soodustused (miinusmärgiga)")),d.createElement("div",{style:w.docRow},d.createElement(v,{source:"soodustused",gridData:C,gridColumns:o,showToolBar:!a,handleGridBtnClick:e.handleGridBtnClick,docTypeId:"lapse_kaart",readOnly:!a,style:w.grid.headerTable,ref:"soodustused-data-grid"})))}},{key:"setFilter",value:function(e){I.forEach(function(t){l.filter[t]&&l.filter[t].length||(l.filter[t]=c(l.gridConfig[t],[],t)),l.filter[t].forEach(function(t){"isikukood"==t.id&&(t.value=e)})})}},{key:"handlePageClick",value:function(e){var t=this,a=this.refs.document.docData.isikukood;if(l.menu){var r=l.menu.find(function(t){return t.kood.toUpperCase()===e.toUpperCase()});r&&(l.pageName=r)}else{var n=this.pages.find(function(t){return t.docTypeId==e});n&&n.pageName&&(l.pageName=n.pageName)}l.filter[e]&&l.filter[e].length||(l.filter[e]=c(l.gridConfig[e],[],e)),l.filter[e].forEach(function(e){"isikukood"==e.id&&(e.value=a)});var i="/lapsed/"+e;this.props.history.replace("/reload"),setTimeout(function(){t.props.history.replace(i)})}},{key:"handleGridBtnClick",value:function(e,t,a,r){var n=this;switch(e.toUpperCase()){case"EDIT":this.props.history.push({pathname:"/lapsed/"+r+"/"+a,state:{lapsId:this.docId,module:this.state.module}});break;case"MUUDA":this.props.history.push({pathname:"/lapsed/"+r+"/"+a,state:{lapsId:this.docId,module:this.state.module}});break;case"ADD":this.props.history.push({pathname:"/lapsed/"+r+"/0",state:{lapsId:this.docId,module:this.state.module}});break;case"LISA":this.props.history.push({pathname:"/lapsed/"+r+"/0",state:{lapsId:this.docId,module:this.state.module}});break;case"DELETE":this.fetchData(r,a).then(function(e){var t=e&&e.status&&200===e.status?"Ok":"Error",a="Viga";t&&(e.data&&e.data.error||e.data&&e.data.data&&e.data.data.error_message)&&(t=!1,a=e.data.data.error_message?e.data.data.error_message:e.data.error_message);var r=n.refs.document;r.loadLibs("vanem"),"Ok"===t?r.setState({reloadData:!0,warning:"Kiri kustutatud",warningType:"ok"},function(){setTimeout(function(){var e=n.props.location.pathname;n.props.history.replace("/reload"),setTimeout(function(){n.props.history.replace(e)})},2e3)}):r.setState({reloadData:!1,warning:""+a,warningType:"error"})});break;case"KUSTUTA":this.fetchData(r,a).then(function(e){var t=e&&e.status&&200===e.status?"Ok":"Error",a=n.refs.document;if("Ok"===t)a.loadLibs("vanem"),a.setState({reloadData:!0,warning:"Kiri kustutatud",warningType:"ok"});else{var r=e.data&&e.data.error_message?e.data.error_message:"Viga";a.setState({reloadData:!1,warning:""+r,warningType:"error"})}})}}},{key:"fetchData",value:function(e,t){var a="/newApi/delete",r={parameter:e,module:"lapsed",userId:l.userData.userId,uuid:l.userData.uuid,docId:t};return u.fetchDataPost(a,r)}},{key:"handleInputChange",value:function(e,t){this.setState({kehtiv:t})}}]),t}(d.PureComponent);x.propTypes={docId:s.number,initData:s.object,userData:s.object},x.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=x},function(e,t){"use strict";function a(e,t){var a=new Date(e);a.setDate(a.getDate()+1);var r=new Date(t);return a>=r}e.exports=a},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},warning:{backgroundColor:"lightcoral",width:"100%",textAlign:"left"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%",zIndex:"-1"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},kehtivSeisuga:{width:"min-content"},jaak:{width:"min-content",margin:"0px",marginTop:"5px",marginLeft:"-5px"},eritunnus:{marginLeft:"-5px"},inf3_kpv:{width:"auto",marginLeft:"-5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(238),c=a(199),p=a(66),h=a(201),f=a(240),m="LAPS",y=a(182).events[m],k=a(187),b=a(188),g=a(1),v=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=new Date;return a.onClickHandler=a.onClickHandler.bind(a),a.handleClick=a.handleClick.bind(a),a.renderer=a.renderer.bind(a),a.modalReportePageBtnClick=a.modalReportePageBtnClick.bind(a),a.state={read:0,filtri_read:0,isReport:!1,txtReport:[],kehtivus:i},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:m,style:f,render:this.renderer}),l.createElement(c,{title:"Filtri all / read kokku:",name:"read_kokku",style:f.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}),l.createElement(h,{show:this.state.isReport,report:this.state.txtReport,modalPageBtnClick:this.modalReportePageBtnClick}))}},{key:"renderer",value:function(e){var t=this;if(!e)return null;var a=k[m]?k[m]:[],r=g.userData?g.userData.roles:[],n=y.filter(function(e){var t=b(r,a,e.method);return t});return e.gridData&&this.setState({read:e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:this.state.read,filtri_read:e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0
}),l.createElement(p,null,b(r,a,"arvestaTaabel")?n.map(function(e){return l.createElement(d,{value:e.name,onClick:t.onClickHandler,ref:"btn-"+e.name,key:"key-"+e.name})}):null,b(r,a,"importLapsed")?l.createElement(u,{ref:"btnUpload",docTypeId:m,onClick:this.handleClick,show:!0,value:"Import lapsed",mimeTypes:".csv"}):null,b(r,a,"importViitenr")?l.createElement(u,{ref:"btnUpload",docTypeId:"VIITENR",onClick:this.handleClick,show:!0,value:"Import viitenumbrid",mimeTypes:".csv"}):null)}},{key:"onClickHandler",value:function(e,t){var a=this,r=this.refs.register,n=[];r.gridData.filter(function(e){return e.select}).forEach(function(e){n.push(e.id)});var i=y.find(function(t){return t.name===e});if(!i)return r.setState({warning:"Task: "+e+" ei leidnud",warningType:"error"});var o="võib olla selles perioodil kõik arved juba väljastatud";r.fetchData("calc/"+i.method,{docs:n,seisuga:t}).then(function(e){if(e.result){o="task saadetud täitmisele",r.setState({warning:""+o,warningType:"ok"});var t=e.data.result.tulemused;a.setState({isReport:!0,txtReport:t})}else e.error_message?r.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):r.setState({warning:"Kokku arvestatud : "+e.result+", "+o,warningType:"notValid"})})}},{key:"handleClick",value:function(e){var t=this.refs.register;return t?void(e&&(t.setState({warning:"Edukalt:  "+e+": ",warningType:"ok"}),setTimeout(function(){t.fetchData("selectDocs")},1e4))):null}},{key:"modalReportePageBtnClick",value:function(e){var t=!e||"Ok"!=e;this.setState({isReport:t})}}]),t}(l.PureComponent);e.exports=v},,,,function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"},position:"initial"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(238),p=a(199),h=a(242),f="LAPSE_KAART",m=a(187),y=a(188),k=a(1),b=m[f]?m[f]:[],g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.onClickExport=a.onClickExport.bind(a),a.onClickTeenusteTahtaegHandler=a.onClickTeenusteTahtaegHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}))}},{key:"renderer",value:function(e){var t=k.userData?k.userData.roles:[];if(e&&e.gridData){var a=e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0;this.setState({read:a,filtri_read:e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:a})}return l.createElement(u,null,y(t,b,"muudaTeenusteTahtaeg")?l.createElement(d,{value:"Muuda teenuste tähtaeg",onClick:this.onClickTeenusteTahtaegHandler,showDate:!0,showKogus:!1,ref:"btn-teenuste_tahtaeg"}):null,y(t,b,"muudaEttemaksuPeriod")?l.createElement(d,{value:"Muuda ettemaksu period",onClick:this.onClickHandler.bind(this,"muudaEttemaks"),showDate:!1,showKogus:!0,ref:"btn-ettemaksu_period"}):null,y(t,b,"importTeenused")?l.createElement(c,{ref:"btnUpload",docTypeId:f,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickExport,showDate:!1,showKogus:!1,showKond:!0,ref:"btn-sama_csv"}))}},{key:"onClickHandler",value:function(e,t){var a=this.refs.register,r=[];a.gridData.filter(function(e){if(e.ettemaks&&e.select)return e}).forEach(function(e){r.push(e.id)}),a.fetchData("calc/muuda_ettemaksu_period",{docs:r,ettemaksuPeriod:t}).then(function(e){e.result?a.setState({warning:"Kokku arvestatud: "+e.result,warningType:"ok"}):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"notValid"})})}},{key:"onClickExport",value:function(e,t,a){var r=this.refs.register;if(r.gridData&&r.gridData.length){var n=r.state.sqlWhere,i=encodeURIComponent(""+n),o="/reports/lapse_kaart/"+k.userData.uuid+"/"+a,l=encodeURIComponent(""+JSON.stringify(r.filterData)),s=n?o+"/"+l+"/"+i:o+"/"+l;window.open(s)}else r.setState({warning:"Mitte ühtegi teenused leidnum",warningType:"notValid"})}},{key:"onClickTeenusteTahtaegHandler",value:function(e,t){var a=this.refs.register,r=[];a.gridData.filter(function(e){if(e.select)return e}).forEach(function(e){r.push(e.id)}),a.fetchData("calc/muuda_teenuste_tahtaeg",{docs:r,teenusteTahtaeg:t}).then(function(e){e.result?(a.btnRefreshClick(),a.setState({warning:"Kokku muudetud: "+e.result,warningType:"ok"})):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"notValid"})})}}]),t}(l.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",position:"initial",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),d=a(11),u=a(10),c=a(1),p=a(208),h=a(225),f=a(72),m=a(223),y=a(221),k=a(164),b=a(244),g=a(203),v=a(246),D=a(248),_=a(182).LAPSE_KAART.LIBRARIES,w=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,module:"lapsed",kas_soodustus:!1},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.btnEditNomClick=a.btnEditNomClick.bind(a),a.btnEditLapsClick=a.btnEditLapsClick.bind(a),a.btnEditLapseGruppClick=a.btnEditLapseGruppClick.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.pages=[{pageName:"Teenus",docTypeId:"LAPSE_KAART"}],a}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=void 0;e=this.props.history&&this.props.history.location.state?this.props.history.location.state.lapsId:c.laps?c.laps:null,this.setState({lapsId:e})}},{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return u.createElement(p,{docId:this.state.docId,ref:"document",module:this.state.module,docTypeId:"LAPSE_KAART",userData:this.props.userData,initData:e,libs:_,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,handleInputChange:this.handleInputChange,history:this.props.history})}},{key:"renderer",value:function(e){var t=this;if(!e||!e.docData||!e.state.loadedLibs)return u.createElement("div",{style:D.doc},u.createElement(v,{label:"Laadimine..."}));e.libs.nomenclature.length||setTimeout(function(){t.forceUpdate()},1);var a=e.state.edited;+e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId);var n=D.btnEditNom,i=void 0,o=[{id:0,nimetus:""}];e.libs.lapse_grupp&&e.docData.yksus&&(i=e.libs.lapse_grupp.find(function(t){return t.kood===e.docData.yksus}),o=(i&&i.all_yksused?i.all_yksused:[]).map(function(e,t){return{id:t++,nimetus:e}}));var s=[];try{i?c.libs&&i.id&&c.libs[i.id]&&c.libs[i.id].length?s=c.libs[i.id]:(s=(i.teenused&&e.libs.nomenclature.length>0?i.teenused:[]).map(function(t){var a=e.libs.nomenclature.find(function(e){return!!e.id&&e.id===+t.nomid});if(a&&a.id){var r=a.nimetus?a.nimetus+" (hind: "+(+t.hind).toFixed(2)+") ":"";return l({},a,{nimetus:r,id:+t.nomid})}return{id:+t.nomid,kood:"Ei kehti",nimetus:"Ei kehti",hind:0,kogus:0,kas_inf3:!1}}).sort(function(e,t){return e.kood.localeCompare(t.kood)}),setTimeout(1),s.length&&i.id&&(c.libs[i.id]=s,this.forceUpdate())):s=[{id:0,kood:"",nimetus:"",hind:0,kogus:0,kas_inf3:!1}]}catch(e){}var d=[{id:0,kood:"",nimetus:"",laps_id:e.docData.parentid}],p=void 0;if(e.libs.viitenr&&e.libs.viitenr.length&&e.docData.parentid){d.push.apply(d,r(e.libs.viitenr.filter(function(t){return t.laps_id==e.docData.parentid})));var _=d.length-1;p=d[_].kood,e.docData.viitenr||(e.docData.viitenr=p)}var w=!!e.docData.parentid,E=!0;if(e&&e.docData&&s&&s.length&&e.docData.nomid){var C=s.find(function(t){return t.id===e.docData.nomid&&"SOODUSTUS"===t.tyyp});C&&(E=!1),setTimeout(1)}return u.createElement("div",{style:D.doc},u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(b,{title:"Lapse nimi:",name:"parentid",userData:e.userData,libName:"laps",sqlFields:["nimi","isikukood"],data:[],value:e.docData.parentid||0,defaultValue:e.docData.lapse_nimi,boundToGrid:"nimi",boundToData:"lapse_nimi",ref:"select-parentid",btnDelete:!1,onChange:e.handleInputChange,history:this.props.history,readOnly:w})),u.createElement("div",{style:D.docColumn},u.createElement(f,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditLapsClick,show:!a,style:n,disabled:!1}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(y,{title:"Üksus:",name:"yksus",libs:"lapse_grupp",data:e.libs.lapse_grupp,value:e.docData.yksus||"",defaultValue:e.docData.yksys||"",ref:"select-lapse_grupp",collId:"kood",btnDelete:a,onChange:e.handleInputChange,readOnly:!a}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(y,{title:"Vana viitenumber:",name:"viitenr",libs:"viitenr",data:d,value:e.docData.viitenr||"",defaultValue:e.docData.viitenr||"",ref:"select-viitenr",collId:"kood",btnDelete:a,onChange:e.handleInputChange,readOnly:!a}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(y,{title:"Kood"+(e.docData.kas_umberarvestus?"(Ümberarvestus)":"")+":",name:"nomid",libs:"nomenclature",data:s,value:e.docData.nomid||0,defaultValue:e.docData.kood,ref:"select-nomid",collId:"id",btnDelete:a,onChange:e.handleInputChange,readOnly:!a}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(h,{ref:"input-hind",title:"Hind:",name:"hind",value:e.docData.hind,readOnly:!a,onChange:e.handleInputChange})),u.createElement("div",{style:D.docColumn},u.createElement(h,{ref:"input-kogus",title:"Kogus:",name:"kogus",value:e.docData.kogus||"",readOnly:!a,onChange:e.handleInputChange}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(m,{title:"Kehtib alates:",name:"alg_kpv",value:e.docData.alg_kpv||"",ref:"input-alg_kpv",readOnly:!a,onChange:e.handleInputChange})),u.createElement("div",{style:D.docColumn},u.createElement(m,{title:"Kehtib kuni:",name:"lopp_kpv",value:e.docData.lopp_kpv||"",ref:"input-lopp_kpv",readOnly:!a,onChange:e.handleInputChange}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(k,{title:"Kas ettemaks?",name:"kas_ettemaks",value:!!e.docData.kas_ettemaks,ref:"checkbox_kas_ettemaks",onChange:e.handleInputChange,readOnly:!a})),e.docData.kas_ettemaks?u.createElement("div",{style:D.docColumn},u.createElement(h,{ref:"input-ettemaksu_period",title:"Ettemaksu period:",name:"ettemaksu_period",value:+e.docData.ettemaksu_period||"",readOnly:!a,onChange:e.handleInputChange})):null),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(k,{title:"Kas arvesta eraldi?",name:"kas_eraldi",value:!!e.docData.kas_eraldi,ref:"checkbox_kas_eraldi",onChange:e.handleInputChange,readOnly:!a})),E?u.createElement("div",{style:D.docColumn},u.createElement(h,{ref:"input-soodus",title:"Soodustus:",name:"soodus",value:+e.docData.soodus||"",readOnly:!a,onChange:e.handleInputChange}),u.createElement(m,{title:"Kehtib alates:",name:"sooduse_alg",value:e.docData.sooduse_alg||"",ref:"input-soodus_alg",readOnly:!a,onChange:e.handleInputChange}),u.createElement(m,{title:"Kehtib kuni:",name:"sooduse_lopp",value:e.docData.sooduse_lopp||"",ref:"input-soodus_lopp",readOnly:!a,onChange:e.handleInputChange}),u.createElement(k,{title:"Kas soodustus protsentides?",name:"kas_protsent",value:!!e.docData.kas_protsent,ref:"checkbox_kas_protsent",onChange:e.handleInputChange,readOnly:!a})):null),u.createElement("div",{style:D.docRow},u.createElement(g,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!a})))}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"handleInputChange",value:function(e,t){if("nomid"===e){var a=this.refs.document,r=void 0;if(a.libs.lapse_grupp&&a.docData.yksus&&(r=a.libs.lapse_grupp.find(function(e){return e.kood===a.docData.yksus})),r.teenused){var n=r.teenused.find(function(e){return e.nomid==t});a.docData.kogus=n.kogus?n.kogus:a.docData.kogus,a.docData.hind=n.hind?n.hind:a.docData.hind,a.docData.nomid=n.nomid?n.nomid:a.docData.nomid;var i=!("id"in a.docData&&a.docData.id);if(i){var o=a.libs.nomenclature.find(function(e){return e.id===+a.docData.nomid});o&&o.hasOwnProperty("kas_inf3")&&(a.docData.kas_inf3=o.kas_inf3)}}}}},{key:"handleGridBtnClick",value:function(e,t,a,r){switch(e){case"edit":this.props.history.push("/lapsed/"+r+"/"+a);break;case"add":this.props.history.push("/lapsed/"+r+"/0/"+this.state.docId);break;case"delete":}}},{key:"btnEditNomClick",value:function(){var e=this.refs.document.docData.nomid;this.props.history.push("/lapsed/nomenclature/"+e)}},{key:"btnEditLapseGruppClick",value:function(){var e=this.refs.document.docData.yksus,t=this.refs.document.libs.lapse_grupp.find(function(t){return t.kood===e}).id;t&&this.props.history.push("/lapsed/lapse_grupp/"+t)}},{key:"btnEditLapsClick",value:function(){var e=this.refs.document.docData.parentid;this.props.history.push({pathname:"/lapsed/laps/"+e,state:{teenusId:this.state.docId,module:this.state.module}})}}]),t}(u.PureComponent);w.propTypes={docId:d.number,initData:d.object,userData:d.object},w.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=w},,,,,function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"},selectNom:{marginLeft:"10px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=(a(238),a(237)),c=a(66),p=a(187),h=a(188),f=(a(237),a(250)),m="ASENDUS_TAABEL",y=p[m]?p[m]:[],k=a(1),b=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,soodustus:0,vahe:0,kor_summa:0},a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:m,style:f,render:this.renderer}),l.createElement(d,{title:"Summa kokku:",name:"summa_kokku",style:f.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=k.userData?k.userData.roles:[],a=e.gridData&&e.gridData.length?e.gridData[0].summa_kokku:0;return this.setState({summa:a,read:e.gridData.length}),l.createElement(c,null,h(t,y,"delete")?l.createElement(u,{ref:"btnUpload",docTypeId:m,onClick:this.onClickHandler,showDate:!1,show:!0,mimeTypes:".csv",value:"Kustuta kõik valitud tabelid?"}):null)}},{key:"onClickHandler",value:function(e){var t=this.refs.register,a=new Set,r="";switch(t.gridData&&t.gridData.length&&t.gridData.forEach(function(e){e.select&&a.add(e.id)}),a=Array.from(a),e){case"Kustuta kõik valitud tabelid?":a.length?(t.fetchData("delete",{docs:a}).then(function(e){e&&e.data&&e.data.result?(r="Kokku kustutatud "+e.data.result+" kirjad",t.setState({warning:""+r,warningType:"ok"})):e.error_message&&t.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"})}),setTimeout(function(){t.fetchData("selectDocs")},3e3)):t.setState({warning:"Mitte ühtegi tabel valitud",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=b},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"},position:"initial"},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=(a(11),a(10)),d=a(208),u=a(225),c=a(199),p=(a(72),a(221)),h=(a(244),a(203)),f=(a(164),a(246)),m=a(252),y=a(253),k=a(1),b=a(182).ASENDUS_TAABEL.LIBRARIES,g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={module:"lapsed",loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:e.lapsId?e.lapsId:e.match.params.paramId?+e.match.params.paramId:0},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleInput=a.handleInput.bind(a),a.pages=[{pageName:"Lapse asendus taabel",docTypeId:"ASENDUS_TAABEL"}],a.nomData=[],a}return i(t,e),l(t,[{key:"componentDidMount",value:function(){!this.state.lapsId&&k.laps&&this.setState({lapsId:k.laps})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.lapsId!==t.lapsId){var a=this.refs.document;a.createLibs()}}},{key:"render",value:function(){var e=(this.state.lapsId?"where lapsid = "+this.state.lapsId:"",this.props.initData?this.props.initData:{});return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"ASENDUS_TAABEL",module:this.state.module,initData:e,libs:b,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,recalcDoc:this.recalcDocSumma,history:this.props.history})}},{key:"renderer",value:function(e){if(!(e&&e.docData&&e.docData.loaded_data&&e.libs.nomenclature.length&&e.libs.lapse_grupp.length))return s.createElement("div",{style:m.doc},s.createElement(f,{label:"Laadimine..."}));e.docData.yksusid&&this.handleInput("yksusid",e.docData.yksusid,!0),this.nomData.length||(this.nomData=e.libs.nomenclature);try{var t=e.state.edited,a=new Date,r=a.getMonth(),n=a.getFullYear();return s.createElement("div",{style:m.doc},s.createElement("div",{style:m.docRow},s.createElement("div",{style:m.docColumn},s.createElement(c,{title:"Lapse viitenumber:",name:"viitenumber",value:e.docData.viitenumber||"",ref:"input-viitenumber",onChange:this.handleInput,readOnly:!t})),s.createElement("div",{style:m.docColumn},s.createElement("label",null,""+(e.docData.nimi?e.docData.nimi+","+e.docData.asutus:"Puudub")))),s.createElement("div",{style:m.docRow},s.createElement("div",{style:m.docColumn},s.createElement(p,{title:"Üksus:",name:"yksusid",libs:"lapse_grupp",data:e.libs.lapse_grupp,value:e.docData.yksusid||0,defaultValue:e.docData.yksys||"",ref:"select-lapse_grupp",collId:"id",btnDelete:t,onChange:this.handleInput,readOnly:!t}))),s.createElement("div",{style:m.docRow},s.createElement("div",{style:m.docColumn},s.createElement(p,{title:"Kood:",name:"nomid",libs:"nomenclature",data:this.nomData,value:+e.docData.nomid||0,defaultValue:e.docData.kood||"",ref:"nomid",collId:"id",placeholder:"Teenuse kood",onChange:this.handleInput,readOnly:!t}))),s.createElement("div",{style:m.docRow},s.createElement("div",{style:m.docColumn},s.createElement(u,{ref:"input-kogus",title:"Kogus:",name:"kogus",value:e.docData.kogus||"",readOnly:!t,onChange:this.handleInput}),s.createElement(u,{ref:"input-hind",title:"Hind:",name:"hind",onChange:this.handleInput,value:e.docData.hind||"",readOnly:!0}),s.createElement(u,{ref:"input-summa",title:"Summa:",name:"summa",onChange:this.handleInput,value:e.docData.summa||"",readOnly:!0}),s.createElement(u,{ref:"input-kuu",title:"Kuu:",name:"kuu",value:e.docData.kuu||+r,readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-aasta",title:"Aasta:",name:"aasta",value:e.docData.aasta||+n,readOnly:!t,onChange:e.handleInputChange}))),s.createElement("div",{style:m.docRow},s.createElement(h,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})))}catch(e){return s.createElement("div",null," Andmed ei ole laadidud, proovi uuesti")}}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"handleInput",value:function(e,t,a){var r=this,n=this.refs.document;switch(e){case"yksusid":var i=t,l=n.libs.lapse_grupp.find(function(e){return e.id==i}),s=[];k.libs&&i&&k.libs[i]&&k.libs[i].length&&(this.nomData=k.libs[l.id]),i&&l&&(s=(l.teenused&&n.libs.nomenclature.length>0?l.teenused:[]).map(function(e){var t=n.libs.nomenclature.find(function(t){return!!t.id&&t.id===+e.nomid});if(t&&t.id){var a=t.nimetus?t.nimetus+" (hind: "+(+e.hind).toFixed(2)+") ":"";return o({},t,{nimetus:a,id:+e.nomid})}return{id:+e.nomid,kood:"Ei kehti",nimetus:"Ei kehti",hind:0,kogus:0,kas_inf3:!1}}).sort(function(e,t){return e.kood.localeCompare(t.kood)}),s&&s.length?(this.nomData=s,k.libs[i]=s):this.nomData=[]);break;case"nomid":var d=this.nomData.find(function(e){return e.id==t});d&&d.id&&d.hind&&(n.docData.hind=+d.hind,n.docData.summa=y(+d.hind*+n.docData.kogus));break;case"kogus":n.docData.summa=+n.docData.hind*+t;break;case"viitenumber":if(10==t.length){var u="/newApi/task/getIsik";n.fetchData("Post",u,{doc_id:0,seisuga:null,kogus:0,viitenumber:t}).then(function(a){if(a.data&&a.data.error_code)n.setState({warning:a.data.error_message,warningType:"error"},function(){r.forceUpdate()});else try{n.docData.isikukood=a.data.data[0].isikukood,n.docData.nimi=a.data.data[0].nimi,n.docData.asutus=a.data.data[0].asutus,n.docData.lapsId=a.data.data[0].id,n.docData.parentid=a.data.data[0].id,n.handleInputChange(e,t)}catch(e){}})}else n.docData.isikukood=null,n.docData.nimi=null,n.docData.asutus=null,n.docData.lapsId=null}a||n.handleInputChange(e,t)}}]),t}(s.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"}}},,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(238),c=a(237),p=a(66),h=a(187),f=a(188),m=a(237),y=a(255),k="LAPSE_TAABEL",b=h[k]?h[k]:[],g=a(1),v=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,soodustus:0,vahe:0,kor_summa:0,read_kokku:0},a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:k,style:y,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:y.total,ref:"input-read",value:+this.state.read_kokku||0,disabled:!0}),l.createElement(d,{title:"Summa kokku:",name:"summa_kokku",style:y.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Soodustus kokku:",name:"soodustus_kokku",style:y.total,ref:"input-soodustus",value:(+this.state.soodustus).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Vahe kokku:",name:"vahe_kokku",style:y.total,ref:"input-vahe",value:(+this.state.vahe).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Kor. summa kokku:",name:"kor_summa_kokku",style:y.total,ref:"input-vahe",value:(+this.state.kor_summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=g.userData?g.userData.roles:[],a=e.gridData&&e.gridData.length?e.gridData.length:0,r=e.gridData&&e.gridData.length?e.gridData[0].summa_kokku:0,n=e.gridData&&e.gridData.length?e.gridData[0].soodustus_kokku:0,i=e.gridData&&e.gridData.length?e.gridData[0].vahe_kokku:0,o=e.gridData&&e.gridData.length?e.gridData[0].kor_summa_kokku:0;return this.setState({summa:r,read_kokku:a,soodustus:n,vahe:i,kor_summa:o}),l.createElement(p,null,f(t,b,"delete")?l.createElement(c,{ref:"btnUpload",docTypeId:k,onClick:this.onClickHandler,showDate:!1,show:!0,mimeTypes:".csv",value:"Kustuta kõik valitud tabelid?"}):null,f(t,b,"importTaabel")?l.createElement(u,{ref:"btnUpload",docTypeId:k,onClick:this.onClickHandler,show:!0,mimeTypes:".csv"}):null,l.createElement(m,{value:"Eksport (muu vaade)",onClick:this.onClickHandler,showDate:!1,ref:"btn-getcsv"}),f(t,b,"importAsendusTaable")?l.createElement(c,{ref:"btnImportAsendusTaable",docTypeId:k,onClick:this.onClickHandler,showDate:!0,show:!0,value:"Ülemineku tabel lastele"}):null)}},{key:"onClickHandler",value:function(e,t){var a=this,r=this.refs.register,n=new Set,i="";switch(r.gridData&&r.gridData.length&&r.gridData.forEach(function(e){e.select&&n.add(e.id)}),n=Array.from(n),e){case"Ülemineku tabel lastele":r.fetchData("calc/importAsendusTaabel",{seisuga:t}).then(function(e){if(e.result){i="task saadetud täitmisele",r.setState({warning:""+i,warningType:"ok"});var t=e.data.result.tulemused;a.setState({isReport:!0,txtReport:t})}else e.error_message?r.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):r.setState({warning:"Kokku impporteeritud : "+e.result+", "+i,warningType:"notValid"})}),setTimeout(function(){r.fetchData("selectDocs")},3e3);break;case"Kustuta kõik valitud tabelid?":n.length?(r.fetchData("delete",{docs:n}).then(function(e){e&&e.data&&e.data.result?(i="Kokku kustutatud "+e.data.result+" kirjad",r.setState({warning:""+i,warningType:"ok"})):e.error_message&&r.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"})}),setTimeout(function(){r.fetchData("selectDocs")},3e3)):r.setState({warning:"Mitte ühtegi tabel valitud",warningType:"notValid"});break;case"Eksport (muu vaade)":if(r.gridData&&r.gridData.length){var o=r.state.sqlWhere,l="/reports/"+k.toLowerCase()+"/"+g.userData.uuid,s=encodeURIComponent(""+o);window.open(l+"/"+s)}else r.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=v},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"},position:"initial"},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(11),s=a(10),d=a(208),u=a(225),c=a(72),p=a(221),h=a(244),f=a(203),m=a(164),y=a(246),k=a(257),b=a(1),g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));
return a.state={module:"lapsed",loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:e.lapsId?e.lapsId:e.match.params.paramId?+e.match.params.paramId:0},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.btnEditNomClick=a.btnEditNomClick.bind(a),a.btnEditLapsClick=a.btnEditLapsClick.bind(a),a.lapsIdChangehandler=a.lapsIdChangehandler.bind(a),a.recalcDocSumma=a.recalcDocSumma.bind(a),a.pages=[{pageName:"Lapse taabel",docTypeId:"LAPSE_TAABEL"}],a.nomData=[],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){!this.state.lapsId&&b.laps&&this.setState({lapsId:b.laps})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.lapsId!==t.lapsId){var a=this.refs.document;a.createLibs()}}},{key:"render",value:function(){var e=this.state.lapsId?"where lapsid = "+this.state.lapsId:"",t=[{id:"lapse_kaart",filter:e}],a=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"LAPSE_TAABEL",module:this.state.module,initData:a,libs:t,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,recalcDoc:this.recalcDocSumma,history:this.props.history})}},{key:"renderer",value:function(e){if(!(e&&e.docData&&e.docData.loaded_data&&e.state.loadedLibs))return s.createElement("div",{style:k.doc},s.createElement(y,{label:"Laadimine..."}));try{var t=[];this.state.lapsId&&0==e.docData.id&&!e.docData.parentid&&(e.docData.parentid=this.state.lapsId),e.docData.parentid&&e.libs.lapse_kaart&&(t=e.libs.lapse_kaart.length?e.libs.lapse_kaart.filter(function(t){return t.lapsid===e.docData.parentid}):[],setTimeout(1));var a=e.state.edited;0!==e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId),!this.state.lapsId&&e.docData.parentid&&this.setState({lapsId:e.docData.parentid});var r=new Date,n=r.getMonth(),i=r.getFullYear(),o=k.btnEditNom;return s.createElement("div",{style:k.doc},s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(h,{title:"Lapse nimi:",name:"parentid",libName:"laps",sqlFields:["nimi","isikukood"],data:[],value:e.docData.parentid||0,defaultValue:e.docData.nimi,boundToGrid:"nimi",boundToData:"nimi",ref:"select-parentid",btnDelete:!1,userData:e.userData,onChange:this.lapsIdChangehandler,readOnly:!a})),s.createElement("div",{style:k.docColumn},s.createElement(c,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditLapsClick,show:!a,style:o,disabled:!1}))),s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(p,{title:"Kood:",name:"lapse_kaart_id",libs:"lapse_kaart",data:t,value:e.docData.lapse_kaart_id||0,defaultValue:e.docData.nimetus,ref:"select-lapse_kaart_id",btnDelete:a,onChange:e.handleInputChange,readOnly:!a})),s.createElement("div",{style:k.docColumn},s.createElement(c,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditNomClick,show:!a,style:o,disabled:!1}))),s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(u,{ref:"input-kogus",title:"Kogus:",name:"kogus",value:e.docData.kogus||"",readOnly:!a,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-hind",title:"Hind:",name:"hind",value:e.docData.hind||"",readOnly:!0}),s.createElement(u,{ref:"input-soodustus",title:"Soodustus:",name:"soodustus",value:+e.docData.soodustus||"",readOnly:!a,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-summa",title:"Summa:",name:"summa",value:e.docData.summa||"",readOnly:!0}),s.createElement(u,{ref:"input-vahe",title:"Vahe:",name:"vahe",value:e.docData.vahe,readOnly:!a,onChange:e.handleInputChange}),s.createElement(m,{title:"Kas ümberarvestus?",name:"kas_umberarvestus",value:!!e.docData.kas_umberarvestus,ref:"checkbox_kas_umberarvestus",readOnly:!0}),s.createElement(u,{ref:"input-kuu",title:"Kuu:",name:"kuu",value:e.docData.kuu||+n,readOnly:!a,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-aasta",title:"Aasta:",name:"aasta",value:e.docData.aasta||+i,readOnly:!a,onChange:e.handleInputChange}))),s.createElement("div",{style:k.docRow},s.createElement(f,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!a})))}catch(e){return s.createElement("div",null," Andmed ei ole laadidud, proovi uuesti")}}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"handleGridBtnClick",value:function(e,t,a,r){switch(e){case"edit":this.props.history.push("/lapsed/"+r+"/"+a+"/0");break;case"add":this.props.history.push("/lapsed/"+r+"/0/"+this.state.docId)}}},{key:"btnEditNomClick",value:function(){var e=this.refs.document.docData.lapse_kaart_id;this.props.history.push("/lapsed/lapse_kaart/"+e)}},{key:"btnEditLapsClick",value:function(){var e=this.refs.document.docData.parentid;this.props.history.push("/lapsed/laps/"+e)}},{key:"lapsIdChangehandler",value:function(e,t){var a=this.refs.document;a.handleInputChange(e,t),a.createLibs()}},{key:"recalcDocSumma",value:function(){var e=this.refs.document;e.docData.summa=((+e.docData.hind-+e.docData.soodustus)*+e.docData.kogus).toFixed(2)}}]),t}(s.PureComponent);g.propTypes={docId:l.number,initData:l.object,userData:l.object},g.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(259),u="PAEVA_TAABEL",c=(a(1),function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={kogus:0},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer}))}},{key:"renderer",value:function(e){return null}}]),t}(l.PureComponent));e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),d=a(11),u=a(10),c="PAEVA_TAABEL",p=a(187),h=a(188),f=a(1),m=p[c]?p[c]:[],y=a(208),k=(a(225),a(72)),b=a(237),g=a(221),v=a(223),D=a(199),_=a(203),w=a(159),E=a(70),C=a(261),O=a(246),I=a(182)[c].LIBRARIES,x=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={module:"lapsed",loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,grupp_id:null,kpv:null,isRebuild:!1,isInit:!0,kogus:0,covid:0},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.handleGridRow=a.handleGridRow.bind(a),a.prepaireInitData=a.prepaireInitData.bind(a),a.handleGridCellClick=a.handleGridCellClick.bind(a),a.btnEditGruppClick=a.btnEditGruppClick.bind(a),a.handleHeaderClick=a.handleHeaderClick.bind(a),a.checkData=a.checkData.bind(a),a.pages=[{pageName:"Päeva taabel",docTypeId:c}],a.subtotals=["osalemine","covid"],a}return i(t,e),s(t,[{key:"componentDidMount",value:function(){!this.state.lapsId&&f.laps&&this.setState({lapsId:f.laps})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.lapsId!==t.lapsId){var a=this.refs.document;a.createLibs()}}},{key:"render",value:function(){this.state.lapsId?"where lapsid = "+this.state.lapsId:"";return u.createElement(y,{docId:this.state.docId,ref:"document",docTypeId:c,module:this.state.module,initData:this.props.initData,libs:I,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,history:this.props.history,isDisableSave:!this.state.docId,isGridDataSave:!0,trigger:this.checkData})}},{key:"prepaireInitData",value:function(e){e.docData.gridData&&e.docData.gridData.length&&e.docData.noms&&e.docData.noms.length&&(e.docData.noms.forEach(function(t){var a=e.docData.gridConfig.find(function(e){return e.id==t.nom_id+""});t.teenus&&!a&&e.docData.gridConfig.push({id:t.nom_id+"",name:t.teenus,width:"50px",type:"boolean"})}),e.docData.gridData=e.docData.gridData.map(function(e){return e.noms.forEach(function(t){e[t.nom_id+""]||(e[t.nom_id+""]=!!t.kogus)}),e}),this.setState({isInit:!1}))}},{key:"renderer",value:function(e){var t=this,a=e.state.edited,r=f.userData?f.userData.roles:[];if(!e||!e.docData||!e.state.loadedLibs)return u.createElement("div",{style:C.doc},u.createElement(O,{label:"Laadimine..."}));if(e.libs.lapse_grupp.length||setTimeout(function(){t.forceUpdate()},1),e.docData&&e.docData.gridData&&e.docData.gridData.length&&(this.state.isInit||!a)){this.prepaireInitData(e);var n=/^\d+$/;e.docData.gridConfig.forEach(function(e){n.test(e.id)&&(t.subtotals.some(function(t){return t==e.id})||t.subtotals.push(e.id))})}this.setState({grupp_id:e.docData.grupp_id,kpv:e.docData.kpv});var i=l({},C.grid.headerTable,C.grid);return u.createElement("div",{style:C.doc},u.createElement("div",{style:C.docRow},u.createElement("div",{style:C.docColumn},u.createElement(v,{title:"Kuupäev ",name:"kpv",value:e.docData.kpv,ref:"input-kpv",readOnly:!a,disabled:!!e.docData.id,onChange:e.handleInputChange})),u.createElement("div",{style:C.docColumn},u.createElement(D,{title:"Staatus",name:"status",value:e.docData.status||"",ref:"input-status",readOnly:!0}))),u.createElement("div",{style:C.docRow},u.createElement("div",{style:C.docColumn},u.createElement(g,{title:"Üksus:",name:"grupp_id",libs:"lapse_grupp",data:e.libs.lapse_grupp,value:e.docData.grupp_id||0,defaultValue:e.docData.yksys||"",ref:"select-lapse_grupp",collId:"id",btnDelete:a,onChange:e.handleInputChange,disabled:!!e.docData.id,readOnly:!a})),!e.docData.id&&e.docData.grupp_id&&h(r,m,"add")?u.createElement("div",{style:C.docColumn},u.createElement(b,{value:"Arvesta taabel ?",onClick:this.onClickHandler.bind("arvesta"),showDate:!1,style:C.BtnArvesta,ref:"btn-arvesta",key:"key-arvesta"})):null,u.createElement("div",{style:C.docColumn},h(r,m,"edit")?u.createElement(k,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditGruppClick,show:!a,style:C.btnEdit,disabled:!1}):null)),e.docData.id&&a?u.createElement("div",{style:C.docRow},u.createElement("div",{style:C.docColumn}),u.createElement("div",{style:C.docColumn},u.createElement(E,{onClick:this.onClickHandler.bind("muuda"),style:C.ButtonSetAll,value:'Kas muuta veeru "Eriarvestus" väärtust?',ref:"btn-muuda-covid",key:"key-muuda-covid"}))):null,u.createElement("div",{style:C.docRow},u.createElement(w,{source:"details",gridData:e.docData.gridData,gridColumns:e.docData.gridConfig,showToolBar:!1,handleGridRow:this.handleGridRow,onHeaderClick:this.handleHeaderClick,onClick:e.handleGridCellClick,readOnly:!a,style:i,isForUpdate:a,subtotals:this.subtotals,ref:"data-grid"})),e.docData.id?u.createElement("div",{style:C.docRow},u.createElement(_,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!a})):null)}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"onClickHandler",value:function(e,t){var a=this;if("Arvesta taabel ?"==e){var r=this.refs.document,n="/newApi/task/arvestaPaevaTaabel";r.fetchData("Post",n,{seisuga:this.state.kpv,docId:this.state.grupp_id}).then(function(e){if(e.data&&e.data.error_code)r.setState({warning:e.data.error_message,warningType:"error"},function(){a.forceUpdate()});else{var t=e.data&&e.data.result?e.data.result:null;if(t){var n="/lapsed/paeva_taabel/"+t;a.props.history.replace("/reload"),setTimeout(function(){a.props.history.replace(n)})}}})}else{var i=this.refs.document.docData.gridData;if(i){var o=!this.state.covid;i.forEach(function(e,t){e.osalemine||a.checkData(null,t,"covid",o)}),this.setState({covid:o})}}}},{key:"checkData",value:function(e,t,a,r){var n=this.refs.document.docData,i=this.refs.document.state.edited;if(!i)return!1;if(a&&"osalemine"==a){if(!n.gridData[t].osalemine){var l=!0,s=!1,d=void 0;try{for(var u,c=Object.entries(n.gridData[t])[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var p=u.value,h=o(p,2),f=h[0],m=h[1];!isNaN(f)&&m&&(n.gridData[t][f]=!m)}}catch(e){s=!0,d=e}finally{try{!l&&c.return&&c.return()}finally{if(s)throw d}}}n.gridData[t].osalemine&&n.gridData[t].covid&&(n.gridData[t].covid=0)}a&&"covid"==a&&(n.gridData[t].osalemine?n.gridData[t].covid=!r:n.gridData[t].covid=r)}},{key:"handleGridRow",value:function(e){this.setState({gridRowEdit:!0,gridRowEvent:e})}},{key:"handleHeaderClick",value:function(e){var t=this.refs.document.state.edited;if(t){var a=e[0].column;if(!isNaN(+a)){var r=this.refs.document.docData;r&&r.gridData&&r.gridData.length&&r.gridData.forEach(function(e){null!==e[a]&&void 0!==e[a]&&(e[a]=!e[a])})}}}},{key:"handleGridCellClick",value:function(e,t,a,r){gridData[a][r]=!gridData[a][r]}},{key:"btnEditGruppClick",value:function(){var e=this.refs.document.docData.grupp_id;this.props.history.push("/"+this.state.module+"/lapse_grupp/"+e)}}]),t}(u.PureComponent);x.propTypes={docId:d.number,initData:d.object,userData:d.object},x.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=x},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{tableLayout:"fixed",width:"-webkit-calc(100% + 16px)",borderCollapse:"collapse",marginBottom:"10px"},headerTable:{tableLayout:"fixed",width:"100%",borderCollapse:"collapse"},gridContainer:{width:"100%"},boolSumbol:{yes:{value:"✔",color:"#007300"},no:{value:null,color:"red"}}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"},ButtonSetAll:{width:"fit-content"},BtnArvesta:{width:"fit-content"},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(11),s=a(10),d=a(208),u=a(199),c=a(223),p=a(72),h=a(244),f=(a(221),a(203)),m=a(159),y=a(164),k=a(246),b=a(2),g=a(263),v=a(39),D=[],_=["ARV","SMK","VMK"],w=a(1),E=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:null,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handleLasteGridBtnClick=a.handleLasteGridBtnClick.bind(a),a.btnEditAsutusClick=a.btnEditAsutusClick.bind(a),a.setFilter=a.setFilter.bind(a),a.readBankName=a.readBankName.bind(a),a.pages=[{pageName:"Vanem kaart",docTypeId:"VANEM"}],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){if(this.props.history&&this.props.history.location.state){var e=this.props.history.location.state.lapsId,t=this.props.history.location.state.module;this.setState({lapsId:e,module:t})}}},{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"VANEM",history:this.props.history,module:this.state.module,userData:this.props.userData,initData:e,libs:D,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleLasteGridBtnClick})}},{key:"renderer",value:function(e){if(!e||"undefined"==e.docData.vanem_nimi)return s.createElement("div",{style:g.doc},s.createElement(k,{label:"Laadimine..."}));e.docData.iban&&this.readBankName(e);var t=e.state.edited,a=e.docData.lapsed,r=e.docData.gridConfig;if(this.state.lapsId&&(e.docData.parentid=this.state.lapsId),e.docData.vanem_nimi&&this.setFilter(e.docData.vanem_nimi),e.docData&&e.docData.asutusid&&!!e.docData.kas_email&&!e.docData.email){var n=this.refs.document.refs["select-asutusid"];n&&n.state&&(e.docData.email=n.state.email)}return s.createElement("div",{style:g.doc},e.docData&&e.docData.asutusid&&!!e.docData.kas_email&&!e.docData.email?s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.warning},"Puudub e-posti aadress")):null,s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.docColumn},s.createElement(h,{title:"Vanem:",name:"asutusid",libName:"asutused",history:this.props.history,sqlFields:["nimetus","regkood"],data:[],value:e.docData.asutusid||0,defaultValue:e.docData.vanem_nimi,boundToGrid:"nimetus",boundToData:"vanem_nimi",ref:"select-asutusid",btnDelete:!1,onChange:e.handleInputChange,readOnly:!t})),s.createElement("div",{style:g.docColumn},s.createElement(p,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditAsutusClick,show:!t,style:g.btnEdit,disabled:!1}))),s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.docColumn},s.createElement(u,{title:"Sugulus:",name:"suhtumine",value:e.docData.suhtumine||"",ref:"input-suhtumine",readOnly:!t,onChange:e.handleInputChange}),s.createElement(y,{title:"Arveldus:",name:"arved",value:!!e.docData.arved,ref:"checkbox_arved",onChange:e.handleInputChange,readOnly:!t}),e.docData.arved?s.createElement(y,{title:"Print paberil ?",name:"kas_paberil",value:!!e.docData.kas_paberil,ref:"checkbox_kas_paberil",onChange:e.handleInputChange,readOnly:!t}):null,e.docData.kas_lasteaed?s.createElement(y,{title:"Lapse seaduslik esindaja",name:"kas_esindaja",value:!!e.docData.kas_esindaja,ref:"checkbox_kas_esindaja",onChange:e.handleInputChange,readOnly:!t}):null)),s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.docColumn},e.docData.arved?s.createElement(y,{title:"Kas email ?",name:"kas_email",value:!!e.docData.kas_email,ref:"checkbox_kas_email",onChange:e.handleInputChange,readOnly:!t}):null,e.docData.arved&&!!e.docData.kas_email?s.createElement(c,{title:"Arveid saadatakse alates ",name:"email_alates",value:e.docData.email_alates||"",ref:"input-email_alates",onChange:e.handleInputChange,readOnly:!t}):null)),e.docData.arved?s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.docColumn},s.createElement(y,{title:"E-arve ?",name:"kas_earve",value:!!e.docData.kas_earve,ref:"checkbox_kas_earve",onChange:e.handleInputChange,readOnly:!t}))):null,e.docData.arved&&e.docData.kas_earve?s.createElement("div",{style:g.docRow},s.createElement("div",{style:g.docColumn},s.createElement(u,{title:"E-arve IBAN:",name:"iban",value:e.docData.iban||"",ref:"input-iban",readOnly:!t,onChange:e.handleInputChange})),s.createElement("div",{style:g.docColumn},s.createElement(u,{title:"E-arve pank:",name:"pank",value:e.docData.pank||"",ref:"input-pank",readOnly:!0}))):null,s.createElement("div",{style:g.docRow},s.createElement(f,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})),s.createElement("div",{style:g.docRow},s.createElement("label",{ref:"label"},"Lapsed")),s.createElement("div",{style:g.docRow},s.createElement(m,{source:"lapsed",gridData:a,gridColumns:r,showToolBar:!t,handleGridBtnClick:e.handleGridBtnClick,readOnly:!t,style:g.grid.headerTable,docTypeId:"laps",ref:"laspsed-data-grid"})))}},{key:"readBankName",value:function(e){if(e.docData.iban){var t=e.docData.iban.substring(4,6);switch(t){case"10":e.docData.pank="SEB";break;case"22":e.docData.pank="SWED";break;case"16":e.docData.pank="EESTI PANK";break;case"42":e.docData.pank="COOP";break;default:e.docData.pank=""}}}},{key:"handleLasteGridBtnClick",value:function(e,t,a,r){var n=this;switch(e){case"edit":this.props.history.push({pathname:"/lapsed/"+r+"/"+a,state:{vanemId:this.state.docId,module:this.state.module}});break;case"Muuda":this.props.history.push({pathname:"/lapsed/"+r+"/"+a,state:{vanemId:this.state.docId,module:this.state.module}});break;case"add":this.props.history.push({pathname:"/lapsed/"+r+"/0",state:{vanemId:this.state.docId,module:this.state.module}});break;case"delete":this.fetchData(r,a).then(function(e){var t=e&&e.status&&200===e.status?"Ok":"Error",a="Viga";t&&e.data&&e.data.error&&(t=!1,a=e.data.error_message);var r=n.refs.document;r.loadLibs("vanem"),"Ok"===t?r.setState({reloadData:!0,warning:"Kiri kustutatud",warningType:"ok"},function(){setTimeout(function(){var e=n.props.location.pathname;n.props.history.replace("/reload"),setTimeout(function(){n.props.history.replace(e)})},2e3)}):r.setState({reloadData:!1,warning:""+a,warningType:"error"})})}}},{key:"fetchData",value:function(e,t){var a="/newApi/delete",r={parameter:e,module:"lapsed",userId:w.userData.userId,uuid:w.userData.uuid,docId:t};return v.fetchDataPost(a,r)}},{key:"btnEditAsutusClick",value:function(){var e=this.refs.document.docData.asutusid;this.props.history.push("/lapsed/asutused/"+e)}},{key:"setFilter",value:function(e){_.forEach(function(t){w.filter[t]&&w.filter[t].length||(w.filter[t]=b(w.gridConfig[t],[],t)),w.filter[t].forEach(function(t){"asutus"==t.id&&(t.value=e)})})}}]),t}(s.PureComponent);E.propTypes={docId:l.number,initData:l.object,userData:l.object},E.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=E},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"},pank:{width:"30%"},warning:{backgroundColor:"lightcoral",width:"100%",textAlign:"left"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(265),u=a(238),c=a(66),p=a(199),h="VANEM",f=a(187),m=a(188),y=a(1),k=f[h]?f[h]:[],b=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){var e=y.userData?y.userData.roles:[],t={btnAdd:{show:!1,disabled:!1},btnEdit:{show:m(e,k,"edit"),disabled:!1},btnDelete:{show:m(e,k,"delete"),disabled:!1},btnPrint:{show:!0,disabled:!1}};return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:h,style:d,toolbarParams:t,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:d.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}))}},{key:"renderer",value:function(e){if(e&&e.gridData){var t=e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0;this.setState({read:t,filtri_read:e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:t})}var a=y.userData?y.userData.roles:[];return l.createElement(c,null,m(a,k,"importLepingud")?l.createElement(u,{ref:"btnUploadSwed",docTypeId:"import_leping_swed",onClick:this.handleClick,show:!0,value:"Loe panga lepingud (SWED)",mimeTypes:".csv"}):null,m(a,k,"importLepingud")?l.createElement(u,{ref:"btnUploadSeb",docTypeId:"import_leping_seb",onClick:this.handleClick,show:!0,value:"Loe panga lepingud (SEB)",mimeTypes:".csv"}):null,m(a,k,"importVanemateRegister")?l.createElement(u,{ref:"btnUpload",docTypeId:h,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null)}}]),t}(l.PureComponent);e.exports=b},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(238),u=a(66),c=a(302),p="LAPSE_GRUPP",h=a(187),f=a(188),m=a(1),y=h[p]?h[p]:[],k=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:p,style:c,render:this.renderer})}},{key:"renderer",value:function(){var e=m.userData?m.userData.roles:[];return l.createElement(u,null,f(e,y,"importGroups")?l.createElement(d,{ref:"btnUpload",docTypeId:p,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null)}},{key:"handleClick",value:function(e){var t=this.refs.register;return t?void(e&&(t.setState({warning:"Edukalt:  "+e+": ",warningType:"ok"}),setTimeout(function(){t.fetchData("selectDocs")},1e4))):null}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(11),s=a(10),d=a(1),u=a(208),c=a(199),p=a(221),h=a(225),f=a(203),m=a(159),y=a(157),k=a(304),b=a(182).LAPSE_GRUPP.LIBRARIES,g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,module:"lapsed"},a.renderer=a.renderer.bind(a),a.createGridRow=a.createGridRow.bind(a),a.gridValidateFields=a.gridValidateFields.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.pages=[{pageName:"Lapse grupp",docTypeId:"LAPSE_GRUPP"},{pageName:"Laste taabel",handlePageClick:a.handlePageClick,docTypeId:"LAPSE_TAABEL"}],a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(u,{docId:this.state.docId,ref:"document",module:this.state.module,docTypeId:"LAPSE_GRUPP",libs:b,userData:this.props.userData,pages:this.pages,initData:e,renderer:this.renderer,createGridRow:this.createGridRow,gridValidator:this.gridValidateFields,history:this.props.history,focusElement:"input-kood"})}},{key:"renderer",value:function(e){var t=e.state.edited;0!==e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId);var a=void 0;return e.gridRowData&&(a=e.gridRowData.id?e.gridRowData.id:null),e.docData&&e.docData.id&&d.libs&&d.libs[e.docData.id]&&delete d.libs[e.docData.id],s.createElement("div",{style:k.doc},s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(c,{title:"Kood:",name:"kood",value:e.docData.kood||"",
ref:"input-kood",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"Nimetus:",name:"nimetus",value:e.docData.nimetus||"",ref:"input-nimetus",readOnly:!t,onChange:e.handleInputChange}),s.createElement(p,{title:"Koolituse tüüp:",name:"tyyp",data:e.libs.koolituse_tyyp,value:e.docData.tyyp,ref:"tyyp",collId:"id",readOnly:!e.state.edited,onChange:e.handleInputChange}),s.createElement("label",null,"All üksused",s.createElement(c,{title:"",name:"all_yksus_1",value:e.docData.all_yksus_1||"",ref:"input-all_yksus_1",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"",name:"all_yksus_2",value:e.docData.all_yksus_2||"",ref:"input-all_yksus_2",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"",name:"all_yksus_3",value:e.docData.all_yksus_3||"",ref:"input-all_yksus_3",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"",name:"all_yksus_4",value:e.docData.all_yksus_4||"",ref:"input-all_yksus_4",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"",name:"all_yksus_5",value:e.docData.all_yksus_5||"",ref:"input-all_yksus_5",readOnly:!t,onChange:e.handleInputChange})))),s.createElement("div",{style:k.docRow},s.createElement(m,{source:"teenused",gridData:e.docData.gridData,gridColumns:e.docData.gridConfig,showToolBar:t,createGridRow:this.createGridRow,handleGridRow:e.handleGridRow,handleGridBtnClick:e.handleGridBtnClick,readOnly:!t,style:k.grid.headerTable,ref:"data-grid"})),s.createElement("div",{style:k.docRow},s.createElement(f,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})),e.state.gridRowEdit?this.createGridRow(e):null)}},{key:"createGridRow",value:function(e){var t=e.gridRowData?e.gridRowData:{},a="",r=a.length>0||!e.state.checked,n=["btnOk","btnCancel"];return r&&n.splice(0,1),t?s.createElement("div",{className:".modalPage"},s.createElement(y,{modalObjects:n,ref:"modalpage-grid-row",show:!0,modalPageBtnClick:e.modalPageClick,modalPageName:"Rea lisamine / parandamine"},s.createElement("div",{ref:"grid-row-container"},e.state.gridWarning.length?s.createElement("div",{style:k.docRow},s.createElement("span",null,e.state.gridWarning)):null,s.createElement("div",{style:k.docRow},s.createElement(p,{title:"Teenus",name:"nomid",libs:"nomenclature",data:e.libs.nomenclature,value:+t.nomid||0,defaultValue:t.kood||"",ref:"nomid",collId:"id",placeholder:"Teenuse kood",onChange:e.handleGridRowChange})),s.createElement("div",{style:k.docRow},s.createElement(h,{title:"Kogus: ",name:"kogus",value:+t.kogus||1,bindData:!1,ref:"kogus",onChange:e.handleGridRowInput})),s.createElement("div",{style:k.docRow},s.createElement(h,{title:"Hind: ",name:"hind",value:+t.hind||0,bindData:!1,ref:"hind",onChange:e.handleGridRowInput}))),s.createElement("div",null,s.createElement("span",null,a)))):s.createElement("div",null)}},{key:"gridValidateFields",value:function(){var e="",t=this.refs.document;if(t&&t.gridRowData){if(t.gridRowData&&!t.gridRowData.nomid&&(e+=" Puudub operatsioon"),t.gridRowData.nomid){var a=t.libs.nomenclature.find(function(e){return+e.id===+t.gridRowData.nomid});t.gridRowData.kood=a.kood,t.gridRowData.nimetus=a.nimetus,t.gridRowData.hind||(t.gridRowData.hind=a.hind)}t.gridRowData.kogus||(t.gridRowData.kogus=1)}return e}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.nimetus;this.props.history.push({pathname:"/lapsed/"+e,state:{yksus:t,type:"text"}})}}]),t}(s.PureComponent);g.propTypes={docId:l.number,initData:l.object,userData:l.object},g.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"},selectNom:{marginLeft:"10px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(195),p=a(191),h=a(1),f=a(306),m="TEATIS",y=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:m,style:f,render:this.renderer})}},{key:"renderer",value:function(){return l.createElement(u,null,l.createElement(d,{value:"Koosta teatised",onClick:this.onClickHandler,ref:"btn-teatis"}),l.createElement(c,{onClick:this.onClickHandler,ref:"btnEmail",value:"Email kõik valitud teatised"}),l.createElement(p,{onClick:this.onClickHandler,ref:"btnPrint",value:"Trükk kõik valitud teatised"}))}},{key:"onClickHandler",value:function(e,t){var a=this.refs.register,r=new Set;switch(e){case"Koosta teatised":a.fetchData("calc/koostaTeatis",{seisuga:t}).then(function(e){e.result?a.setState({warning:"Kokku arvestatud: "+e.result,warningType:"ok"}):e.error_message?a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):a.setState({warning:"0 dokumendid koostatud",warningType:"notValid"}),a.fetchData("selectDocs")});break;case"Email kõik valitud teatised":a.gridData.forEach(function(e){e.select&&r.add(e.id)}),r=Array.from(r),r.length?a.fetchData("email/teatis",r).then(function(e){e.result?(a.setState({warning:"Kokku saadetud teatised emailga: "+e.result,warningType:"ok"}),a.fetchData("selectDocs")):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"})}).catch(function(e){a.setState({warning:"Tekkis viga: "+e,warningType:"error"})}):a.setState({warning:"Mitte ühtegi dokument leidnum",warningType:"notValid"});break;case"Trükk kõik valitud teatised":if(a.gridData.forEach(function(e){e.select&&r.add(e.id)}),r=Array.from(r),r.length>0){a.setState({warning:"Leidsin "+r.length+" teatised printimiseks",warningType:"ok"},function(){a.fetchData("selectDocs")});var n="/multiple_print/"+m+"/"+h.userData.uuid+"/"+r;window.open(""+n)}else a.setState({warning:"Mitte ühtegi dokumend leidnum",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=y},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(11),s=a(10),d=a(208),u=a(244),c=a(223),p=a(199),h=a(72),f=a(203),m=a(231),y=a(308),k=[],b=(new Date,function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:null,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.btnEditAsutusClick=a.btnEditAsutusClick.bind(a),a.pages=[{pageName:"Teatis",docTypeId:"TEATIS"}],a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"TEATIS",history:this.props.history,module:this.state.module,userData:this.props.userData,initData:e,libs:k,pages:this.pages,renderer:this.renderer,focusElement:"input-number"})}},{key:"renderer",value:function(e){var t=e.state.edited;return e.docData.relations&&m(e),s.createElement("div",{style:y.doc},s.createElement("div",{style:y.docRow},s.createElement("div",{style:y.docColumn},s.createElement(p,{title:"Number:",name:"number",value:e.docData.number||"",ref:"input-number",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"Kuupäev ",name:"kpv",value:e.docData.kpv,ref:"input-kpv",readOnly:!t,onChange:e.handleInputChange}))),s.createElement("div",{style:y.docRow},s.createElement("div",{style:y.docColumn},s.createElement(u,{title:"Saaja:",name:"asutusid",libName:"asutused",sqlFields:["nimetus","regkood"],data:[],value:e.docData.asutusid||0,defaultValue:e.docData.asutus,boundToGrid:"nimetus",boundToData:"asutus",ref:"select-asutusid",btnDelete:!1,onChange:e.handleInputChange,readOnly:!t})),s.createElement("div",{style:y.docColumn},s.createElement(h,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditAsutusClick,show:!t,style:y.btnEdit,disabled:!1}))),s.createElement("div",{style:y.docRow},s.createElement(f,{title:"Sisu",name:"sisu",ref:"textarea-sisu",onChange:e.handleInputChange,value:e.docData.sisu||"",readOnly:!t})),s.createElement("div",{style:y.docRow},s.createElement(f,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})))}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.vanem_nimi;this.props.history.push({pathname:"/lapsed/"+e,state:{asutus:t,type:"text"}})}},{key:"btnEditAsutusClick",value:function(){var e=this.refs.document.docData.asutusid;this.props.history.push("/lapsed/asutused/"+e)}}]),t}(s.PureComponent));b.propTypes={docId:l.number,initData:l.object,userData:l.object},b.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=b},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(310),u="ASUTUSE_LIIK",c=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(223),p=a(203),h=a(312),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"ASUTUSE_LIIK",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(c,{title:"Kehtiv kuni:",name:"valid",value:e.docData.valid,ref:"input-valid",readOnly:!e.state.edited,onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(314),u="KOOLITUSE_TYYP",c=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(223),p=a(203),h=a(316),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"KOOLITUSE_TYYP",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(c,{title:"Kehtiv kuni:",name:"valid",value:e.docData.valid,ref:"input-valid",readOnly:!e.state.edited,onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(318),u="KOOLITUSE_LIIK",c=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(223),p=a(203),h=a(320),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"KOOLITUSE_LIIK",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(c,{title:"Kehtiv kuni:",name:"valid",value:e.docData.valid,ref:"input-valid",readOnly:!e.state.edited,onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(199),c=a(66),p=a(237),h=a(322),f="PANK_VV",m=a(187),y=(a(188),a(1)),k=(m[f]?m[f]:[],y.userData?y.userData.roles:[],a(269)),b=a(237),g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.Doc=null,a.renderer=a.renderer.bind(a),a.render=a.render.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.state={summa:0,read:0,filtri_read:0},a.makse={},a}return i(t,e),o(t,[{key:"render",value:function(){var e=void 0;this.Doc&&(e=this.Doc&&this.Doc.state?this.Doc.state:null);var t={btnAdd:{show:!1},btnEdit:{show:!0},btnDelete:{show:!0},btnPrint:{show:!1},btnStart:{show:!1}};return l.createElement("div",null,l.createElement(s,{history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:f,style:h,toolbarParams:t,render:this.renderer}),l.createElement(u,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}),l.createElement(d,{title:"Summa kokku:",name:"summa_kokku",style:h.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e)return null;this.Doc=e;var t=!1,a=this.Doc.state&&this.Doc.state.value?this.Doc.state.value:0;a&&(this.makse=this.Doc.gridData.find(function(e){return e.id==a}),this.makse&&!this.makse.doc_id&&(t=!0));var r=e.gridData?k(e.gridData,"summa"):0;return this.setState({summa:r,read:e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:this.state.read,filtri_read:e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0}),l.createElement(c,null,t?l.createElement(p,{showDate:!1,value:"Loe makse",onClick:this.onClickHandler,ref:"btn-loe_makse",key:"key-loe_makse"}):null,l.createElement(b,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"onClickHandler",value:function(e,t){var a=this.refs.register,r="Edukalt";if("Loe makse"==e&&a.fetchData("calc/loe_makse",{makse_id:this.makse.id}).then(function(e){e.result?e.result&&e.result.error_code?a.setState({warning:"Tekkis viga: "+e.result.error_message,warningType:"error"}):e.result.data[0].error_message?a.setState({warning:"Tekkis viga: "+e.result.data[0].error_message,warningType:"error"}):a.setState({warning:""+r,warningType:"ok"},function(){return a.fetchData("selectDocs")}):e.error_message?a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):a.setState({warning:"Kokku arvestatud : "+e.result+", "+r,warningType:"notValid"})}),"Saama CSV fail"==e){var n=this.refs.register;if(n.gridData&&n.gridData.length){var i=n.state.sqlWhere,o="/reports/pank_vv/"+y.userData.uuid,l=encodeURIComponent(""+i),s=encodeURIComponent(""+JSON.stringify(n.filterData)),d=i?o+"/"+s+"/"+l:o+"/"+s;window.open(d)}else n.setState({warning:"Tulemus 0",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},ButtonSearch:{width:"fit-content"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(223),p=a(244),h=a(225),f=a(203),m=a(72),y=a(193),k=a(246),b=a(324),g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1,isShowSearch:!1},a.renderer=a.renderer.bind(a),a.btnEditMKClick=a.btnEditMKClick.bind(a),a.searchSuccess=a.searchSuccess.bind(a),a.btnSearchClick=a.btnSearchClick.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"PANK_VV",module:this.props.module,initData:this.props.initData,userData:this.props.userData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history,reload:!0})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:b.doc},l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Pank ID ",name:"pank_id",ref:"input-pank_id",readOnly:!e.state.edited,value:e.docData.pank_id||"",onChange:e.handleInputChange}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(c,{title:"Maksepäev:",name:"valid",value:e.docData.kpv,ref:"input-kpv",readOnly:!e.state.edited,onChange:e.handleInputChange}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(h,{title:"Summa: ",name:"summa",value:+e.docData.summa,ref:"summa",readOnly:!e.state.edited,onChange:e.handleInputChange}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Viitenumber:",name:"viitenumber",ref:"input-viitenumber",readOnly:!e.state.edited,value:e.docData.viitenumber||"",onChange:e.handleInputChange})),l.createElement("div",{style:b.docColumn},l.createElement("label",null,"("+(e.docData.nimi?e.docData.nimi||","||e.docData.asutus:"Puudub")+")"))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Reg.(Isiku) kood:",name:"isikukood",ref:"input-isikukood",readOnly:!e.state.edited,value:e.docData.isikukood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Maksja:",name:"maksja",ref:"input-maksja",readOnly:!e.state.edited,value:e.docData.maksja||"",onChange:e.handleInputChange})),l.createElement("div",{style:b.docColumn},this.state.isShowSearch?l.createElement(p,{title:"Leia maksja:",name:"maksja",libName:"pank_vv",lisaParameter:!0,history:this.props.history,sqlFields:["maksja"],data:[],value:e.docData.maksja||"",defaultValue:e.docData.maksja,boundToGrid:"maksja",boundToData:"maksja",ref:"select-maksja",btnDelete:!1,onChange:this.searchSuccess,readOnly:!1}):l.createElement(y,{style:b.ButtonSearch,onClick:this.btnSearchClick}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Maksja AA:",name:"iban",ref:"input-iban",readOnly:!e.state.edited,value:e.docData.iban||"",onChange:e.handleInputChange}))),l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Pank:",name:"pank",ref:"input-pank",readOnly:!e.state.edited,value:e.docData.pank||"",onChange:e.handleInputChange}))),l.createElement("div",{
style:b.docRow},l.createElement(f,{title:"Selgitus",name:"selg",ref:"textarea-selg",onChange:e.handleInputChange,value:e.docData.selg||"",readOnly:!e.state.edited})),e.docData.doc_id?l.createElement("div",{style:b.docRow},l.createElement("div",{style:b.docColumn},l.createElement(u,{title:"Koostatud MK:",name:"number",ref:"input-number",readOnly:!0,value:e.docData.number||"",onChange:e.handleInputChange})),l.createElement("div",{style:b.docColumn},l.createElement(m,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditMKClick,show:!e.state.edited,style:b.btnEdit,disabled:!1}))):null):l.createElement("div",{style:b.doc},l.createElement(k,{label:"Laadimine..."}))}},{key:"btnEditMKClick",value:function(){var e=this.refs.document.docData.doc_id;this.props.history.push("/lapsed/smk/"+e)}},{key:"searchSuccess",value:function(){var e=this.refs.document.docData,t=this.refs.document.refs["select-maksja"],a=void 0;if(t&&t.state){var r=t.state.gridActiveRow;a=t.state.gridData[r]}a&&a.vn_s&&!e.viitenumber&&(e.viitenumber=a.vn_s,e.nimi=a.nimi),this.setState({isShowSearch:!this.state.isShowSearch})}},{key:"btnSearchClick",value:function(){this.setState({isShowSearch:!this.state.isShowSearch})}}]),t}(l.PureComponent);g.propTypes={docId:s.number,initData:s.object},g.defaultProps={initData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(246),p=a(244),h=a(1),f=a(326),m=[{id:"laps",filter:""}],y=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1,lapsId:null},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){var e=void 0;e=this.props.history&&this.props.history.location.state?this.props.history.location.state.lapsId:h.laps?h.laps:null,this.setState({lapsId:e})}},{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"VIITENR",module:this.props.module,initData:this.props.initData,userData:this.props.userData,libs:m,reload:!0,renderer:this.renderer,focusElement:"input-viitenumber",history:this.props.history})}},{key:"renderer",value:function(e){var t=this;if(!e.docData)return l.createElement("div",{style:f.doc},l.createElement(c,{label:"Laadimine..."}));if((!+e.docData.id||!e.docData.laps_id)&&this.state.lapsId){e.docData.laps_id=this.state.lapsId;var a=e.libs.laps.filter(function(e){return e.id==t.state.lapsId});a&&(e.docData.nimi=a.nimi,e.docData.isikukood=a.isikukood)}return l.createElement("div",{style:f.doc},l.createElement("div",{style:f.docRow},l.createElement("div",{style:f.docColumn},l.createElement(u,{title:"Asutus",name:"asutus",ref:"input-asutus",readOnly:!0,value:e.docData.asutus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:f.docRow},l.createElement("div",{style:f.docColumn},l.createElement(u,{title:"Viitenumber ",name:"viitenumber",ref:"input-viitenumber",readOnly:!e.state.edited,value:e.docData.viitenumber||"",onChange:e.handleInputChange}))),l.createElement("div",{style:f.docRow},l.createElement("div",{style:f.docColumn},l.createElement(p,{title:"Lapse nimi:",name:"laps_id",userData:e.userData,libName:"laps",sqlFields:["nimi","isikukood"],data:[],value:e.docData.laps_id||0,defaultValue:e.docData.nimi,boundToGrid:"nimi",boundToData:"nimi",ref:"select-isikukood",btnDelete:!1,onChange:e.handleInputChange,history:this.props.history,readOnly:!e.state.edited}))))}}]),t}(l.PureComponent);y.propTypes={docId:s.number,initData:s.object},y.defaultProps={initData:{}},e.exports=y},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(225),p=a(203),h=a(328),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"CONFIG",history:this.props.history,module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-number"})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Prefiks: ",name:"number",ref:"input-number",readOnly:!e.state.edited,value:e.docData.number||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Arvete tahtpäev ",name:"tahtpaev",ref:"input-tahtpaev",readOnly:!e.state.edited,value:e.docData.tahtpaev||"",onChange:e.handleInputChange}),l.createElement(c,{title:"Arve võlgnevuse limiit: ",name:"limiit",ref:"input-limiit",readOnly:!e.state.edited,value:e.docData.limiit||0,onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Omniva e-arvete server",name:"earved",ref:"textarea-earved",onChange:e.handleInputChange,value:e.docData.earved||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(159),p=a(203),h=a(157),f=a(221),m=a(164),y=a(330),k=a(182).REKV.LIB_OBJS,b=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a.createGridRow=a.createGridRow.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"REKV",history:this.props.history,module:this.props.module,libs:k,initData:this.props.initData,renderer:this.renderer,createGridRow:this.createGridRow})}},{key:"renderer",value:function(e){if(!e.docData)return null;var t=e.docData.gridData,a=e.docData.gridConfig;return l.createElement("div",{style:y.doc},l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Regkood: ",name:"regkood",ref:"input-regkood",readOnly:!e.state.edited,value:e.docData.regkood||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"KBM kood: ",name:"kbmkood",ref:"input-kbmkood",readOnly:!e.state.edited,value:e.docData.kbmkood||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Nimetus: ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Täis. nimetus: ",name:"muud",ref:"input-muud",readOnly:!e.state.edited,value:e.docData.muud||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(f,{title:"Asutuse liik:",name:"liik",data:e.libs.asutuse_liik,value:e.docData.liik||"",defaultValue:e.docData.liik||"",ref:"liik",collId:"kood",readOnly:!e.state.edited,onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(p,{title:"Aadress: ",name:"aadress",ref:"textarea-aadress",onChange:e.handleInputChange,value:e.docData.aadress||"",readOnly:!e.state.edited})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Juhataja: ",name:"juht",ref:"input-juht",readOnly:!e.state.edited,value:e.docData.juht||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Raamatupidaja: ",name:"raama",ref:"input-raama",readOnly:!e.state.edited,value:e.docData.raama||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Email: ",name:"email",ref:"input-email",readOnly:!e.state.edited,value:e.docData.email||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Omniva salasõna: ",name:"earved",ref:"input-earved",readOnly:!e.state.edited,value:e.docData.earved||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"E-arve asutuse reg.kood: ",name:"earve_regkood",ref:"input-earve_regkood",readOnly:!e.state.edited,value:e.docData.earve_regkood||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement("div",{style:y.docColumn},l.createElement(u,{title:"SEB e-arve aa: ",name:"seb_earve",ref:"input-seb_earve",readOnly:!e.state.edited,value:e.docData.seb_earve||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docColumn},l.createElement(u,{title:"SEB kasutaja tunnus: ",name:"seb",ref:"input-seb_parool",readOnly:!e.state.edited,value:e.docData.seb||"",onChange:e.handleInputChange}))),l.createElement("div",{style:y.docRow},l.createElement("div",{style:y.docColumn},l.createElement(u,{title:"SWED e-arve aa: ",name:"swed_earve",ref:"input-swed-earve",readOnly:!e.state.edited,value:e.docData.swed_earve||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docColumn},l.createElement(u,{title:"SWED kasutaja tunnus: ",name:"swed",ref:"input-swed_parool",readOnly:!e.state.edited,value:e.docData.swed||"",onChange:e.handleInputChange}))),l.createElement("div",{style:y.docRow},l.createElement(c,{source:"details",gridData:t,gridColumns:a,showToolBar:e.state.edited,handleGridRow:this.handleGridRow,handleGridBtnClick:e.handleGridBtnClick,readOnly:!e.state.edited,style:y.grid.headerTable,ref:"data-grid"})),e.state.gridRowEdit?this.createGridRow(e):null)}},{key:"createGridRow",value:function(e){var t=e.gridRowData?e.gridRowData:{},a="",r=a.length>0||!e.state.checked,n=["btnOk","btnCancel"];return r&&n.splice(0,1),t?l.createElement("div",{className:".modalPage"},l.createElement(h,{modalObjects:n,ref:"modalpage-grid-row",show:!0,modalPageBtnClick:e.modalPageClick,modalPageName:"Rea lisamine / parandamine"},l.createElement("div",{ref:"grid-row-container"},e.state.gridWarning.length?l.createElement("div",{style:y.docRow},l.createElement("span",null,e.state.gridWarning)):null,l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Number: ",name:"arve",value:t.arve||"",readOnly:!1,disabled:!1,bindData:!1,ref:"number",onChange:e.handleGridRowInput})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Nimetus: ",name:"nimetus",value:t.nimetus||"",readOnly:!1,disabled:!1,bindData:!1,ref:"number",onChange:e.handleGridRowInput})),l.createElement("div",{style:y.docRow},l.createElement(f,{title:"Tüüp: ",name:"kassapank",data:[{id:0,nimetus:"Kassa"},{id:1,nimetus:"Pank"},{id:2,nimetus:"TP"}],value:t.kassapank||"",ref:"kassapank",collId:"id",onChange:e.handleGridRowChange})),l.createElement("div",{style:y.docRow},l.createElement(f,{title:"Konto: ",name:"konto",data:e.libs.kontod,value:t.konto||"",ref:"konto",collId:"kood",onChange:e.handleGridRowChange})),l.createElement("div",{style:y.docRow},l.createElement(m,{title:"Kas põhiline?",name:"default_",value:!!t.default_,ref:"checkbox_default_",onChange:e.handleGridRowChange,readOnly:!1})),t.kassapank&&1==t.kassapank?l.createElement("div",{style:y.docRow},l.createElement(m,{title:"Kas tulud?",name:"kas_tulud",value:!!t.kas_tulud,ref:"checkbox_kas_tulud",onChange:e.handleGridRowChange,readOnly:!1}),l.createElement(m,{title:"Kas kulud?",name:"kas_kulud",value:!!t.kas_kulud,ref:"checkbox_kas_kulud",onChange:e.handleGridRowChange,readOnly:!1}),l.createElement(m,{title:"Kas palk?",name:"kas_palk",value:!!t.kas_palk,ref:"checkbox_kas_palk",onChange:e.handleGridRowChange,readOnly:!1})):null),l.createElement("div",null,l.createElement("span",null,a)))):l.createElement("div",null)}}]),t}(l.PureComponent);b.propTypes={docId:s.number,initData:s.object},b.defaultProps={initData:{}},e.exports=b},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(203),p=a(221),h=a(332),f=[{id:"kontod",filter:""}],m=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1,docTypeId:a.props.history.location.state?a.props.history.location.state.docPropId:""},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",history:this.props.history,libs:f,docTypeId:"DOKPROPS",initData:this.props.initData,renderer:this.renderer})}},{key:"renderer",value:function(e){return e.docData?(!e.docData.dok&&this.props.history&&(e.docData.dok=this.props.history.location.state.dokPropId),l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Dokument ",name:"dok",ref:"input-dok",readOnly:!0,value:e.docData.dok}),l.createElement(p,{title:"Korr. konto: ",name:"konto",libs:"kontod",data:e.libs.kontod,value:e.docData.konto||"",readOnly:!e.state.edited,ref:"select_konto",collId:"kood",onChange:e.handleInputChange}),l.createElement(p,{title:"KBM.konto: ",name:"kbmkonto",libs:"kontod",data:e.libs.kontod,value:e.docData.kbmkonto,readOnly:!e.state.edited,ref:"kbmkonto",collId:"kood",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Selgitus",name:"selg",ref:"textarea-selg",onChange:e.handleInputChange,value:e.docData.selg||"",readOnly:!e.state.edited})),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited})))):null}}]),t}(l.PureComponent);m.propTypes={docId:s.number,initData:s.object,userData:s.object},m.defaultProps={initData:{},userData:{}},e.exports=m},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(11),d=a(208),u=a(199),c=a(203),p=a(164),h=a(334),f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"USERID",module:this.props.module,initData:this.props.initData,renderer:this.renderer})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Kasutaja tunnus:  ",name:"kasutaja",ref:"input-kasutaja",readOnly:!0,value:e.docData.kasutaja||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Nimi: ",name:"ametnik",ref:"input-ametnik",readOnly:!e.state.edited,value:e.docData.ametnik||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email: ",name:"email",ref:"input-email",readOnly:!e.state.edited,value:e.docData.email||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Smtp: ",name:"smtp",ref:"input-smtp",readOnly:!e.state.edited,value:e.docData.smtp||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Port: ",name:"port",ref:"input-port",readOnly:!e.state.edited,value:e.docData.port||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email kasutaja: ",name:"user",ref:"input-user",readOnly:!e.state.edited,value:e.docData.user||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email parool: ",type:"password",name:"pass",ref:"input-pass",readOnly:!e.state.edited,value:e.docData.pass||"",onChange:e.handleInputChange}),l.createElement(p,{title:"Kas raamatupidaja?",name:"is_kasutaja",value:!!e.docData.is_kasutaja,ref:"checkbox_is_kasutaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas peakasutaja?",name:"is_peakasutaja",value:!!e.docData.is_peakasutaja,ref:"checkbox_is_peakasutaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas administraator?",name:"is_admin",value:!!e.docData.is_admin,ref:"checkbox_is_admin",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas vaatleja?",name:"is_vaatleja",value:!!e.docData.is_vaatleja,ref:"checkbox_is_vaatleja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas laste arvestaja?",name:"is_arvestaja",value:!!e.docData.is_arvestaja,ref:"checkbox_is_arvestaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse koostaja?",name:"is_eel_koostaja",value:!!e.docData.is_eel_koostaja,ref:"checkbox_is_eel_koostaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse allkriastaja?",name:"is_eel_allkirjastaja",value:!!e.docData.is_eel_allkirjastaja,ref:"checkbox_is_eel_allkirjastaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse esitaja?",name:"is_eel_esitaja",value:!!e.docData.is_eel_esitaja,ref:"checkbox_is_eel_esitaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas asutuste korraldaja?",name:"is_asutuste_korraldaja",value:!!e.docData.is_asutuste_korraldaja,ref:"checkbox_is_asutuste_korraldaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas rekl.maksu administraator?",name:"is_rekl_administrator",value:!!e.docData.is_rekl_administrator,ref:"checkbox_is_rekl_administrator",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas rekl.maksu haldur?",name:"is_rekl_maksuhaldur",value:!!e.docData.is_rekl_maksuhaldur,ref:"checkbox_is_rekl_maksuhaldur",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas ladu kasutaja?",name:"is_ladu_kasutaja",value:!!e.docData.is_ladu_kasutaja,ref:"checkbox_is_ladu_kasutaja",onChange:e.handleInputChange,readOnly:!0}))),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object},f.defaultProps={initData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=(a(11),a(39)),d=a(1),u=a(199),c=a(209),p=a(195),h=a(192),f=a(66),m=a(203),y=a(73),k=a(336),b=a(38),g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={email:null,subject:null,context:null,attachment:null,warningType:null,warning:null,warningStyle:""},a.btnEmailClickHandler=a.btnEmailClickHandler.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.handleBtnGetPdf=a.handleBtnGetPdf.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){var e=!!this.state.email,t=k[this.state.warningType]?k[this.state.warningType]:null,a={btnStart:{show:!0},btnLogin:{show:!0,disabled:!1},btnAccount:{show:!0,disabled:!1}};return l.createElement("div",null,l.createElement(b,{params:a,ref:"menu",history:this.props.history,rekvId:d.getAsutusId,module:this.props.module}),l.createElement(c,null,l.createElement(f,null,l.createElement(p,{ref:"btnEmail",docTypeId:d.docTypeId,onClick:this.btnEmailClickHandler,disabled:!e}),l.createElement(y,{ref:"btnInfo",value:"",docTypeId:"email_document",show:!0})),l.createElement(f,{ref:"toolbar-container"},l.createElement("div",{className:"doc-toolbar-warning",style:t},this.state.warning?l.createElement("span",null,this.state.warning):null)),l.createElement(u,{title:"Adressaat: ",name:"email",ref:"input-email",value:this.state.email||"",onChange:this.handleInputChange}),l.createElement(u,{title:"Pealkiri: ",name:"subject",ref:"input-subject",value:this.state.subject||"",onChange:this.handleInputChange}),l.createElement(m,{title:"Sisu",name:"context",ref:"textarea-context",onChange:this.handleInputChange,value:this.state.context||""}),l.createElement(h,{value:"doc.pdf",name:"btnGetPdf",ref:"btnGetPdf",onClick:this.handleBtnGetPdf})))}},{key:"handleBtnGetPdf",value:function(){var e=void 0;if("id"==d["email-params"].queryType)e="/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/"+d["email-params"].docId,window.open(""+e);else{var t=encodeURIComponent(""+d["email-params"].sqlWhere),a=encodeURIComponent(""+JSON.stringify(d["email-params"].filterData));e=d["email-params"].filterData.length?"/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/"+a:"/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/0",window.open(e+"/"+t)}}},{key:"handleInputChange",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:"btnEmailClickHandler",value:function(){var e=this,t={docTypeId:d["email-params"].docTypeId,id:"id"==d["email-params"].queryType?d["email-params"].docId:null,sqlWhere:"id"==d["email-params"].queryType?null:d["email-params"].sqlWhere,filterData:"id"==d["email-params"].queryType?null:d["email-params"].filterData,module:d.module,userId:d.userData.userId,uuid:d.userData.uuid,context:this.state.context,email:this.state.email,subject:this.state.subject};this.setState({warning:"Email saadetakse ...",warningType:"notValid"}),this.fetchData("Post","/email/sendPrintForm",t).then(function(t){200===t.status?e.setState({warning:"Email saadetud edukalt, suunatan ...",warningType:"ok"},function(){setTimeout(function(){e.props.history.goBack()},1e4)}):(t.error_message?errorMessage=t.error_message:errorMessage=t.data.result.error_message?t.data.result.error_message:"",e.setState({warning:"Tekkis viga, "+errorMessage,warningType:"error"},function(){return setTimeout(function(){},1e4)}))}).catch(function(t){e.setState({warning:"Tekkis viga "+t.error,warningType:"error"})})}},{key:"fetchData",value:function(e,t,a){var r=this,n=t?t:URL+"/"+this.props.docTypeId+"/"+this.state.docId,i="fetchDataPost";return e&&(i="fetchData"+e),new Promise(function(e,t){s[i](n,a).then(function(a){return a.status&&401===a.status&&(document.location="/login"),a.data?(a.data.action&&"select"===a.data.action&&(r.docData=a.data.data[0],a.data.data[0].requiredFields&&(r.requiredFields=a.data.data[0].requiredFields),a.data.data[0].bpm&&(r.bpm=a.data.data[0].bpm),r.setState({reloadData:!1,warning:"",warningType:null}),e(a.data.data[0])),a.data.action&&"save"===a.data.action&&a.data.result.error_code?(r.setState({warning:"Tekkis viga "+a.data.result.error_message,warningType:"error"}),t()):e(a.data)):(r.setState({warning:"Tekkis viga "+(a.data.error_message?a.data.error_message:""),warningType:"error"}),t())})},function(e){return r.props.history&&r.props.history.push("/login"),rejected()})}}]),t}(l.Component);e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},ok:{backgroundColor:"lightgreen",width:"100%",textAlign:"right"},error:{backgroundColor:"lightcoral",width:"100%",textAlign:"right"},notValid:{backgroundColor:"yellow",width:"100%",textAlign:"right"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(338),c=a(66),p=a(269),h=a(225),f=a(340),m="INF3",y=a(1),k={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},b=a(182).INF3_ANALUUS.CONFIG,g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.setFilterData=a.setFilterData.bind(a),a.state={summa:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:k,docTypeId:m,style:f,render:this.renderer}),l.createElement(h,{title:"Read kokku:",name:"read_kokku",style:f.total,ref:"input-read",value:(+this.state.read).toFixed(2)||0,disabled:!0}),l.createElement(h,{title:"Summa kokku:",name:"summa_kokku",style:f.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?p(e.gridData,"summa"):0;t&&this.setState({summa:t,read:e.gridData.length});var a=" where false",r=e.state.idx,n=e.gridData[r];return n&&(a=this.setFilterData(n)),l.createElement(c,null,l.createElement(d,{value:"Saama XML fail",showDate:!1,onClick:this.onClickHandler,ref:"btn-getXml"}),l.createElement(u,{value:"Rea analüüs",onClick:this.onClickHandler,ref:"btn-analuus",sqlWhere:a,filterData:b}))}},{key:"setFilterData",value:function(e){var t="where kas_inf3 = 'JAH' and lapse_isikukood ilike '%"+e.lapse_isikukood+"%' and number not ilike '%INF3 deklaratsioon%'",a=b.findIndex(function(e){return"kpv"===e.id}),r=b.findIndex(function(e){return"aasta"===e.id}),n=b.findIndex(function(e){return"lapse_isikukood"===e.id}),i=b.findIndex(function(e){return"maksja_isikukood"===e.id});return b[r].value=e.aasta,b[n].value=e.lapse_isikukood,b[i].value=e.maksja_isikukood,b[a].kpv_start=e.aasta+"-01-01","2023-01-01"===b[a].kpv_start&&(b[a].kpv_start="2022-12-31"),b[a].kpv_end=e.aasta+"-12-31",b[a].value=b[a].kpv_start,b[a].start=b[a].kpv_start,b[a].end=b[a].kpv_end,t}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if("Saama XML fail"==e)if(t.gridData&&t.gridData.length){
var a=t.state.sqlWhere,r="/reports/inf3/"+y.userData.uuid,n=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?r+"/"+i+"/"+n:r+"/"+i;window.open(o)}else t.setState({warning:"Mitte ühtegi INF teenused leidnum",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=g},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=(a(11),a(219),a(157)),d=a(69),u=a(70),c=a(159),p=a(66),h=a(339),f="INF3_ANALUUS",m=a(182)[f].CONFIG,y=a(1),k=a(39),b="execute",g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showModal:!1,gridData:[],config:m,sqlWhere:e.sqlWhere,filterData:e.filterData,dataLoaded:!1,warning:"",warningType:""},a.handleClick=a.handleClick.bind(a),a.modalPageClick=a.modalPageClick.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.fetchData=a.fetchData.bind(a),a}return i(t,e),o(t,[{key:"handleClick",value:function(e){this.setState({showModal:!0,gridData:[]})}},{key:"render",value:function(){this.state.showModal&&!this.state.dataLoaded&&this.fetchData();var e=this.props.value?this.props.value:"Täitmine",t="style"in this.props?this.props.style:{},a=Object.assign({},h,t),r=this.state.warningType&&h[this.state.warningType]?h[this.state.warningType]:null;return l.createElement("div",null,l.createElement(u,{show:!0,value:e,ref:"btnTask",style:a,disabled:!1,onClick:this.handleClick},l.createElement("img",{ref:"image",src:d.icons[b]})),this.state.showModal?l.createElement(s,{modalPageBtnClick:this.modalPageClick,modalPageName:e,show:!0,modalObjects:["btnOk"]},this.state.warning?l.createElement(p,{ref:"toolbar-container"},l.createElement("div",{style:r},l.createElement("span",null,this.state.warning))):null,l.createElement(c,{ref:"dataGrid",style:a.grid.mainTable,gridData:this.state.gridData,gridColumns:this.state.config})):null)}},{key:"modalPageClick",value:function(e){this.setState({showModal:!1,dataLoaded:!1})}},{key:"handleInputChange",value:function(e,t){switch(e){case"kpv":this.setState({seisuga:t});break;case"kogus":this.setState({kogus:t});break;case"kas_kond":this.setState({kas_kond:t})}}},{key:"fetchData",value:function(){var e=this;this.setState({warning:"Töötan...",warningType:"notValid"}),y.paring_id++;var t="/newApi",a={parameter:f,docTypeId:f,method:"selectDocs",sqlWhere:this.props.sqlWhere,filterData:this.props.filterData,userId:y.getUserId,uuid:y.getUuid,module:"Lapsed",limit:1e3,sortBy:[{column:"kpv",direction:"asc",type:"date"}],paring_id:y.paring_id};k.fetchDataPost(t,a).then(function(t){if(t.status&&401==t.status&&(document.location="/login"),t&&t.data.paring_id===y.paring_id){var a="Edukalt";t.data&&t.data.result&&t.data.result.error_message&&(a=t.data.result.error_message),e.setState({gridData:t.data.result.data,dataLoaded:!0,warning:a,warningType:"ok"})}}).catch(function(t){e.setState({warning:""+t,warningType:"error"}),t&&(document.location="/login")})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.sqlWhere!==t.sqlWhere?{sqlWhere:e.sqlWhere}:null}}]),t}(l.PureComponent);g.defaultProps={disabled:!1,show:!0,showDate:!0,showKogus:!1,showKond:!1},e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{tableLayout:"fixed",position:"relative",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"},minHeight:"50px",marginBottom:"10px"},headerTable:{tableLayout:"fixed"}},ok:{backgroundColor:"lightgreen",width:"100%",textAlign:"right"},error:{backgroundColor:"lightcoral",width:"100%",textAlign:"right"},notValid:{backgroundColor:"yellow",width:"100%",textAlign:"right"}}},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(342),h="INF3_ANALUUS",f=a(1),m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0,summa:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:h,style:p,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:p.total,ref:"input-read",value:(+this.state.read).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Summa kokku:",name:"summa_kokku",style:p.total,ref:"input-read",value:+this.state.summa||0,disabled:!0}))}},{key:"renderer",value:function(e){if(e&&e.gridData&&e.gridData.length){var t=e.gridData?e.gridData[0].summa_total:0;this.setState({read:e.gridData.length,summa:t})}else this.setState({read:0,summa:0});return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",showDate:!1,onClick:this.onClickHandler,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,r="/reports/inf3_analuus/"+f.userData.uuid,n=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?r+"/"+i+"/"+n:r+"/"+i;window.open(o)}else t.setState({warning:"Andmed ei ole",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=y},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(269),c=a(344),p="LAPS_KOKKUVOTTE",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,tasutud:0,mahakandmine:0,jaak:0,read:0},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Arve summa kokku:",name:"summa_kokku",style:c.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Tasutud kokku:",name:"tasutud_kokku",style:c.total,ref:"input-tasutud",value:(+this.state.tasutud).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Mahakantud kokku:",name:"mahakandmine_kokku",style:c.total,ref:"input-mahakandmine",value:(+this.state.mahakandmine).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Jääk kokku:",name:"jaak_kokku",style:c.total,ref:"input-jaak",value:(+this.state.jaak).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"summa"):0,a=e.gridData?u(e.gridData,"tasutud"):0,r=e.gridData?u(e.gridData,"mahakandmine"):0,n=e.gridData?u(e.gridData,"jaak"):0;return t&&this.setState({summa:t,tasutud:a,mahakandmine:r,jaak:n,read:e.gridData.length}),l.createElement("div",null)}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=(a(225),a(199),a(269),a(346)),u="LAPS_KV_KAIBED",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={alg_db:0,alg_kr:0,db:0,kr:0,mahakantud:0,lopp_db:0,lopp_kr:0,read:0,filtri_read:0},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:c,docTypeId:u,style:d,render:this.renderer}))}},{key:"renderer",value:function(e){return e&&e.gridData&&e.gridData.length?l.createElement("div",null):(this.setState({db:0,kr:0,mahakantud:0,read:0,filtri_read:0}),null)}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(268),h=a(269),f=a(1),m=a(348),y=[{name:"Saama CSV fail",method:null,docTypeId:null},{name:"Saama XML e-arved (SEB) kõik valitud arved",method:null,docTypeId:null},{name:"Saama XML e-arved (SWED) kõik valitud arved",method:null,docTypeId:null}],k="ARVED_KOODI_JARGI",b={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},g=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,read:0},a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:b,docTypeId:k,style:m,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:m.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Summa kokku:",name:"summa_kokku",style:m.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?h(e.gridData,"summa"):0,a=e.gridData?e.gridData.length:0;return t&&this.setState({summa:t,read:a}),l.createElement(u,null,l.createElement(p,{onClick:this.onClickHandler,docTypeId:k,phrase:"Kas laadida XML (SWED) fail?",ref:"btnEarveSwedXML",value:y[2].name}),l.createElement(p,{onClick:this.onClickHandler,docTypeId:k,phrase:"Kas laadida XML (SEB) fail?",ref:"btnEarveSebXML",value:y[1].name}),l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getcsv"}))}},{key:"onClickHandler",value:function(e){var t=this.refs.register,a=new Set;switch(e){case y[0].name:if(t.gridData&&t.gridData.length){var r=t.state.sqlWhere,n="/reports/arved_koodi_jargi/"+f.userData.uuid,i=encodeURIComponent(""+r),o=encodeURIComponent(""+JSON.stringify(t.filterData)),l=r?n+"/"+o+"/"+i:n+"/"+o;window.open(l)}else t.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"});case y[1].name:if(t.gridData.forEach(function(e){e.pank&&"SEB"==e.pank&&e.select&&+e.summa>0&&a.add(e.id)}),a=Array.from(a),a.length){t.setState({warning:"Leidsin "+a.length+" arveid",warningType:"ok"});var s="/e-arved/seb/"+f.userData.uuid+"/"+a;window.open(""+s)}else t.setState({warning:"Mitte ühtegi arve leidnum",warningType:"notValid"});break;case y[2].name:if(t.gridData.forEach(function(e){e.select&&e.pank&&"SWED"==e.pank&&+e.summa>0&&a.add(e.id)}),a=Array.from(a),a.length){t.setState({warning:"Leidsin "+a.length+" arveid",warningType:"ok"});var d="/e-arved/swed/"+f.userData.uuid+"/"+a;window.open(""+d)}else t.setState({warning:"Mitte ühtegi arve leidnum",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(199),h=(a(246),a(350)),f="SALDO_JA_KAIVE",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=a(1),k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={alg_saldo:0,arvestatud:0,arv_kokku:0,umberarvestus:0,soodustus:0,laekumised:0,mahakantud:0,tagastused:0,jaak:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Alg.saldo kokku:",name:"alg_saldo_kokku",style:h.total,ref:"input-read",value:+this.state.alg_saldo||0,disabled:!0}),l.createElement(c,{title:"Arvestatud kokku:",name:"arvestatud_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.arvestatud||0,disabled:!0}),l.createElement(c,{title:"Soodustus kokku:",name:"soodustus_kokku",style:h.total,ref:"input-soodustus",value:+this.state.soodustus||0,disabled:!0}),l.createElement(c,{title:"Ümberarvestus kokku:",name:"umberarvestus_kokku",style:h.total,ref:"input-umberarvestus",value:+this.state.umberarvestus||0,disabled:!0}),l.createElement(c,{title:"Kokku arvestatud (kokku)",name:"arv_kokku",style:h.total,ref:"input-arv_kokku",value:(+this.state.arvestatud+ +this.state.soodustus+ +this.state.umberarvestus).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Laekumised kokku:",name:"laekumised_kokku",style:h.total,ref:"input-laekumised",value:+this.state.laekumised||0,disabled:!0}),l.createElement(c,{title:"Tagastused kokku:",name:"tagastused_kokku",style:h.total,ref:"input-tagastused",value:+this.state.tagastused||0,disabled:!0}),l.createElement(c,{title:"Mahakantud kokku:",name:"mahakantud_kokku",style:h.total,ref:"input-mahandmine",value:+this.state.mahakantud||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:h.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({alg_saldo:0,arvestatud:0,umberarvestus:0,soodustus:0,arv_kokku:0,arv_ja_soodustus:0,laekumised:0,mahakantud:0,tagastused:0,jaak:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].alg_saldo_total:0,a=e.gridData?e.gridData[0].arvestatud_total:0,r=e.gridData?e.gridData[0].umberarvestus_total:0,n=e.gridData?e.gridData[0].soodustus_total:0,i=e.gridData?e.gridData[0].arv_ja_soodustus_total:0,o=e.gridData?e.gridData[0].laekumised_total:0,s=e.gridData?e.gridData[0].mahakantud_total:0,c=e.gridData?e.gridData[0].tagastused_total:0,p=e.gridData?e.gridData[0].jaak_total:0,h=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,f=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;return this.setState({alg_saldo:t,arvestatud:a,umberarvestus:r,soodustus:n,arv_kokku:a+n+r,arv_ja_soodustus:i,laekumised:o,mahakantud:s,tagastused:c,jaak:p,read:h,filtri_read:f}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/saldo_ja_kaive/"+y.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(199),h=(a(246),a(352)),f="SALDO_JA_KAIBEANDMIK",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=a(1),k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.state={alg_db:0,alg_kr:0,db:0,kr:0,mahakantud:0,lopp_db:0,lopp_kr:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Alg.db kokku:",name:"alg_db_kokku",style:h.total,ref:"input-read",value:+this.state.alg_db||0,disabled:!0}),l.createElement(c,{title:"Alg.kr kokku:",name:"alg_kr_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.alg_kr||0,disabled:!0}),l.createElement(c,{title:"Deebet kokku:",name:"db_kokku",style:h.total,ref:"input-db_kokku",value:+this.state.db||0,disabled:!0}),l.createElement(c,{title:"Kreedit kokku:",name:"kr_kokku",style:h.total,ref:"input-kr_kokku",value:+this.state.kr||0,disabled:!0}),l.createElement(c,{title:"Mahakantud kokku:",name:"mahakantud_kokku",style:h.total,ref:"input-mahandmine",value:+this.state.mahakantud||0,disabled:!0}),l.createElement(c,{title:"Lõpp db. kokku:",name:"lopp_db_kokku",style:h.total,ref:"input-laekumised",value:+this.state.lopp_db||0,disabled:!0}),l.createElement(c,{title:"Lõpp kr. kokku:",name:"kr_kokku",style:h.total,ref:"input-kr_kokku",value:+this.state.lopp_kr||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({alg_db:0,alg_kr:0,db:0,kr:0,mahakantud:0,lopp_db:0,lopp_kr:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].alg_db_total:0,a=e.gridData?e.gridData[0].alg_kr_total:0,r=e.gridData?e.gridData[0].db_total:0,n=e.gridData?e.gridData[0].kr_total:0,i=e.gridData?e.gridData[0].mahakantud_total:0,o=e.gridData?e.gridData[0].lopp_db_total:0,s=e.gridData?e.gridData[0].lopp_kr_total:0,c=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,p=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;return this.setState({alg_db:t,alg_kr:a,db:r,kr:n,mahakantud:i,lopp_db:o,lopp_kr:s,read:c,filtri_read:p}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/saldo_ja_kaibeandmik/"+y.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=(a(237),a(66),a(225)),u=a(199),c=(a(246),a(354)),p="SALDO_JA_KA_KOKKU",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=(a(1),function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={alg_db:0,alg_kr:0,db:0,kr:0,mahakantud:0,lopp_db:0,lopp_kr:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(u,{title:"Filtri all / read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Alg.db kokku:",name:"alg_db_kokku",style:c.total,ref:"input-read",value:+this.state.alg_db||0,disabled:!0}),l.createElement(d,{title:"Alg.kr kokku:",name:"alg_kr_kokku",style:c.total,ref:"input-arvestatud",value:+this.state.alg_kr||0,disabled:!0}),l.createElement(d,{title:"Deebet kokku:",name:"db_kokku",style:c.total,ref:"input-db_kokku",value:+this.state.db||0,disabled:!0}),l.createElement(d,{title:"Kreedit kokku:",name:"kr_kokku",style:c.total,ref:"input-kr_kokku",value:+this.state.kr||0,disabled:!0}),l.createElement(d,{title:"Mahakantud kokku:",name:"mahakantud_kokku",style:c.total,ref:"input-mahandmine",value:+this.state.mahakantud||0,disabled:!0}),l.createElement(d,{title:"Lõpp db. kokku:",name:"lopp_db_kokku",style:c.total,ref:"input-laekumised",value:+this.state.lopp_db||0,disabled:!0}),l.createElement(d,{title:"Lõpp kr. kokku:",name:"kr_kokku",style:c.total,ref:"input-kr_kokku",value:+this.state.lopp_kr||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({alg_db:0,alg_kr:0,db:0,kr:0,mahakantud:0,lopp_db:0,lopp_kr:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].alg_db_total:0,a=e.gridData?e.gridData[0].alg_kr_total:0,r=e.gridData?e.gridData[0].db_total:0,n=e.gridData?e.gridData[0].kr_total:0,i=e.gridData?e.gridData[0].mahakantud_total:0,o=e.gridData?e.gridData[0].lopp_db_total:0,l=e.gridData?e.gridData[0].lopp_kr_total:0,s=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,d=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;return this.setState({alg_db:t,alg_kr:a,db:r,kr:n,mahakantud:i,lopp_db:o,lopp_kr:l,read:s,filtri_read:d}),null}}]),t}(l.PureComponent));e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(199),h=(a(246),a(356)),f="KAIVE_ARUANNE",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=a(1),k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={alg_saldo:0,arvestatud:0,arv_kokku:0,umberarvestus:0,soodustus:0,laekumised:0,mahakantud:0,tagastused:0,ulekanned:0,jaak:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Alg.saldo kokku:",name:"alg_saldo_kokku",style:h.total,ref:"input-read",value:+this.state.alg_saldo||0,disabled:!0}),l.createElement(c,{title:"Arvestatud kokku:",name:"arvestatud_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.arvestatud||0,disabled:!0}),l.createElement(c,{title:"Soodustus kokku:",name:"soodustus_kokku",style:h.total,ref:"input-soodustus",value:+this.state.soodustus||0,disabled:!0}),l.createElement(c,{title:"Ümberarvestus kokku:",name:"umberarvestus_kokku",style:h.total,ref:"input-arv_kokku",value:+this.state.umberarvestus||0,disabled:!0}),l.createElement(c,{title:"Kokku arvestatud (kokku)",name:"arv_kokku",style:h.total,ref:"input-arv_kokku",value:(+this.state.arvestatud+ +this.state.soodustus+ +this.state.umberarvestus).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Laekumised kokku:",name:"laekumised_kokku",style:h.total,ref:"input-laekumised",value:+this.state.laekumised||0,disabled:!0
}),l.createElement(c,{title:"Tagastused kokku:",name:"tagastused_kokku",style:h.total,ref:"input-tagastused",value:+this.state.tagastused||0,disabled:!0}),l.createElement(c,{title:"Ülekanned kokku:",name:"ulekanned_kokku",style:h.total,ref:"input-ulekanned",value:+this.state.ulekanned||0,disabled:!0}),l.createElement(c,{title:"Mahakantud kokku:",name:"mahakantud_kokku",style:h.total,ref:"input-mahakantud",value:+this.state.mahakantud||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:h.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({alg_saldo:0,arvestatud:0,arv_kokku:0,soodustus:0,arv_ja_soodustus:0,laekumised:0,mahakantud:0,tagastused:0,ulekanned:0,jaak:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].alg_saldo_total:0,a=e.gridData?e.gridData[0].arvestatud_total:0,r=e.gridData?e.gridData[0].umberarvestus_total:0,n=e.gridData?e.gridData[0].soodustus_total:0,i=e.gridData?e.gridData[0].arv_ja_soodustus_total:0,o=e.gridData?e.gridData[0].laekumised_total:0,s=e.gridData?e.gridData[0].mahakantud_total:0,c=e.gridData?e.gridData[0].tagastused_total:0,p=e.gridData?e.gridData[0].ulekanned_total:0,h=e.gridData?e.gridData[0].jaak_total:0,f=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,m=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;return this.setState({alg_saldo:t,arvestatud:a,arv_kokku:a+n+r,umberarvestus:r,soodustus:n,arv_ja_soodustus:i,laekumised:o,mahakantud:s,tagastused:c,ulekanned:p,jaak:h,read:f,filtri_read:m}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/kaive_aruanne/"+y.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(199),h=(a(246),a(358)),f="KAIVE_ARUANNE_KOKKU",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=a(1),k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={alg_saldo:0,arvestatud:0,soodustus:0,umberarvestus:0,laekumised:0,mahakantud:0,tagastused:0,jaak:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Alg.saldo kokku:",name:"alg_saldo_kokku",style:h.total,ref:"input-read",value:+this.state.alg_saldo||0,disabled:!0}),l.createElement(c,{title:"Arvestatud kokku:",name:"arvestatud_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.arvestatud||0,disabled:!0}),l.createElement(c,{title:"Soodustus kokku:",name:"soodustus_kokku",style:h.total,ref:"input-soodustus",value:+this.state.soodustus||0,disabled:!0}),l.createElement(c,{title:"Ümberarvestus kokku:",name:"umberarvestus",style:h.total,ref:"input-umberarvestus",value:+this.state.umberarvestus||0,disabled:!0}),l.createElement(c,{title:"Kokku arvestatud (kokku):",name:"arv_kokku",style:h.total,ref:"input-arv_kokku",value:(+this.state.arvestatud+ +this.state.soodustus+ +this.state.umberarvestus).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Laekumised kokku:",name:"laekumised_kokku",style:h.total,ref:"input-laekumised",value:+this.state.laekumised||0,disabled:!0}),l.createElement(c,{title:"Tagastused kokku:",name:"tagastused_kokku",style:h.total,ref:"input-tagastused",value:+this.state.tagastused||0,disabled:!0}),l.createElement(c,{title:"Mahakantud kokku:",name:"mahakantud_kokku",style:h.total,ref:"input-mahandmine",value:+this.state.mahakantud||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:h.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({alg_saldo:0,arvestatud:0,soodustus:0,umberarvestus:0,arv_ja_soodustus:0,laekumised:0,mahakantud:0,tagastused:0,jaak:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].alg_saldo_total:0,a=e.gridData?e.gridData[0].arvestatud_total:0,r=e.gridData?e.gridData[0].umberarvestus_total:0,n=e.gridData?e.gridData[0].soodustus_total:0,i=e.gridData?e.gridData[0].arv_ja_soodustus_total:0,o=e.gridData?e.gridData[0].laekumised_total:0,s=e.gridData?e.gridData[0].mahakantud_total:0,c=e.gridData?e.gridData[0].tagastused_total:0,p=e.gridData?e.gridData[0].jaak_total:0,h=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,f=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;return this.setState({alg_saldo:t,arvestatud:a,umberarvestus:r,soodustus:n,arv_ja_soodustus:i,laekumised:o,mahakantud:s,tagastused:c,jaak:p,read:h,filtri_read:f}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/kaive_aruanne_kokku/"+y.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(360),u="SENT_DOCS",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:c,docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(1),h=a(362),f="CHILD_AGE",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:f,style:h,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:+this.state.read||0,disabled:!0}))}},{key:"renderer",value:function(e){return e.gridData&&e.gridData.length&&this.setState({read:e.gridData.length}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/child_age/"+p.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=y},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(269),c=a(364),p="SOODUSTUSED",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={soodustus:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Soodustus kokku:",name:"soodustus_kokku",style:c.total,ref:"input-soodustus",value:(+this.state.soodustus).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"soodustus"):0;return t&&this.setState({soodustus:t,read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(366),u="STATISTIKA",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:c,docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(225),p=a(269),h=a(1),f=a(368),m="EBATOENAOLISED",y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={noude_50:0,noude_100:0,noude_kokku:0,jaak:0,arv_pr:0,vahe:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:m,toolbarProps:y,style:f,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:f.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Nõude 50% kokku:",name:"noude_50_kokku",style:f.total,ref:"input-noude_50",value:(+this.state.noude_50).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Nõude 100% kokku:",name:"noude_100_kokku",style:f.total,ref:"input-noude_100",value:(+this.state.noude_100).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Nõuded kokku:",name:"nouded_kokku",style:f.total,ref:"input-nouded",value:(+this.state.noude_kokku).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:f.total,ref:"input-jaak",value:(+this.state.jaak).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Arvestatus päevaraamatus kokku:",name:"arv_pr_kokku",style:f.total,ref:"input-jaak",value:(+this.state.arv_pr).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Vahe kokku:",name:"vahe_kokku",style:f.total,ref:"input-jaak",value:(+this.state.vahe).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?p(e.gridData,"noude_50"):0,a=e.gridData?p(e.gridData,"noude_100"):0,r=e.gridData?p(e.gridData,"jaak"):0,n=e.gridData?p(e.gridData,"arv_pr"):0,i=e.gridData?p(e.gridData,"vahe"):0;return e.gridData&&this.setState({noude_50:t,noude_100:a,noude_kokku:+a+ +t,jaak:r,arv_pr:n,vahe:i,read:e.gridData.length}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/ebatoenaolised/"+h.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(1),p=a(225),h=a(199),f=a(370),m="KONDARVE",y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.renderKontod=a.renderKontod.bind(a),a.state={summa:0,read:0,filtri_read:0},a.kontod=[],a}return i(t,e),o(t,[{key:"render",value:function(){try{return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:y,docTypeId:m,style:f,render:this.renderer}),";",l.createElement(h,{title:"Filtri all / read kokku:",name:"read_kokku",style:f.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(p,{title:"Summa kokku:",name:"summa_kokku",style:f.total,ref:"input-read",value:+this.state.summa||0,disabled:!0}),this.kontod.length?this.renderKontod():null)}catch(e){return l.createElement("div",null,"Viga")}}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({summa:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].summa_total:0,a=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,r=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;if(t)try{this.kontod=e.gridData[0].kontod}catch(e){}return this.setState({summa:t,read:a,filtri_read:r}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"renderKontod",value:function(){return this.kontod.map(function(e){return l.createElement("div",null,l.createElement(p,{title:"Kokku konto "+e.konto,name:"konto_kokku_"+e.konto,style:f.total,ref:"input-read",value:+e.summa||0,disabled:!0}))})}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/kondarve/"+c.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(269),c=a(372),p="AASTA_NAITAJAD",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={jaanuar:0,veebruar:0,marts:0,apriil:0,mai:0,juuni:0,juuli:0,august:0,september:0,oktoober:0,november:0,detsember:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Jaanuar kokku:",name:"jaanuar_kokku",style:c.total,ref:"input-jaanuar",value:(+this.state.jaanuar).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Veebruar kokku:",name:"veebruar_kokku",style:c.total,ref:"input-veebruar",value:(+this.state.veebruar).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Märts kokku:",name:"marts_kokku",style:c.total,ref:"input-marts",value:(+this.state.marts).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Apriil kokku:",name:"apriil_kokku",style:c.total,ref:"input-apriil",value:(+this.state.apriil).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Mai kokku:",name:"mai_kokku",style:c.total,ref:"input-mai",value:(+this.state.mai).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Juuni kokku:",name:"juuni_kokku",style:c.total,ref:"input-juuni",value:(+this.state.juuni).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Juuli kokku:",name:"juuli_kokku",style:c.total,ref:"input-juuli",value:(+this.state.juuli).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"August kokku:",name:"august_kokku",style:c.total,ref:"input-august",value:(+this.state.august).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"September kokku:",name:"september_kokku",style:c.total,ref:"input-september",value:(+this.state.september).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Oktoober kokku:",name:"oktoober_kokku",style:c.total,ref:"input-oktoober",value:(+this.state.oktoober).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"November kokku:",name:"november_kokku",style:c.total,ref:"input-november",value:(+this.state.november).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Detsember kokku:",name:"detsember_kokku",style:c.total,ref:"input-detsember",value:(+this.state.detsember).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"jaanuar"):0,a=e.gridData?u(e.gridData,"veebruar"):0,r=e.gridData?u(e.gridData,"marts"):0,n=e.gridData?u(e.gridData,"apriil"):0,i=e.gridData?u(e.gridData,"mai"):0,o=e.gridData?u(e.gridData,"juuni"):0,l=e.gridData?u(e.gridData,"juuli"):0,s=e.gridData?u(e.gridData,"august"):0,d=e.gridData?u(e.gridData,"september"):0,c=e.gridData?u(e.gridData,"oktoober"):0,p=e.gridData?u(e.gridData,"november"):0,h=e.gridData?u(e.gridData,"detsember"):0;return e.gridData&&this.setState({jaanuar:t,veebruar:a,marts:r,apriil:n,mai:i,juuni:o,juuli:l,august:s,september:d,oktoober:c,november:p,detsember:h,read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(199),c=(a(269),a(374)),p="AASTA_NAITAJAD_TYYP",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={jaanuar:"",veebruar:0,marts:0,apriil:0,mai:0,juuni:0,juuli:0,august:0,september:0,oktoober:0,november:0,detsember:0,read:0,ristKasutus:0},a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.state.ristKasutus?"See aruanne sisaldab "+this.state.ristKasutus+" isik/isikut, kes saavad korraga teenuseid erinevates üksustes":null;return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement("label",null,e),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(u,{title:"Jaanuar kokku:",name:"jaanuar_kokku",style:c.total,ref:"input-jaanuar",value:this.state.jaanuar||0,disabled:!0}),l.createElement(u,{title:"Veebruar kokku:",name:"veebruar_kokku",style:c.total,ref:"input-veebruar",value:this.state.veebruar||0,disabled:!0}),l.createElement(u,{title:"Märts kokku:",name:"marts_kokku",style:c.total,ref:"input-marts",value:this.state.marts||0,disabled:!0}),l.createElement(u,{title:"Apriil kokku:",name:"apriil_kokku",style:c.total,ref:"input-apriil",value:this.state.apriil||0,disabled:!0}),l.createElement(u,{title:"Mai kokku:",name:"mai_kokku",style:c.total,ref:"input-mai",value:this.state.mai||0,disabled:!0}),l.createElement(u,{title:"Juuni kokku:",name:"juuni_kokku",style:c.total,ref:"input-juuni",value:this.state.juuni||0,disabled:!0}),l.createElement(u,{title:"Juuli kokku:",name:"juuli_kokku",style:c.total,ref:"input-juuli",value:this.state.juuli||0,disabled:!0}),l.createElement(u,{title:"August kokku:",name:"august_kokku",style:c.total,ref:"input-august",value:this.state.august||0,disabled:!0}),l.createElement(u,{title:"September kokku:",name:"september_kokku",style:c.total,ref:"input-september",value:this.state.september||0,disabled:!0}),l.createElement(u,{title:"Oktoober kokku:",name:"oktoober_kokku",style:c.total,ref:"input-oktoober",value:this.state.oktoober||0,disabled:!0}),l.createElement(u,{title:"November kokku:",name:"november_kokku",style:c.total,ref:"input-november",value:this.state.november||0,disabled:!0}),l.createElement(u,{title:"Detsember kokku:",name:"detsember_kokku",style:c.total,ref:"input-detsember",value:this.state.detsember||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=0,a=0,r=0,n=0,i=0,o=0,l=0,s=0,d=0,u=0,c=0,p=0,h=0,f=0,m=0,y=0,k=0,b=0,g=0,v=0,D=0,_=0,w=0,E=0,C=0,O=0,I=0,x=0,j=0,T=0,P=0,S=0,R=0,A=0,L=0;if(e.gridData&&e.gridData.length){e.gridData[0];e.gridData.forEach(function(e){t+=e.jaanuar,a+=e.veebruar,r+=e.marts,n+=e.apriil,i+=e.mai,o+=e.juuni,l+=e.juuli,s+=e.august,d+=e.september,u+=e.oktoober,c+=e.november,p+=e.detsember,"Põhiõpe"===e.liik&&(h+=e.jaanuar,f+=e.veebruar,m+=e.marts,y+=e.apriil,k+=e.mai,b+=e.juuni,g+=e.juuli,v+=e.august,D+=e.september,_+=e.oktoober,w+=e.november,E+=e.detsember),"Vabaõpe"===e.liik&&(C+=e.jaanuar,O+=e.veebruar,I+=e.marts,x+=e.apriil,j+=e.mai,T+=e.juuni,P+=e.juuli,P+=e.august,S+=e.september,R+=e.oktoober,A+=e.november,L+=e.detsember)}),this.setState({jaanuar:t+" (s.h. Põhiõpe:"+h+" Vabaõpe:"+C+")",veebruar:a+" (s.h. Põhiõpe:"+f+" Vabaõpe:"+O+")",marts:r+" (s.h. Põhiõpe:"+m+" Vabaõpe:"+I+")",apriil:n+" (s.h. Põhiõpe:"+y+" Vabaõpe:"+x+")",mai:i+" (s.h. Põhiõpe:"+k+" Vabaõpe:"+j+")",juuni:o+" (s.h. Põhiõpe:"+b+" Vabaõpe:"+T+")",juuli:l+" (s.h. Põhiõpe:"+g+" Vabaõpe:"+P+")",august:s+" (s.h. Põhiõpe:"+v+" Vabaõpe:"+P+")",september:d+" (s.h. Põhiõpe:"+D+" Vabaõpe:"+S+")",oktoober:u+" (s.h. Põhiõpe:"+_+" Vabaõpe:"+R+")",november:c+" (s.h. Põhiõpe:"+w+" Vabaõpe:"+A+")",detsember:p+" (s.h. Põhiõpe:"+E+" Vabaõpe:"+L+")",read:e.gridData.length,ristKasutus:e.gridData[0].rist_kasutus})}return null}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{
width:"100%"}},total:{width:"30%"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(376),p="KUU_TAABEL",h=a(1),f={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},m=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.checkWeekEnds=a.checkWeekEnds.bind(a),a.custom_styling=a.custom_styling.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:f,docTypeId:p,style:c,render:this.renderer,trigger_select:this.checkWeekEnds,custom_styling:this.custom_styling})}},{key:"renderer",value:function(e){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"checkWeekEnds",value:function(e){if(!e.gridConfig)return null;var t=[];e.gridData.length&&(t=e.gridData[0].week_ends),t.length&&e.gridConfig.map(function(e){return e.showBold=t.indexOf(+e.name)>-1,e}),e.gridData=e.gridData.filter(function(e){return e.is_row})}},{key:"custom_styling",value:function(e,t){var a={};return isNaN(e.name)||999999999!=t.nom_id||null===t[e.id]||(a=t[e.id]?c.custom.positive:c.custom.negative),a}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,r="/reports/kuu_taabel/"+h.userData.uuid,n=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?r+"/"+i+"/"+n:r+"/"+i;window.open(o)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=m},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid black",display:"table-cell",paddingLeft:"5px",nullColour:"lightGrey"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},custom:{positive:{backgroundColor:"lightgreen"},negative:{backgroundColor:"pink"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=a(378),p="YKSUSE_TAABEL",h=a(1),f={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},m=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.checkWeekEnds=a.checkWeekEnds.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:f,docTypeId:p,style:c,render:this.renderer,trigger_select:this.checkWeekEnds,custom_styling:this.custom_styling})}},{key:"renderer",value:function(e){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"checkWeekEnds",value:function(e){if(!e.gridConfig||!e.gridData)return null;var t=[];e.gridData&&e.gridData.length&&(t=e.gridData[0].week_ends,t&&t.length?e.gridData.every(function(e){if(e.week_ends&&e.week_ends.length&&e.week_ends[0])return t=e.week_ends,!1}):t=[]),t.length&&e.gridConfig.map(function(e){return e.showBold=t.indexOf(+e.name)>-1,e}),e.gridData=e.gridData.filter(function(e){return e.is_row})}},{key:"custom_styling",value:function(e,t){var a={};return isNaN(e.name)||999999999!=t.nom_id||null===t[e.id]||(a=+t[e.id]?c.custom.positive:c.custom.negative),a}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,r="/reports/yksuse_taabel/"+h.userData.uuid,n=encodeURIComponent(""+a),i=t.filterData.filter(function(e){return e.value}),o=encodeURIComponent(""+JSON.stringify(i)),l=a?r+"/"+o+"/"+n:r+"/"+o;window.open(l)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=m},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid black",display:"table-cell",paddingLeft:"5px",nullColour:"lightGrey"}},headerTable:{width:"100%"},th:{borderBottom:"1px solid black",backgroundColor:"grey",height:"30px",border:"1px solid lightgray",display:"table-cell",color:"black",boldColor:"red"},gridContainer:{width:"100%"},boolColour:{yes:null,no:null}},custom:{positive:{backgroundColor:"lightgreen"},negative:{backgroundColor:"pink"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(237),u=a(66),c=(a(225),a(380)),p="KOHALOLEKU_ARUANNE",h=a(1),f={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},m=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.state={ristKasutus:0},a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.state.ristKasutus?"See aruanne sisaldab "+this.state.ristKasutus+" isik/isikut, kes saavad korraga teenuseid erinevates üksustes":null;return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:f,docTypeId:p,style:c,render:this.renderer}),l.createElement("label",null,e))}},{key:"renderer",value:function(e){return e&&e.gridData&&e.gridData.length?(this.setState({ristKasutus:e.gridData[0].rist_kasutus}),l.createElement("div",null,l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1})))):null}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,r="/reports/kohaoleku_aruanne/"+h.userData.uuid,n=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?r+"/"+i+"/"+n:r+"/"+i;window.open(o)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=m},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(382),c="TOPELTMAKSUD",p={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},h=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:p,docTypeId:c,style:u,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:u.total,ref:"input-read",value:+this.state.read||0,disabled:!0}))}},{key:"renderer",value:function(e){return e.gridData&&this.setState({read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=h},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(199),c=a(237),p=a(66),h=a(384),f=a(1),m="KUUTABELI_ARUANNE",y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.state={read:0,filtri_read:0,arvestatud:0,soodustus:0,umberarvestus:0,vahe:0,summa:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:y,docTypeId:m,style:h,render:this.renderer}),l.createElement(u,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Arvestatud (sh vahe) kokku:",name:"arvestatud_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.arvestatud||0,disabled:!0}),l.createElement(d,{title:"Soodustus kokku:",name:"soodustus_kokku",style:h.total,ref:"input-soodustus",value:+this.state.soodustus||0,disabled:!0}),l.createElement(d,{title:"Ümberarv. kokku:",name:"umberarvestus_kokku",style:h.total,ref:"input-umberarvestus",value:+this.state.umberarvestus||0,disabled:!0}),l.createElement(d,{title:"Kokku arvestatud kokku:",name:"summa_kokku",style:h.total,ref:"input-summa",value:+this.state.summa||0,disabled:!0}))}},{key:"renderer",value:function(e){if(e.gridData){var t=e.gridData&&e.gridData.length&&e.gridData[0].arvestatud_total?e.gridData[0].arvestatud_total:0,a=e.gridData&&e.gridData.length&&e.gridData[0].soodustus_total?e.gridData[0].soodustus_total:0,r=e.gridData&&e.gridData.length&&e.gridData[0].umberarvestus_total?e.gridData[0].umberarvestus_total:0,n=e.gridData&&e.gridData.length&&e.gridData[0].vahe_total?e.gridData[0].vahe_total:0,i=e.gridData&&e.gridData.length&&e.gridData[0].summa_total?e.gridData[0].summa_total:0,o=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0,s=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0;this.setState({read:s,arvestatud:t,soodustus:a,umberarvestus:r,vahe:n,summa:i,filtri_read:o})}return l.createElement(p,null,l.createElement(c,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/kuutabeli_aruanne/"+f.userData.uuid,r=encodeURIComponent(""+t),n=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+n+"/"+r:a+"/"+n;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(269),c=a(386),p="SELGEMATA_MAKSED",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={read:0,summa:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Summa kokku:",name:"summa_kokku",style:c.total,ref:"input-sum,ma",value:+this.state.summa||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"summa"):0;return e.gridData&&this.setState({summa:t,read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(66),u=a(268),c=a(225),p=(a(187),"PANK_EARVE"),h=a(269),f=a(388),m=a(1),y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={summa:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:p,toolbarProps:y,style:f,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:f.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Summa kokku:",name:"summa_kokku",style:f.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?h(e.gridData,"summa"):0;return t&&this.setState({summa:t,read:e.gridData.length}),l.createElement(d,null,l.createElement(u,{onClick:this.onClickHandler,docTypeId:p,phrase:"Kas laadida XML (SWED) fail?",ref:"btnEarveSwedXML",value:"Saama XML e-arved (SWED) kõik valitud arved"}),l.createElement(u,{onClick:this.onClickHandler,docTypeId:p,phrase:"Kas laadida XML (SEB) fail?",ref:"btnEarveSebXML",value:"Saama XML e-arved (SEB) kõik valitud arved"}))}},{key:"onClickHandler",value:function(e,t){var a=new Set,r=this.refs.register;switch(e){case"Saama XML e-arved (SEB) kõik valitud arved":if(r.gridData.forEach(function(e){e.select&&e.pank&&"SEB"==e.pank&&a.add(e.id)}),a=Array.from(a),a.length){r.setState({warning:"Leidsin "+a.length+" arveid",warningType:"ok"});var n="/e-arved/seb/"+m.getUuid+"/"+a;window.open(""+n)}else r.setState({warning:"Mitte ühtegi arve leidnum",warningType:"notValid"});break;case"Saama XML e-arved (SWED) kõik valitud arved":if(r.gridData.forEach(function(e){e.select&&e.pank&&"SWED"==e.pank&&a.add(e.id)}),a=Array.from(a),a.length){r.setState({warning:"Leidsin "+a.length+" arveid",warningType:"ok"});var i="/e-arved/swed/"+m.getUuid+"/"+a;window.open(""+i)}else r.setState({warning:"Mitte ühtegi arve leidnum",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"auto"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(199),c=(a(246),a(390)),p="SALDOD_ASUTUSTES",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=(a(1),function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={jaak:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(u,{title:"Filtri all / read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Jääk kokku:",name:"jaak_kokku",style:c.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({jaak:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].jaak_total:0,a=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,r=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;this.setState({jaak:t,read:a,filtri_read:r})}}]),t}(l.PureComponent));e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(225),u=a(199),c=(a(246),a(392)),p="SALDO_ARUANNE",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={jaak:0,read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(u,{title:"Filtri all / read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Jääk kokku:",name:"jaak_kokku",style:c.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){if(!e||!e.gridData||!e.gridData.length)return this.setState({jaak:0,read:0,filtri_read:0}),null;var t=e.gridData?e.gridData[0].jaak_total:0,a=e.gridData&&e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0,r=e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:0;this.setState({jaak:t,read:a,filtri_read:r})}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"100px",margin:"0px 0px 0px 5px"}}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(10),s=a(186),d=a(394),u="ARVED_EMAILIGA",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,toolbarProps:c,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}}]);