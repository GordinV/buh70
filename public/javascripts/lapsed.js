var lapsed=webpackJsonp_name_([0],[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(1),i=n(r),o=a(3),l=a(4),s=l.BrowserRouter,d=a(48);initData=JSON.parse(initData),userData=JSON.parse(userData),i.default.initData=initData,i.default.userData=userData,i.default.module="lapsed",i.default.pageName="Laste register",o.hydrate(React.createElement(s,null,React.createElement(d,{initData:initData,userData:userData,module:"lapsed"})),document.getElementById("doc"))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(9),d=(a(49),a(168)),u=a(225),c=a(227),p=a(242),h=a(245),m=a(249),f=a(252),y=a(254),k=a(256),g=a(258),b=a(260),v=a(262),E=a(267),_=a(269),w=a(272),D=a(276),C=a(278),O=a(280),I=a(282),T=a(284),x=a(286),j=a(288),S=a(290),R=a(292),P=a(295),A=a(297),N=a(299),L=a(301),M=a(303),G=a(305),Y=a(308),K=a(310),H=a(312),V=a(314),B=a(316),U=a(318),F=a(320),q=a(322),$=a(324),W=a(326),J=a(328),X=a(330),z=a(332),Q=a(335),Z=a(338),ee=a(340),te=a(342),ae=a(345),ne=a(347),re=a(349),ie=a(352),oe=a(354),le=a(357),se=a(359),de=a(361),ue=a(4),ce=ue.Route,pe=ue.Redirect,he=a(90),me=he.StyleRoot,fe="Lapsed",ye=a(1),ke=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.prepareParamsForToolbar=a.prepareParamsForToolbar.bind(a),a.componets={},a.prepareComponents(a.componets),a}return i(t,e),l(t,[{key:"render",value:function(){var e=this;this.prepareParamsForToolbar();return s.createElement(me,null,s.createElement(ce,{exact:!0,path:"/lapsed",render:function(t){return s.createElement(c,{history:t.history,initData:e.props.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/laps",render:function(t){return s.createElement(c,{history:t.history,initData:e.props.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/laps/:docId",render:function(e){return s.createElement(u,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/asutused",render:function(t){return s.createElement(R,{history:t.history,initData:e.props.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/asutused/:docId",render:function(e){return s.createElement(P,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_grupp",render:function(t){return s.createElement(A,{history:t.history,initData:e.props.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_grupp/:docId",render:function(e){return s.createElement(N,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/vanem",render:function(t){return s.createElement(b,{history:t.history,initData:e.props.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/vanem/:docId",render:function(e){return s.createElement(g,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_kaart",render:function(e){return s.createElement(p,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_kaart/:docId",component:h}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_taabel",render:function(e){return s.createElement(m,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/lapse_taabel/:docId",component:f}),s.createElement(ce,{exact:!0,path:"/lapsed/paeva_taabel",render:function(e){return s.createElement(y,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/paeva_taabel/:docId",component:k}),s.createElement(ce,{exact:!0,path:"/lapsed/arv",render:function(e){return s.createElement(v,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/arv/:docId",render:function(e){return s.createElement(E,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/journal/:docId",render:function(e){return s.createElement(d,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/smk",render:function(e){return s.createElement(_,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/smk/:docId",render:function(e){return s.createElement(w,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/vmk",render:function(e){return s.createElement(D,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/vmk/:docId",render:function(e){return s.createElement(C,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/sorder",render:function(e){return s.createElement(O,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/sorder/:docId",render:function(e){return s.createElement(I,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/nomenclature",render:function(e){return s.createElement(T,{history:e.history,initData:e.initData,module:fe})}}),s.createElement(ce,{exact:!0,path:"/lapsed/nomenclature/:docId",render:function(e){return s.createElement(x,o({},e,{module:fe,history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/tunnus/:docId",component:S}),s.createElement(ce,{exact:!0,path:"/lapsed/tunnus",render:function(e){return s.createElement(j,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/teatis/:docId",component:M}),s.createElement(ce,{exact:!0,path:"/lapsed/teatis",render:function(e){return s.createElement(L,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/pank_vv",render:function(t){return s.createElement(U,{module:fe,history:t.history,initData:e.props.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/config/:docId",render:function(e){return s.createElement(F,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/config",render:function(){return s.createElement(pe,{to:"/lapsed/config/"+ye.userData.asutusId})}}),s.createElement(ce,{exact:!0,path:"/lapsed/e-mail/:docId",render:function(e){return s.createElement(J,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/e-mail",render:function(){return s.createElement(pe,{to:"/lapsed/e-mail/0"})}}),s.createElement(ce,{exact:!0,path:"/lapsed/rekv/:docId",render:function(e){return s.createElement(q,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/rekv",render:function(){return s.createElement(pe,{to:"/lapsed/rekv/"+ye.userData.asutusId})}}),s.createElement(ce,{exact:!0,path:"/lapsed/dokprops/:docId",render:function(e){return s.createElement($,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/userid/:docId",render:function(e){return s.createElement(W,o({},e,{history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/userid/",render:function(){return s.createElement(pe,{to:"/lapsed/userid/"+ye.userData.id})}}),s.createElement(ce,{exact:!0,path:"/lapsed/inf3",render:function(e){return s.createElement(X,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/laps_kokkuvotte",render:function(e){return s.createElement(z,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/arved_koodi_jargi",render:function(e){return s.createElement(Q,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/saldo_ja_kaive",render:function(e){return s.createElement(Z,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/sent_docs",render:function(e){return s.createElement(ee,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/child_age",render:function(t){return s.createElement(te,{module:fe,history:t.history,initData:e.props.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/soodustused",render:function(e){return s.createElement(ae,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/statistika",render:function(t){return s.createElement(ne,{module:fe,history:t.history,initData:e.props.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/ebatoenaolised",render:function(e){return s.createElement(re,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/kondarve",render:function(e){return s.createElement(ie,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/aasta_naitajad",render:function(e){return s.createElement(oe,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/kuu_taabel",render:function(t){return s.createElement(le,{module:fe,history:t.history,initData:e.props.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/yksuse_taabel",render:function(t){return s.createElement(se,{module:fe,history:t.history,initData:e.props.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/kohaloleku_aruanne",render:function(e){return s.createElement(de,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/asutuse_liik",render:function(e){return s.createElement(G,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/asutuse_liik/:docId",render:function(e){return s.createElement(Y,o({},e,{module:fe,history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/koolituse_tyyp",render:function(e){return s.createElement(K,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/koolituse_tyyp/:docId",render:function(e){return s.createElement(H,o({},e,{module:fe,history:e.history}))}}),s.createElement(ce,{exact:!0,path:"/lapsed/koolituse_liik",render:function(e){return s.createElement(V,{module:fe,history:e.history,initData:e.initData})}}),s.createElement(ce,{exact:!0,path:"/lapsed/koolituse_Liik/:docId",render:function(e){return s.createElement(B,o({},e,{module:fe,history:e.history}))}}))}},{key:"prepareParamsForToolbar",value:function(){return{btnStart:{show:!0},btnLogin:{show:!0,disabled:!1},btnAccount:{show:!0,disabled:!1}}}},{key:"prepareComponents",value:function(e){return e.LapseDocument=function(e){var t=a(225);return s.createElement(t,e)}}}]),t}(s.Component);e.exports=ke},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(1),s=a(32),d=a(9),u=a(50),c=a(169),p=a(217),h=a(221),m=a(187),f=a(226),y=[],k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,vanemId:null,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.fetchData=a.fetchData.bind(a),a.docId=e.docId?e.docId:+e.match.params.docId,a.pages=[{pageName:"Lapse kaart",docTypeId:"LAPS"},{pageName:"Taabel",handlePageClick:a.handlePageClick,docTypeId:"LAPSE_TAABEL"},{pageName:"Arved",handlePageClick:a.handlePageClick,docTypeId:"ARV"},{pageName:"Maksekoraldused",handlePageClick:a.handlePageClick,docTypeId:"SMK"},{pageName:"Kassaorderid",handlePageClick:a.handlePageClick,docTypeId:"SORDER"}],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){if(this.props.history&&this.props.history.location.state){var e=this.props.history.location.state.vanemId,t=this.props.history.location.state.module?this.props.history.location.state.module:"lapsed";this.setState({vanemId:e,module:t})}this.state.docId&&(l.lapsId=this.state.docId)}},{key:"render",value:function(){return d.createElement(c,{docId:this.state.docId,ref:"document",history:this.props.history,module:this.state.module,docTypeId:"LAPS",reload:!0,initData:this.props.initData?this.props.initData:{},libs:y,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,focusElement:"input-isikukood"})}},{key:"renderer",value:function(e){var t=e.state.edited,a=e.docData.vanemad,n=e.docData.gridConfig,r=e.docData.teenused,i=e.docData.gridTeenusteConfig;return 0===e.docData.id&&(e.docData.vanemid=this.state.vanemId),!this.docId&&e.docData.id&&(this.docId=e.docData.id),d.createElement("div",{style:f.doc},d.createElement("div",{style:f.docRow},d.createElement("div",{style:f.docColumn},d.createElement(p,{ref:"input-isikukood",title:"Isikukood:",name:"isikukood",value:e.docData.isikukood||"",readOnly:!t,maxLength:"11",onChange:e.handleInputChange}),d.createElement(p,{title:"Nimi:",name:"nimi",value:e.docData.nimi||"",ref:"input-nimi",readOnly:!t,onChange:e.handleInputChange}),d.createElement(p,{title:"Viitenumber:",name:"viitenumber",value:e.docData.viitenumber||"",ref:"input-viitenumber",readOnly:!0,disabled:!0,onChange:e.handleInputChange})),d.createElement("div",{style:f.docColumn},d.createElement(p,{ref:"input-jaak",title:"Jääk:",name:"jaak",value:e.docData.jaak||"",readOnly:!0}))),d.createElement("div",{style:f.docRow},d.createElement(h,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})),d.createElement("div",{style:f.docRow},d.createElement("label",{ref:"label"},"Vanemad")),d.createElement("div",{style:f.docRow},d.createElement(m,{source:"vanemad",gridData:a,gridColumns:n,showToolBar:!t,handleGridBtnClick:e.handleGridBtnClick,readOnly:t,style:f.grid.headerTable,docTypeId:"vanem",ref:"vanemad-data-grid"})),d.createElement("div",{style:f.docRow},d.createElement("label",{ref:"label"},"Teenused")),d.createElement("div",{style:f.docRow},d.createElement(m,{source:"teenused",gridData:r,gridColumns:i,showToolBar:!t,handleGridBtnClick:e.handleGridBtnClick,docTypeId:"lapse_kaart",readOnly:!t,style:f.grid.headerTable,ref:"teenuste-data-grid"})))}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.isikukood;if(l.libs&&l.libs.menu){var a=l.libs.menu.find(function(t){return t.kood.toUpperCase()===e.toUpperCase()});a&&(l.pageName=a)}else{var n=this.pages.find(function(t){return t.docTypeId==e});n&&n.pageName&&(l.pageName=n.pageName)}this.props.history.push({pathname:"/lapsed/"+e,state:{isikukood:t,type:"text"}})}},{key:"handleGridBtnClick",value:function(e,t,a,n){var r=this;switch(e.toUpperCase()){case"EDIT":this.props.history.push({pathname:"/lapsed/"+n+"/"+a,state:{lapsId:this.docId,module:this.state.module}});break;case"MUUDA":this.props.history.push({pathname:"/lapsed/"+n+"/"+a,state:{lapsId:this.docId,module:this.state.module}});break;case"ADD":this.props.history.push({pathname:"/lapsed/"+n+"/0",state:{lapsId:this.docId,module:this.state.module}});break;case"LISA":this.props.history.push({pathname:"/lapsed/"+n+"/0",state:{lapsId:this.docId,module:this.state.module}});break;case"DELETE":this.fetchData(n,a).then(function(e){var t=e&&e.status&&200===e.status?"Ok":"Error",a="Viga";t&&e.data&&e.data.error&&(t=!1,a=e.data.error_message);var n=r.refs.document;"Ok"===t?n.setState({reloadData:!0,warning:"Kiri kustutatud",warningType:"ok"},function(){setTimeout(function(){var e=r.props.location.pathname;r.props.history.replace("/reload"),setTimeout(function(){r.props.history.replace(e)})},2e3)}):n.setState({reloadData:!1,warning:""+a,warningType:"error"})});break;case"KUSTUTA":this.fetchData(n,a).then(function(e){var t=e&&e.status&&200===e.status?"Ok":"Error",a=r.refs.document;if("Ok"===t)a.setState({reloadData:!0,warning:"Kiri kustutatud",warningType:"ok"});else{var n=e.data&&e.data.error_message?e.data.error_message:"Viga";a.setState({reloadData:!1,warning:""+n,warningType:"error"})}})}}},{key:"fetchData",value:function(e,t){var a="/newApi/delete",n={parameter:e,module:"lapsed",userId:l.userData.userId,uuid:l.userData.uuid,docId:t};return u.fetchDataPost(a,n)}}]),t}(d.PureComponent);k.propTypes={docId:s.number,initData:s.object,userData:s.object},k.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=k},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(239),c=a(217),p=a(77),h=a(241),m="LAPS",f=[{name:"Tabeli koostamine",method:"arvestaTaabel",docTypeId:"lapse_taabel"},{name:"Arve koostamine",method:"koostaArve",docTypeId:"arv"},{name:"Ettemaksuarve koostamine",method:"koostaEttemaksuArved",docTypeId:"arv"}],y=a(170),k=a(171),g=a(1),b=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.handleClick=a.handleClick.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:m,style:h,render:this.renderer}),l.createElement(c,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}))}},{key:"renderer",value:function(e){var t=this,a=y.LAPS?y.LAPS:[],n=g.userData?g.userData.roles:[],r=f.filter(function(e){var t=k(n,a,e.method);return t});return e.gridData&&e.gridData.length&&e.gridData[0].rows_total&&this.setState({read:e.gridData[0].rows_total,filtri_read:e.gridData&&e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:e.gridData[0].rows_total}),l.createElement(p,null,r.map(function(e){return l.createElement(d,{value:e.name,onClick:t.onClickHandler,ref:"btn-"+e.name,key:"key-"+e.name})}),k(n,a,"importLapsed")?l.createElement(u,{ref:"btnUpload",docTypeId:m,onClick:this.handleClick,show:!0,value:"Import lapsed",mimeTypes:".csv"}):null,k(n,a,"importViitenr")?l.createElement(u,{ref:"btnUpload",docTypeId:"VIITENR",onClick:this.handleClick,show:!0,value:"Import viitenumbrid",mimeTypes:".csv"}):null)}},{key:"onClickHandler",value:function(e,t){var a=this,n=this.refs.register,r=[];n.gridData.filter(function(e){return e.select}).forEach(function(e){r.push(e.id)});var i=f.find(function(t){return t.name===e});if(!i)return n.setState({warning:"Task: "+e+" ei leidnud",warningType:"error"});var o="võib olla selles perioodil kõik arved juba väljastatud";n.fetchData("calc/"+i.method,{docs:r,seisuga:t}).then(function(e){e.result?(o="koostaEttemaksuArved"==i.method?"task saadetud täitmisele":"Kokku arvestatud: "+e.result+", suunatamine...",n.setState({warning:o+", suunatamine...",warningType:"ok"}),setTimeout(function(){a.props.history.push("/lapsed/"+i.docTypeId)},5e3)):e.error_message?n.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):n.setState({warning:"Kokku arvestatud : "+e.result+", "+o,warningType:"notValid"})})}},{key:"handleClick",value:function(e){var t=this.refs.register;return t?void(e&&(t.setState({warning:"Edukalt:  "+e+": ",warningType:"ok"}),setTimeout(function(){t.fetchData("selectDocs")},1e4))):null}}]),t}(l.PureComponent);e.exports=b},,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=(a(32),a(209)),d=a(182),u=a(80),c=a(81),p=a(213),h=a(219),m="execute",f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showModal:!1,seisuga:s(),kogus:0},a.handleClick=a.handleClick.bind(a),a.modalPageClick=a.modalPageClick.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a}return i(t,e),o(t,[{key:"handleClick",value:function(e){this.setState({showModal:!0})}},{key:"render",value:function(){var e=this.props.value?this.props.value:"Täitmine";return l.createElement("div",null,l.createElement(c,{show:!0,value:e,ref:"btnTask",style:u.button,disabled:!1,onClick:this.handleClick},l.createElement("img",{ref:"image",src:u.icons[m]})),this.state.showModal?l.createElement(d,{modalPageBtnClick:this.modalPageClick,modalPageName:e,show:!0,modalObjects:["btnOk","btnCancel"]},'Kas käivata "'+e+'" ?',this.props.showDate?l.createElement(p,{title:"Seisuga ",name:"kpv",value:this.state.seisuga,ref:"input-kpv",readOnly:!1,onChange:this.handleInputChange}):null,this.props.showKogus?l.createElement(h,{title:this.props.title?this.props.title:"Väärtus",name:"kogus",value:+this.state.kogus,ref:"input-kogus",readOnly:!1,onChange:this.handleInputChange}):null):null)}},{key:"modalPageClick",value:function(e){this.setState({showModal:!1}),"Ok"===e&&this.props.onClick(this.props.value,this.props.showKogus?this.state.kogus:this.state.seisuga)}},{key:"handleInputChange",value:function(e,t){switch(e){case"kpv":this.setState({seisuga:t});break;case"kogus":this.setState({kogus:t})}}}]),t}(l.PureComponent);f.defaultProps={disabled:!1,show:!0,showDate:!0,showKogus:!1},e.exports=f},,,function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(239),p=a(217),h=a(243),m=a(244).grid.gridConfiguration,f="LAPSE_KAART",y=a(170),k=a(171),g=a(1),b=y[f]?y[f]:[],v=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.onClickExport=a.onClickExport.bind(a),a.onClickTeenusteTahtaegHandler=a.onClickTeenusteTahtaegHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0,filtri_read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:m,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:f,style:h,render:this.renderer}),l.createElement(p,{title:"Filtri all / read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:this.state.filtri_read+"/"+this.state.read,disabled:!0}))}},{key:"renderer",value:function(e){var t=g.userData?g.userData.roles:[];if(e&&e.gridData){var a=e.gridData.length&&e.gridData[0].rows_total?e.gridData[0].rows_total:0;this.setState({read:a,filtri_read:e.gridData.length&&e.gridData[0].filter_total?e.gridData[0].filter_total:a})}return l.createElement(u,null,k(t,b,"muudaTeenusteTahtaeg")?l.createElement(d,{value:"Muuda teenuste tähtaeg",onClick:this.onClickTeenusteTahtaegHandler,showDate:!0,showKogus:!1,ref:"btn-teenuste_tahtaeg"}):null,k(t,b,"muudaEttemaksuPeriod")?l.createElement(d,{value:"Muuda ettemaksu period",onClick:this.onClickHandler.bind(this,"muudaEttemaks"),showDate:!1,showKogus:!0,ref:"btn-ettemaksu_period"}):null,k(t,b,"importTeenused")?l.createElement(c,{ref:"btnUpload",docTypeId:f,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickExport,showDate:!1,showKogus:!1,ref:"btn-ettemaksu_period"}))}},{key:"onClickHandler",value:function(e,t){var a=this.refs.register,n=[];a.gridData.filter(function(e){if(e.ettemaks&&e.select)return e}).forEach(function(e){n.push(e.id)}),a.fetchData("calc/muuda_ettemaksu_period",{docs:n,ettemaksuPeriod:t}).then(function(e){e.result?a.setState({warning:"Kokku arvestatud: "+e.result,warningType:"ok"}):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"notValid"})})}},{key:"onClickExport",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n=encodeURIComponent(""+a),r="/reports/lapse_kaart/"+g.userData.uuid,i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?r+"/"+i+"/"+n:r+"/"+i;window.open(o)}else t.setState({warning:"Mitte ühtegi teenused leidnum",warningType:"notValid"})}},{key:"onClickTeenusteTahtaegHandler",value:function(e,t){var a=this.refs.register,n=[];a.gridData.filter(function(e){if(e.select)return e}).forEach(function(e){n.push(e.id)}),a.fetchData("calc/muuda_teenuste_tahtaeg",{docs:n,teenusteTahtaeg:t}).then(function(e){e.result?(a.btnRefreshClick(),a.setState({warning:"Kokku muudetud: "+e.result,warningType:"ok"})):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"notValid"})})}}]),t}(l.PureComponent);e.exports=v},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t){"use strict";e.exports={selectAsLibs:"SELECT lk.id                         AS id,\n                          n.kood::TEXT                  AS kood,\n                          n.nimetus::TEXT ||\n                          coalesce(' (' || (lk.properties ->> 'yksus') || '/' || (lk.properties ->> 'all_yksus') || ')',\n                                   '')::TEXT || ', hind: ' || (lk.hind::NUMERIC(12, 2)) || ' ' ||\n                          n.uhik::TEXT                  AS nimetus,\n                          lk.parentid                   AS lapsid,\n                          lk.properties ->> 'yksus'     AS yksus,\n                          lk.properties ->> 'all_yksus' AS all_yksus,\n                          lk.rekvid                     AS rekvid\n                   FROM lapsed.lapse_kaart lk\n                            INNER JOIN libs.nomenklatuur n ON n.id = lk.nomid\n                   WHERE lk.staatus <> 3\n                     AND lk.rekvid = $1",libGridConfig:{grid:[{id:"id",name:"id",width:"50px",show:!1},{id:"isikukood",name:"isikukood",width:"100px"},{id:"nimi",name:"Nimi",width:"100px"}]},select:[{sql:"SELECT lk.id,\n                     lk.parentid,\n                     lk.rekvid,\n                     lk.nomid,\n                     lk.hind,\n                     coalesce((lk.properties ->> 'kogus')::NUMERIC, 0)::NUMERIC            AS kogus,\n                     coalesce((lk.properties ->> 'ettemaksu_period')::NUMERIC, 0)::NUMERIC AS ettemaksu_period,\n                     lk.tunnus,\n                     lk.properties ->> 'yksus'                                             AS yksus,\n                     lk.properties ->> 'all_yksus'                                         AS all_yksus,\n                     lk.muud,\n                     coalesce((lk.properties ->> 'soodus')::NUMERIC, 0)::NUMERIC           AS soodus,\n                     coalesce((lk.properties ->> 'kas_protsent')::BOOLEAN, FALSE)::BOOLEAN AS kas_protsent,\n                     to_char((lk.properties ->> 'sooduse_alg')::DATE, 'YYYY-MM-DD')        AS sooduse_alg,\n                     to_char((lk.properties ->> 'sooduse_lopp')::DATE, 'YYYY-MM-DD')       AS sooduse_lopp,\n                     to_char((lk.properties ->> 'sooduse_alg')::DATE, 'DD.MM.YYYY')        AS sooduse_alg_print,\n                     to_char((lk.properties ->> 'sooduse_lopp')::DATE, 'DD.MM.YYYY')       AS sooduse_lopp_print,\n                     coalesce((lk.properties ->> 'kas_eraldi')::BOOLEAN, FALSE)::BOOLEAN   AS kas_eraldi,\n                     coalesce((lk.properties ->> 'kas_ettemaks')::BOOLEAN, FALSE)::BOOLEAN AS kas_ettemaks,\n                     coalesce((lk.properties ->> 'kas_inf3')::BOOLEAN, FALSE)::BOOLEAN     AS kas_inf3,\n                     to_char(coalesce((lk.properties ->> 'alg_kpv')::DATE, date(year(), month(), 1)),\n                             'YYYY-MM-DD')                                                 AS alg_kpv,\n                     to_char(coalesce((lk.properties ->> 'lopp_kpv')::DATE, date(year(), 12, 31)),\n                             'YYYY-MM-DD')                                                 AS lopp_kpv,\n                     n.kood,\n                     n.nimetus,\n                     $2                                                                    AS userid,\n                     l.isikukood                                                           AS isikukood,\n                     l.nimi                                                                AS lapse_nimi,\n                     to_char(coalesce((lk.properties ->> 'alg_kpv')::DATE, date(year(), month(), 1)),\n                             'DD-MM-YYYY') ||\n                     to_char(coalesce((lk.properties ->> 'lopp_kpv')::DATE, date(year(), 12, 31)),\n                             'DD.MM.YYYY')                                                 AS kehtivus\n\n              FROM lapsed.lapse_kaart lk\n                       INNER JOIN libs.nomenklatuur n ON n.id = lk.nomid\n                       INNER JOIN lapsed.laps l ON l.id = lk.parentid\n              WHERE lk.id = $1::INTEGER\n                AND lk.staatus <> 3",
sqlAsNew:"SELECT\n                  $1 :: INTEGER        AS id,\n                  $2 :: INTEGER        AS userid,\n                  null::TEXT AS isikukood,\n                  null::TEXT AS lapse_nimi,\n                  null::integer as parentid,\n                  null::INTEGER AS nomid,                  \n                  null::text as kood,\n                  null::text as nimetus,\n                  null::text as tunnus,\n                  null::text as yksus,\n                  null::text as all_yksus,\n                  0::numeric as hind,\n                  1::numeric as kogus,\n                  1::numeric as  ettemaksu_period,\n                  0::numeric as soodus,\n                  false as kas_protsent,\n                  false as kas_eraldi,\n                  false as kas_ettemaks,\n                  true as kas_inf3,\n                  null::date as sooduse_alg,\n                  null::date as sooduse_lopp,\n                  to_char(coalesce((lk.properties ->> 'alg_kpv')::DATE, date(year(), 1, 1)),'YYYY-MM-DD')  AS alg_kpv, \n                  to_char(coalesce((lk.properties ->> 'lopp_kpv')::DATE, date(year(), 12, 31)),'YYYY-MM-DD')  AS lopp_kpv,\n                  null::text as muud",query:null,multiple:!1,alias:"row",data:[]}],returnData:{row:{},teenused:[],gridConfig:[{id:"id",name:"id",width:"0px",show:!1,type:"text",readOnly:!0},{id:"kood",name:"Kood",width:"100px",show:!0,type:"text",readOnly:!1},{id:"nimetus",name:"Nimetus",width:"100px",show:!0,type:"text",readOnly:!1},{id:"hind",name:"Hind",width:"100px",show:!0,type:"text",readOnly:!1},{id:"yksus",name:"Üksus",width:"100px",show:!0,type:"text",readOnly:!1}]},requiredFields:[{name:"parentid",type:"I"},{name:"nomid",type:"I"},{name:"hind",type:"I"}],saveDoc:"select lapsed.sp_salvesta_lapse_kaart($1::jsonb, $2::integer, $3::integer) as id",deleteDoc:"SELECT error_code, result, error_message\n             FROM lapsed.sp_delete_lapse_kaart($1::INTEGER, $2::INTEGER)",grid:{gridConfiguration:[{id:"id",name:"id",width:"1%",show:!1},{id:"row_id",name:"Jrk",width:"3%",show:!0,hideFilter:!0},{id:"isikukood",name:"Isikukood",width:"10%",show:!0},{id:"nimi",name:"Nimi",width:"15%",show:!0},{id:"viitenumber",name:"Viitenumber",width:"10%",show:!0},{id:"kood",name:"Kood",width:"10%"},{id:"nimetus",name:"Nimetus",width:"15%"},{id:"hind",name:"Hind",width:"10%",type:"number"},{id:"soodustus",name:"Soodustus",width:"10%"},{id:"uhik",name:"Ühik",width:"5%"},{id:"yksus",name:"Üksus",width:"10%"},{id:"alg_kpv",name:"Kpv-st",width:"7%",type:"date",interval:!0,default:"KUU"},{id:"lopp_kpv",name:"Kpv-ni",width:"7%",type:"date",interval:!0,default:"AASTA"},{id:"inf3",name:"INF3",width:"5%"},{id:"select",name:"Valitud",width:"5%",show:!1,type:"boolean"}],sqlString:"SELECT id,\n                            lapsid,\n                            isikukood,\n                            nimi,\n                            kood,\n                            nimetus,\n                            yksus::TEXT ||\n                            CASE WHEN all_yksus IS NOT NULL THEN '(' || all_yksus::TEXT || ')' ELSE '' END AS yksus,\n                            hind,\n                            uhik,\n                            lapsed.get_viitenumber($1, lapsid)                                             AS viitenumber,\n                            $1::INTEGER                                                                    AS rekvid,\n                            $2::INTEGER                                                                    AS user_id,\n                            to_char(alg_kpv, 'DD.MM.YYYY') || ' - ' || to_char(lopp_kpv, 'DD.MM.YYYY')     AS kehtivus,\n                            v.inf3                                                                         AS inf3,\n                            CASE\n                                WHEN (soodustus::NUMERIC(12, 2)) > 0 THEN ((soodustus::NUMERIC(12, 2))::TEXT || ' ' ||\n                                                                           kas_protsent || '(' || sooduse_kehtivus ||\n                                                                           ')')\n                                ELSE '' END                                                                AS soodustus,\n                            soodustus::NUMERIC(12, 2)                                                      AS soodustuse_summa,\n                            kas_ettemaks::BOOLEAN                                                          AS ettemaks,\n                            TRUE                                                                           AS select,\n                            v.kogus,\n                            v.tunnus,\n                            v.ettemaksu_period,\n                            v.kas_eraldi,\n                            to_char(v.sooduse_alg, 'DD.MM.YYYY')                                           AS sooduse_alg,\n                            to_char(v.sooduse_lopp, 'DD.MM.YYYY')                                          AS sooduse_lopp,\n                            to_char(v.alg_kpv, 'DD.MM.YYYY')                                               AS alg_kpv,\n                            to_char(v.lopp_kpv, 'DD.MM.YYYY')                                              AS lopp_kpv,\n                            v.yksuse_kood,\n                            count(*) OVER ()                                                               AS rows_total\n                     FROM lapsed.cur_lapse_kaart v\n                     WHERE rekvid = $1::INTEGER",params:"",alias:"curLapsed",converter:function(e){var t=0;return e.map(function(e){return t++,e.row_id=t,e})}},print:[{view:"lapse_teenused_kaart",params:"id"},{view:"lapse_teenused_register",params:"sqlWhere"}],getLog:{command:"SELECT ROW_NUMBER() OVER ()                                               AS id,\n                         (ajalugu ->> 'user')::TEXT                                         AS kasutaja,\n                         to_char((ajalugu ->> 'created')::TIMESTAMP, 'DD.MM.YYYY HH.MM.SS') AS koostatud,\n                         to_char((ajalugu ->> 'updated')::TIMESTAMP, 'DD.MM.YYYY HH.MM.SS') AS muudatud,\n                         to_char((ajalugu ->> 'print')::TIMESTAMP, 'DD.MM.YYYY HH.MM.SS')   AS prinditud,\n                         to_char((ajalugu ->> 'deleted')::TIMESTAMP, 'DD.MM.YYYY HH.MM.SS') AS kustutatud\n\n                  FROM (\n                           SELECT jsonb_array_elements(d.ajalugu) AS ajalugu\n                           FROM lapsed.lapse_kaart d,\n                                ou.userid u\n                           WHERE d.id = $1\n                             AND u.id = $2\n                       ) qry",type:"sql",alias:"getLogs"},muudaEttemaksuPeriod:{command:"SELECT error_code, result, error_message, doc_type_id\n                  FROM lapsed.muuda_ettemaksu_period($2::INTEGER, $1::INTEGER, $3::INTEGER)",type:"sql",alias:"muudaEttemaksuPeriod"},muudaTeenusteTahtaeg:{command:"SELECT lapsed.muuda_teenuste_tahtaeg($2::INTEGER, id::INTEGER, $3::DATE)\n                  FROM lapsed.lapse_kaart\n                  WHERE id IN (\n                      SELECT unnest(string_to_array($1::TEXT, ','::TEXT))::INTEGER\n                  )\n                    AND staatus <> 3",type:"sql",alias:"muudaTeenusteTahtaeg"},importTeenused:{command:"SELECT error_code, result, error_message\n                  FROM lapsed.import_laste_teenused($1::JSONB, $2::INTEGER, $3::INTEGER)",type:"sql",alias:"importTeenused"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(32),d=a(9),u=a(1),c=a(169),p=a(219),h=a(83),m=a(213),f=a(211),y=a(191),k=a(246),g=a(221),b=a(248),v=[{id:"tunnus",filter:""},{id:"nomenclature",filter:"where dok = 'ARV'"},{id:"lapse_grupp",filter:""}],E=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.btnEditNomClick=a.btnEditNomClick.bind(a),a.btnEditLapsClick=a.btnEditLapsClick.bind(a),a.btnEditLapseGruppClick=a.btnEditLapseGruppClick.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.pages=[{pageName:"Teenus",docTypeId:"LAPSE_KAART"}],a.libs={},a}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=void 0;e=this.props.history&&this.props.history.location.state?this.props.history.location.state.lapsId:u.laps?u.laps:null,this.setState({lapsId:e})}},{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return d.createElement(c,{docId:this.state.docId,ref:"document",module:this.state.module,docTypeId:"LAPSE_KAART",userData:this.props.userData,initData:e,libs:v,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,handleInputChange:this.handleInputChange,history:this.props.history})}},{key:"renderer",value:function(e){var t=e.state.edited;+e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId);var a=b.btnEditNom,n=void 0;e.libs.lapse_grupp&&e.docData.yksus&&(n=e.libs.lapse_grupp.find(function(t){return t.kood===e.docData.yksus}));var r=(n?n.all_yksused:[]).map(function(e,t){return{id:t++,nimetus:e}}),i=[{id:0,kood:"",nimetus:"",hind:0,kogus:0,kas_inf3:!1}];try{n&&(i=(n.teenused&&e.libs.nomenclature.length>0?n.teenused:[]).map(function(t){var a=e.libs.nomenclature.find(function(e){return e.id===+t.nomid});if(a){var n=a.nimetus?a.nimetus+" (hind: "+(+t.hind).toFixed(2)+") ":"";return o({},a,{nimetus:n,id:+t.nomid})}}).sort(function(e,t){return e.kood.localeCompare(t.kood)}))}catch(e){}var l=!!e.docData.parentid;return d.createElement("div",{style:b.doc},d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(k,{title:"Lapse nimi:",name:"parentid",userData:e.userData,libName:"laps",sqlFields:["nimi","isikukood"],data:[],value:e.docData.parentid||0,defaultValue:e.docData.lapse_nimi,boundToGrid:"nimi",boundToData:"lapse_nimi",ref:"select-parentid",btnDelete:!1,onChange:e.handleInputChange,history:this.props.history,readOnly:l})),d.createElement("div",{style:b.docColumn},d.createElement(h,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditLapsClick,show:!t,style:a,disabled:!1}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(f,{title:"Üksus:",name:"yksus",libs:"lapse_grupp",data:e.libs.lapse_grupp,value:e.docData.yksus||"",defaultValue:e.docData.yksys||"",ref:"select-lapse_grupp",collId:"kood",btnDelete:t,onChange:e.handleInputChange,readOnly:!t})),d.createElement("div",{style:b.docColumn},d.createElement(h,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditLapseGruppClick,show:!t,disabled:!1,style:a}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(f,{title:"All üksus:",name:"all_yksus",libs:"lapse_all_yksus",data:r,value:e.docData.all_yksus||"",defaultValue:e.docData.all_yksys||"",ref:"select-lapse_all_yksus",collId:"nimetus",onChange:e.handleInputChange,readOnly:!t}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(f,{title:"Kood:",name:"nomid",libs:"nomenclature",data:i,value:e.docData.nomid||0,defaultValue:e.docData.kood,ref:"select-nomid",collId:"id",btnDelete:t,onChange:e.handleInputChange,readOnly:!t})),d.createElement("div",{style:b.docColumn},d.createElement(h,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditNomClick,show:!t,disabled:!1,style:a}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(p,{ref:"input-hind",title:"Hind:",name:"hind",value:+e.docData.hind||0,readOnly:!t,onChange:e.handleInputChange})),d.createElement("div",{style:b.docColumn},d.createElement(p,{ref:"input-kogus",title:"Kogus:",name:"kogus",value:+e.docData.kogus||0,readOnly:!t,onChange:e.handleInputChange}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(f,{title:"Tunnus:",name:"tunnus",libs:"tunnus",data:e.libs.tunnus,value:e.docData.tunnus||"",defaultValue:e.docData.tunnus||"",ref:"select-tunnus",collId:"kood",btnDelete:t,onChange:e.handleInputChange,readOnly:!t}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(m,{title:"Kehtib alates:",name:"alg_kpv",value:e.docData.alg_kpv||"",ref:"input-alg_kpv",readOnly:!t,onChange:e.handleInputChange})),d.createElement("div",{style:b.docColumn},d.createElement(m,{title:"Kehtib kuni:",name:"lopp_kpv",value:e.docData.lopp_kpv||"",ref:"input-lopp_kpv",readOnly:!t,onChange:e.handleInputChange}))),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(y,{title:"Kas ettemaks?",name:"kas_ettemaks",value:!!e.docData.kas_ettemaks,ref:"checkbox_kas_ettemaks",onChange:e.handleInputChange,readOnly:!t})),e.docData.kas_ettemaks?d.createElement("div",{style:b.docColumn},d.createElement(p,{ref:"input-ettemaksu_period",title:"Ettemaksu period:",name:"ettemaksu_period",value:+e.docData.ettemaksu_period||0,readOnly:!t,onChange:e.handleInputChange})):null),d.createElement("div",{style:b.docRow},d.createElement("div",{style:b.docColumn},d.createElement(y,{title:"Kas arvesta eraldi?",name:"kas_eraldi",value:!!e.docData.kas_eraldi,ref:"checkbox_kas_eraldi",onChange:e.handleInputChange,readOnly:!t}),d.createElement(y,{title:"Kas INF3?",name:"kas_inf3",value:!!e.docData.kas_inf3,ref:"checkbox_kas_inf3",onChange:e.handleInputChange,readOnly:!t})),d.createElement("div",{style:b.docColumn},d.createElement(p,{ref:"input-soodus",title:"Soodustus:",name:"soodus",value:+e.docData.soodus||0,readOnly:!t,onChange:e.handleInputChange}),d.createElement(m,{title:"Kehtib alates:",name:"sooduse_alg",value:e.docData.sooduse_alg||"",ref:"input-soodus_alg",readOnly:!t,onChange:e.handleInputChange}),d.createElement(m,{title:"Kehtib kuni:",name:"sooduse_lopp",value:e.docData.sooduse_lopp||"",ref:"input-soodus_lopp",readOnly:!t,onChange:e.handleInputChange}),d.createElement(y,{title:"Kas soodustus protsentides?",name:"kas_protsent",value:!!e.docData.kas_protsent,ref:"checkbox_kas_protsent",onChange:e.handleInputChange,readOnly:!t}))),d.createElement("div",{style:b.docRow},d.createElement(g,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})))}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"handleInputChange",value:function(e,t){if("nomid"===e){var a=this.refs.document,n=void 0;if(a.libs.lapse_grupp&&a.docData.yksus&&(n=a.libs.lapse_grupp.find(function(e){return e.kood===a.docData.yksus})),n.teenused){var r=n.teenused.find(function(e){return e.nomid==t});a.docData.kogus=r.kogus?r.kogus:a.docData.kogus,a.docData.hind=r.hind?r.hind:a.docData.hind,a.docData.nomid=r.nomid?r.nomid:a.docData.nomid;var i=!("id"in a.docData&&a.docData.id);if(i){var o=a.libs.nomenclature.find(function(e){return e.id===+a.docData.nomid});o&&o.kas_inf3&&(a.docData.kas_inf3=o.kas_inf3)}}}}},{key:"handleGridBtnClick",value:function(e,t,a,n){switch(e){case"edit":this.props.history.push("/lapsed/"+n+"/"+a);break;case"add":this.props.history.push("/lapsed/"+n+"/0/"+this.state.docId);break;case"delete":}}},{key:"btnEditNomClick",value:function(){var e=this.refs.document.docData.nomid;this.props.history.push("/lapsed/nomenclature/"+e)}},{key:"btnEditLapseGruppClick",value:function(){var e=this.refs.document.docData.yksus,t=this.refs.document.libs.lapse_grupp.find(function(t){return t.kood===e}).id;t&&this.props.history.push("/lapsed/lapse_grupp/"+t)}},{key:"btnEditLapsClick",value:function(){var e=this.refs.document.docData.parentid;this.props.history.push({pathname:"/lapsed/laps/"+e,state:{teenusId:this.state.docId,module:this.state.module}})}}]),t}(d.PureComponent);E.propTypes={docId:s.number,initData:s.object,userData:s.object},E.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=E},,,function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"},selectNom:{marginLeft:"10px"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(219),u=a(250),c=a(251),p="LAPSE_TAABEL",h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Summa kokku:",name:"summa_kokku",style:c.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=u(e.gridData||[],"summa");return t&&this.setState({summa:t}),null}}]),t}(l.PureComponent);e.exports=h},,function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(32),s=a(9),d=a(169),u=a(219),c=a(83),p=a(211),h=a(246),m=a(221),f=a(253),y=a(1),k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={module:"lapsed",loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:e.lapsId?e.lapsId:e.match.params.paramId?+e.match.params.paramId:0},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleGridBtnClick=a.handleGridBtnClick.bind(a),a.btnEditNomClick=a.btnEditNomClick.bind(a),a.btnEditLapsClick=a.btnEditLapsClick.bind(a),a.lapsIdChangehandler=a.lapsIdChangehandler.bind(a),a.pages=[{pageName:"Lapse taabel",docTypeId:"LAPSE_TAABEL"}],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){!this.state.lapsId&&y.laps&&this.setState({lapsId:y.laps})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.lapsId!==t.lapsId){var a=this.refs.document;a.createLibs()}}},{key:"render",value:function(){var e=this.state.lapsId?"where lapsid = "+this.state.lapsId:"",t=[{id:"lapse_kaart",filter:e}],a=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"LAPSE_TAABEL",module:this.state.module,initData:a,libs:t,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,history:this.props.history})}},{key:"renderer",value:function(e){var t=e.state.edited;0!==e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId),!this.state.lapsId&&e.docData.parentid&&this.setState({lapsId:e.docData.parentid});var a=new Date,n=a.getMonth(),r=a.getFullYear(),i=f.btnEditNom,o=e.libs.lapse_kaart?e.libs.lapse_kaart.filter(function(t){return t.lapsid===e.docData.parentid}):[];return s.createElement("div",{style:f.doc},s.createElement("div",{style:f.docRow},s.createElement("div",{style:f.docColumn},s.createElement(h,{title:"Lapse nimi:",name:"parentid",libName:"laps",sqlFields:["nimi","isikukood"],data:[],value:e.docData.parentid||0,defaultValue:e.docData.nimi,boundToGrid:"nimi",boundToData:"nimi",ref:"select-parentid",btnDelete:!1,userData:e.userData,onChange:this.lapsIdChangehandler,readOnly:!t})),s.createElement("div",{style:f.docColumn},s.createElement(c,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditLapsClick,show:!t,style:i,disabled:!1}))),s.createElement("div",{style:f.docRow},s.createElement("div",{style:f.docColumn},s.createElement(p,{title:"Kood:",name:"lapse_kaart_id",libs:"lapse_kaart",data:o,value:e.docData.lapse_kaart_id||0,defaultValue:e.docData.nimetus,ref:"select-lapse_kaart_id",btnDelete:t,onChange:e.handleInputChange,readOnly:!t})),s.createElement("div",{style:f.docColumn},s.createElement(c,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditNomClick,show:!t,style:i,disabled:!1}))),s.createElement("div",{style:f.docRow},s.createElement("div",{style:f.docColumn},s.createElement(u,{ref:"input-kogus",title:"Kogus:",name:"kogus",value:+e.docData.kogus||0,readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-kuu",title:"Kuu:",name:"kuu",value:+e.docData.kuu||+n,readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{ref:"input-aasta",title:"Aasta:",name:"aasta",value:+e.docData.aasta||+r,readOnly:!t,onChange:e.handleInputChange}))),s.createElement("div",{style:f.docRow},s.createElement(m,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})))}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"handleGridBtnClick",value:function(e,t,a,n){switch(e){case"edit":this.props.history.push("/lapsed/"+n+"/"+a+"/0");break;case"add":this.props.history.push("/lapsed/"+n+"/0/"+this.state.docId)}}},{key:"btnEditNomClick",value:function(){var e=this.refs.document.docData.lapse_kaart_id;this.props.history.push("/lapsed/lapse_kaart/"+e)}},{key:"btnEditLapsClick",value:function(){var e=this.refs.document.docData.parentid;this.props.history.push("/lapsed/laps/"+e)}},{key:"lapsIdChangehandler",value:function(e,t){var a=this.refs.document;a.handleInputChange(e,t),a.createLibs()}}]),t}(s.PureComponent);k.propTypes={docId:l.number,initData:l.object,userData:l.object},k.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=k},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(255),u="PAEVA_TAABEL",c=a(229),p=a(1),h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(a.state={kogus:0},a.renderer=a.renderer.bind(a),!p.filter[u]){var i=c(),o=[{name:"id",type:"text",value:null},{name:"kpv",type:"date",value:i.start,start:i.start,end:i.end},{name:"yksus",type:"text",value:null},{name:"staatus",type:"text",value:null}];p.filter[u]=o}return a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer}))}},{key:"renderer",value:function(e){return null}}]),t}(l.PureComponent);e.exports=h},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(32),u=a(9),c="PAEVA_TAABEL",p=a(170),h=a(171),m=a(1),f=p[c]?p[c]:[],y=a(169),k=(a(219),a(83)),g=a(238),b=a(211),v=a(213),E=a(217),_=a(221),w=a(187),D=a(257),C=[{id:"lapse_grupp",filter:""}],O=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={module:"lapsed",loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,grupp_id:null,kpv:null,isRebuild:!1,isInit:!0,kogus:0},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a.handleGridRow=a.handleGridRow.bind(a),a.prepaireInitData=a.prepaireInitData.bind(a),a.handleGridCellClick=a.handleGridCellClick.bind(a),a.btnEditGruppClick=a.btnEditGruppClick.bind(a),a.handleHeaderClick=a.handleHeaderClick.bind(a),a.checkData=a.checkData.bind(a),a.pages=[{pageName:"Päeva taabel",docTypeId:c}],a.subtotals=["osalemine"],a}return i(t,e),s(t,[{key:"componentDidMount",value:function(){!this.state.lapsId&&m.laps&&this.setState({lapsId:m.laps})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.lapsId!==t.lapsId){var a=this.refs.document;a.createLibs()}}},{key:"render",value:function(){this.state.lapsId?"where lapsid = "+this.state.lapsId:"";return u.createElement(y,{docId:this.state.docId,ref:"document",docTypeId:c,module:this.state.module,initData:this.props.initData,libs:C,renderer:this.renderer,handleGridBtnClick:this.handleGridBtnClick,history:this.props.history,isDisableSave:!this.state.docId,isGridDataSave:!0,trigger:this.checkData})}},{key:"prepaireInitData",value:function(e){e.docData.gridData&&e.docData.gridData.length&&e.docData.noms&&e.docData.noms.length&&(e.docData.noms.forEach(function(t){var a=e.docData.gridConfig.find(function(e){return e.id==t.nom_id+""});t.teenus&&!a&&e.docData.gridConfig.push({id:t.nom_id+"",name:t.teenus,width:"50px",type:"boolean"})}),e.docData.gridData=e.docData.gridData.map(function(e){return e.noms.forEach(function(t){e[t.nom_id+""]||(e[t.nom_id+""]=!!t.kogus)}),e}),this.setState({isInit:!1}))}},{key:"renderer",value:function(e){var t=this,a=e.state.edited,n=m.userData?m.userData.roles:[];if(e.docData&&e.docData.gridData&&e.docData.gridData.length&&(this.state.isInit||!a)){this.prepaireInitData(e);var r=/^\d+$/;e.docData.gridConfig.forEach(function(e){r.test(e.id)&&(t.subtotals.some(function(t){return t==e.id})||t.subtotals.push(e.id))})}this.setState({grupp_id:e.docData.grupp_id,kpv:e.docData.kpv});var i=l({},D.grid.headerTable,D.grid);return u.createElement("div",{style:D.doc},u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(v,{title:"Kuupäev ",name:"kpv",value:e.docData.kpv,ref:"input-kpv",readOnly:!a,disabled:!!e.docData.id,onChange:e.handleInputChange})),u.createElement("div",{style:D.docColumn},u.createElement(E,{title:"Staatus",name:"status",value:e.docData.status||"",ref:"input-status",readOnly:!0}))),u.createElement("div",{style:D.docRow},u.createElement("div",{style:D.docColumn},u.createElement(b,{title:"Üksus:",name:"grupp_id",libs:"lapse_grupp",data:e.libs.lapse_grupp,value:e.docData.grupp_id||0,defaultValue:e.docData.yksys||"",ref:"select-lapse_grupp",collId:"id",btnDelete:a,onChange:e.handleInputChange,disabled:!!e.docData.id,readOnly:!a})),!e.docData.id&&e.docData.grupp_id&&h(n,f,"add")?u.createElement("div",{style:D.docColumn},u.createElement(g,{value:"Arvesta taabel ?",onClick:this.onClickHandler,showDate:!1,ref:"btn-arvesta",key:"key-arvesta"})):null,u.createElement("div",{style:D.docColumn},h(n,f,"edit")?u.createElement(k,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditGruppClick,show:!a,style:D.btnEdit,disabled:!1}):null)),u.createElement("div",{style:D.docRow},u.createElement(w,{source:"details",gridData:e.docData.gridData,gridColumns:e.docData.gridConfig,
showToolBar:!1,handleGridRow:this.handleGridRow,onHeaderClick:this.handleHeaderClick,onClick:e.handleGridCellClick,readOnly:!a,style:i,isForUpdate:a,subtotals:this.subtotals,ref:"data-grid"})),e.docData.id?u.createElement("div",{style:D.docRow},u.createElement(_,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!a})):null)}},{key:"handlePageClick",value:function(e){this.props.history.push("/lapsed/"+e)}},{key:"onClickHandler",value:function(e,t){var a=this,n=this.refs.document,r="/newApi/task/arvestaPaevaTaabel";n.fetchData("Post",r,{seisuga:this.state.kpv,docId:this.state.grupp_id}).then(function(e){if(e.data&&e.data.error_code)n.setState({warning:e.data.error_message,warningType:"error"},function(){a.forceUpdate()});else{var t=e.data&&e.data.result?e.data.result:null;if(t){var r="/lapsed/paeva_taabel/"+t;a.props.history.replace("/reload"),setTimeout(function(){a.props.history.replace(r)})}}})}},{key:"checkData",value:function(e,t,a,n){if(a&&"osalemine"==a&&!e.docData.gridData[t].osalemine){var r=!0,i=!1,l=void 0;try{for(var s,d=Object.entries(e.docData.gridData[t])[Symbol.iterator]();!(r=(s=d.next()).done);r=!0){var u=s.value,c=o(u,2),p=c[0],h=c[1];!isNaN(p)&&h&&(e.docData.gridData[t][p]=!h)}}catch(e){i=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw l}}}}},{key:"handleGridRow",value:function(e){this.setState({gridRowEdit:!0,gridRowEvent:e})}},{key:"handleHeaderClick",value:function(e){var t=this.refs.document.state.edited;if(t){var a=e[0].column;if(!isNaN(+a)){var n=this.refs.document.docData;n&&n.gridData&&n.gridData.length&&n.gridData.forEach(function(e){null!==e[a]&&void 0!==e[a]&&(e[a]=!e[a])})}}}},{key:"handleGridCellClick",value:function(e,t,a,n){gridData[a][n]=!gridData[a][n]}},{key:"btnEditGruppClick",value:function(){var e=this.refs.document.docData.grupp_id;this.props.history.push("/"+this.state.module+"/lapse_grupp/"+e)}}]),t}(u.PureComponent);O.propTypes={docId:d.number,initData:d.object,userData:d.object},O.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=O},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{tableLayout:"fixed",width:"-webkit-calc(100% + 16px)",position:"relative",top:"-30px",borderCollapse:"collapse"},headerTable:{tableLayout:"fixed",width:"100%",borderCollapse:"collapse"},gridContainer:{width:"100%"},boolSumbol:{yes:{value:"✔",color:"#007300"},no:{value:null,color:"red"}}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(32),s=a(9),d=a(169),u=a(217),c=a(83),p=a(246),h=a(211),m=a(221),f=a(187),y=a(191),k=a(259),g=[],b=(new Date,function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:null,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.handleLasteGridBtnClick=a.handleLasteGridBtnClick.bind(a),a.btnEditAsutusClick=a.btnEditAsutusClick.bind(a),a.pages=[{pageName:"Vanem kaart",docTypeId:"VANEM"},{pageName:"Arved",handlePageClick:a.handlePageClick,docTypeId:"ARV"},{pageName:"Maksekoraldused",handlePageClick:a.handlePageClick,docTypeId:"SMK"},{pageName:"Kassaorderid",handlePageClick:a.handlePageClick,docTypeId:"SORDER"}],a}return i(t,e),o(t,[{key:"componentDidMount",value:function(){if(this.props.history&&this.props.history.location.state){var e=this.props.history.location.state.lapsId,t=this.props.history.location.state.module;this.setState({lapsId:e,module:t})}}},{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"VANEM",history:this.props.history,module:this.state.module,userData:this.props.userData,initData:e,libs:g,pages:this.pages,renderer:this.renderer,handleGridBtnClick:this.handleLasteGridBtnClick})}},{key:"renderer",value:function(e){var t=e.state.edited,a=e.docData.lapsed,n=e.docData.gridConfig;return this.state.lapsId&&(e.docData.parentid=this.state.lapsId),s.createElement("div",{style:k.doc},s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(p,{title:"Vanem:",name:"asutusid",libName:"asutused",sqlFields:["nimetus","regkood"],data:[],value:e.docData.asutusid||0,defaultValue:e.docData.vanem_nimi,boundToGrid:"nimetus",boundToData:"vanem_nimi",ref:"select-asutusid",btnDelete:!1,userData:e.userData,onChange:e.handleInputChange,readOnly:!t})),s.createElement("div",{style:k.docColumn},s.createElement(c,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditAsutusClick,show:!t,style:k.btnEdit,disabled:!1}))),s.createElement("div",{style:k.docRow},s.createElement("div",{style:k.docColumn},s.createElement(u,{title:"Sugulus:",name:"suhtumine",value:e.docData.suhtumine||"",ref:"input-suhtumine",readOnly:!t,onChange:e.handleInputChange}),s.createElement(y,{title:"Arveldus:",name:"arved",value:!!e.docData.arved,ref:"checkbox_arved",onChange:e.handleInputChange,readOnly:!t}),e.docData.arved?s.createElement(y,{title:"Print paberil ?",name:"kas_paberil",value:!!e.docData.kas_paberil,ref:"checkbox_kas_paberil",onChange:e.handleInputChange,readOnly:!t}):null,e.docData.arved?s.createElement(y,{title:"E-arve ?",name:"kas_earve",value:!!e.docData.kas_earve,ref:"checkbox_kas_earve",onChange:e.handleInputChange,readOnly:!t}):null,e.docData.arved?s.createElement(h,{title:"Pank:",name:"pank",data:[{id:0,kood:"",nimetus:""},{id:1,kood:"SWED",nimetus:"Swedpank"},{id:2,kood:"SEB",nimetus:"Seb pank"}],collId:"kood",value:e.docData.pank||"",defaultValue:e.docData.pank,ref:"select-pank",btnDelete:t,onChange:e.handleInputChange,readOnly:!t}):null,e.docData.arved?s.createElement(y,{title:"Kas email ?",name:"kas_email",value:!!e.docData.kas_email,ref:"checkbox_kas_email",onChange:e.handleInputChange,readOnly:!t}):null,s.createElement(y,{title:"Lapse seaduslik esindaja",name:"kas_esindaja",value:!!e.docData.kas_esindaja,ref:"checkbox_kas_esindaja",onChange:e.handleInputChange,readOnly:!t}))),s.createElement("div",{style:k.docRow},s.createElement(m,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})),s.createElement("div",{style:k.docRow},s.createElement("label",{ref:"label"},"Lapsed")),s.createElement("div",{style:k.docRow},s.createElement(f,{source:"lapsed",gridData:a,gridColumns:n,showToolBar:!t,handleGridBtnClick:e.handleGridBtnClick,readOnly:!t,style:k.grid.headerTable,docTypeId:"laps",ref:"laspsed-data-grid"})))}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.vanem_nimi;this.props.history.push({pathname:"/lapsed/"+e,state:{asutus:t,type:"text"}})}},{key:"handleLasteGridBtnClick",value:function(e,t,a,n){switch(e){case"edit":this.props.history.push({pathname:"/lapsed/"+n+"/"+a,state:{vanemId:this.state.docId,module:this.state.module}});break;case"Muuda":this.props.history.push({pathname:"/lapsed/"+n+"/"+a,state:{vanemId:this.state.docId,module:this.state.module}});break;case"add":this.props.history.push({pathname:"/lapsed/"+n+"/0",state:{vanemId:this.state.docId,module:this.state.module}});break;case"delete":}}},{key:"btnEditAsutusClick",value:function(){var e=this.refs.document.docData.asutusid;this.props.history.push("/lapsed/asutused/"+e)}}]),t}(s.PureComponent));b.propTypes={docId:l.number,initData:l.object,userData:l.object},b.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=b},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(261),u=a(239),c=a(77),p="VANEM",h=a(170),m=a(171),f=a(1),y=h[p]?h[p]:[],k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){var e=f.userData?f.userData.roles:[],t={btnAdd:{show:!1,disabled:!1},btnEdit:{show:m(e,y,"edit"),disabled:!1},btnDelete:{show:m(e,y,"delete"),disabled:!1},btnPrint:{show:!0,disabled:!1}};return l.createElement(s,{initData:this.props.initData,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:p,style:d,toolbarParams:t,render:this.renderer})}},{key:"renderer",value:function(){var e=f.userData?f.userData.roles:[];return l.createElement(c,null,m(e,y,"importLepingud")?l.createElement(u,{ref:"btnUploadSwed",docTypeId:"import_leping_swed",onClick:this.handleClick,show:!0,value:"Loe panga lepingud (SWED)",mimeTypes:".csv"}):null,m(e,y,"importLepingud")?l.createElement(u,{ref:"btnUploadSeb",docTypeId:"import_leping_seb",onClick:this.handleClick,show:!0,value:"Loe panga lepingud (SEB)",mimeTypes:".csv"}):null,m(e,y,"importVanemateRegister")?l.createElement(u,{ref:"btnUpload",docTypeId:p,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null)}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(239),u=a(77),c=a(298),p="LAPSE_GRUPP",h=a(170),m=a(171),f=a(1),y=h[p]?h[p]:[],k=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,userData:this.props.userData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:p,style:c,render:this.renderer})}},{key:"renderer",value:function(){var e=f.userData?f.userData.roles:[];return l.createElement(u,null,m(e,y,"importGroups")?l.createElement(d,{ref:"btnUpload",docTypeId:p,onClick:this.handleClick,show:!0,mimeTypes:".csv"}):null)}},{key:"handleClick",value:function(e){var t=this.refs.register;return t?void(e&&(t.setState({warning:"Edukalt:  "+e+": ",warningType:"ok"}),setTimeout(function(){t.fetchData("selectDocs")},1e4))):null}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(32),s=a(9),d=a(169),u=a(217),c=a(211),p=a(219),h=a(221),m=a(187),f=a(182),y=a(300),k=[{id:"nomenclature",filter:"where dok = 'ARV'"},{id:"koolituse_tyyp",filter:""}],g=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,module:"lapsed"},a.renderer=a.renderer.bind(a),a.createGridRow=a.createGridRow.bind(a),a.gridValidateFields=a.gridValidateFields.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.pages=[{pageName:"Lapse grupp",docTypeId:"LAPSE_GRUPP"},{pageName:"Laste taabel",handlePageClick:a.handlePageClick,docTypeId:"LAPSE_TAABEL"}],a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",module:this.state.module,docTypeId:"LAPSE_GRUPP",libs:k,userData:this.props.userData,pages:this.pages,initData:e,renderer:this.renderer,createGridRow:this.createGridRow,gridValidator:this.gridValidateFields,history:this.props.history,focusElement:"input-kood"})}},{key:"renderer",value:function(e){var t=e.state.edited;0!==e.docData.id&&e.docData.parentid||!this.state.lapsId||(e.docData.parentid=this.state.lapsId);var a=void 0;return e.gridRowData&&(a=e.gridRowData.id?e.gridRowData.id:null),s.createElement("div",{style:y.doc},s.createElement("div",{style:y.docRow},s.createElement("div",{style:y.docColumn},s.createElement(u,{title:"Kood:",name:"kood",value:e.docData.kood||"",ref:"input-kood",readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{title:"Nimetus:",name:"nimetus",value:e.docData.nimetus||"",ref:"input-nimetus",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"Koolituse tüüp:",name:"tyyp",data:e.libs.koolituse_tyyp,value:e.docData.tyyp,ref:"tyyp",collId:"id",readOnly:!e.state.edited,onChange:e.handleInputChange}),s.createElement("label",null,"All üksused",s.createElement(u,{title:"",name:"all_yksus_1",value:e.docData.all_yksus_1||"",ref:"input-all_yksus_1",readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{title:"",name:"all_yksus_2",value:e.docData.all_yksus_2||"",ref:"input-all_yksus_2",readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{title:"",name:"all_yksus_3",value:e.docData.all_yksus_3||"",ref:"input-all_yksus_3",readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{title:"",name:"all_yksus_4",value:e.docData.all_yksus_4||"",ref:"input-all_yksus_4",readOnly:!t,onChange:e.handleInputChange}),s.createElement(u,{title:"",name:"all_yksus_5",value:e.docData.all_yksus_5||"",ref:"input-all_yksus_5",readOnly:!t,onChange:e.handleInputChange})))),s.createElement("div",{style:y.docRow},s.createElement(m,{source:"teenused",gridData:e.docData.gridData,gridColumns:e.docData.gridConfig,showToolBar:t,createGridRow:this.createGridRow,handleGridRow:e.handleGridRow,handleGridBtnClick:e.handleGridBtnClick,readOnly:!t,style:y.grid.headerTable,ref:"data-grid"})),s.createElement("div",{style:y.docRow},s.createElement(h,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})),e.state.gridRowEdit?this.createGridRow(e):null)}},{key:"createGridRow",value:function(e){var t=e.gridRowData?e.gridRowData:{},a="",n=a.length>0||!e.state.checked,r=["btnOk","btnCancel"];return n&&r.splice(0,1),t?s.createElement("div",{className:".modalPage"},s.createElement(f,{modalObjects:r,ref:"modalpage-grid-row",show:!0,modalPageBtnClick:e.modalPageClick,modalPageName:"Rea lisamine / parandamine"},s.createElement("div",{ref:"grid-row-container"},e.state.gridWarning.length?s.createElement("div",{style:y.docRow},s.createElement("span",null,e.state.gridWarning)):null,s.createElement("div",{style:y.docRow},s.createElement(c,{title:"Teenus",name:"nomid",libs:"nomenclature",data:e.libs.nomenclature,value:+t.nomid||0,defaultValue:t.kood||"",ref:"nomid",collId:"id",placeholder:"Teenuse kood",onChange:e.handleGridRowChange})),s.createElement("div",{style:y.docRow},s.createElement(p,{title:"Kogus: ",name:"kogus",value:+t.kogus||1,bindData:!1,ref:"kogus",onChange:e.handleGridRowInput})),s.createElement("div",{style:y.docRow},s.createElement(p,{title:"Hind: ",name:"hind",value:+t.hind||0,bindData:!1,ref:"hind",onChange:e.handleGridRowInput}))),s.createElement("div",null,s.createElement("span",null,a)))):s.createElement("div",null)}},{key:"gridValidateFields",value:function(){var e="",t=this.refs.document;if(t&&t.gridRowData){if(t.gridRowData&&!t.gridRowData.nomid&&(e+=" Puudub operatsioon"),t.gridRowData.nomid){var a=t.libs.nomenclature.find(function(e){return+e.id===+t.gridRowData.nomid});t.gridRowData.kood=a.kood,t.gridRowData.nimetus=a.nimetus,t.gridRowData.hind||(t.gridRowData.hind=a.hind)}t.gridRowData.kogus||(t.gridRowData.kogus=1)}return e}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.nimetus;this.props.history.push({pathname:"/lapsed/"+e,state:{yksus:t,type:"text"}})}}]),t}(s.PureComponent);g.propTypes={docId:l.number,initData:l.object,userData:l.object},g.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEditNom:{width:"min-content"},selectNom:{marginLeft:"10px"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(181),p=a(180),h=a(1),m=a(302),f="TEATIS",y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:f,style:m,render:this.renderer})}},{key:"renderer",value:function(){return l.createElement(u,null,l.createElement(d,{value:"Koosta teatised",onClick:this.onClickHandler,ref:"btn-teatis"}),l.createElement(c,{onClick:this.onClickHandler,ref:"btnEmail",value:"Email kõik valitud teatised"}),l.createElement(p,{onClick:this.onClickHandler,ref:"btnPrint",value:"Trükk kõik valitud teatised"}))}},{key:"onClickHandler",value:function(e,t){var a=this.refs.register,n=new Set;switch(e){case"Koosta teatised":a.fetchData("calc/koostaTeatis",{seisuga:t}).then(function(e){e.result?a.setState({warning:"Kokku arvestatud: "+e.result,warningType:"ok"}):e.error_message?a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"}):a.setState({warning:"0 dokumendid koostatud",warningType:"notValid"}),a.fetchData("selectDocs")});break;case"Email kõik valitud teatised":a.gridData.forEach(function(e){e.select&&n.add(e.id)}),n=Array.from(n),n.length?a.fetchData("email/teatis",n).then(function(e){e.result?(a.setState({warning:"Kokku saadetud teatised emailga: "+e.result,warningType:"ok"}),a.fetchData("selectDocs")):a.setState({warning:"Tekkis viga: "+e.error_message,warningType:"error"})}).catch(function(e){a.setState({warning:"Tekkis viga: "+e,warningType:"error"})}):a.setState({warning:"Mitte ühtegi arve leidnum",warningType:"notValid"});break;case"Trükk kõik valitud teatised":if(a.gridData.forEach(function(e){e.select&&n.add(e.id)}),n=Array.from(n),n.length>0){a.setState({warning:"Leidsin "+n.length+" teatised printimiseks",warningType:"ok"},function(){a.fetchData("selectDocs")});var r="/multiple_print/"+f+"/"+h.userData.uuid+"/"+n;window.open(""+r)}else a.setState({warning:"Mitte ühtegi dokumend leidnum",warningType:"notValid"})}}}]),t}(l.PureComponent);e.exports=y},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(32),s=a(9),d=a(169),u=a(246),c=a(213),p=a(217),h=a(83),m=a(221),f=a(223),y=a(304),k=[],g=(new Date,function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loadedData:!1,docId:e.docId?e.docId:+e.match.params.docId,lapsId:null,module:"lapsed"},a.renderer=a.renderer.bind(a),a.handlePageClick=a.handlePageClick.bind(a),a.btnEditAsutusClick=a.btnEditAsutusClick.bind(a),a.pages=[{pageName:"Teatis",docTypeId:"TEATIS"}],a}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.initData?this.props.initData:{};return s.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"TEATIS",history:this.props.history,module:this.state.module,userData:this.props.userData,initData:e,libs:k,pages:this.pages,renderer:this.renderer,focusElement:"input-number"})}},{key:"renderer",value:function(e){var t=e.state.edited;return e.docData.relations&&f(e),s.createElement("div",{style:y.doc},s.createElement("div",{style:y.docRow},s.createElement("div",{style:y.docColumn},s.createElement(p,{title:"Number:",name:"number",value:e.docData.number||"",ref:"input-number",readOnly:!t,onChange:e.handleInputChange}),s.createElement(c,{title:"Kuupäev ",name:"kpv",value:e.docData.kpv,ref:"input-kpv",readOnly:!t,onChange:e.handleInputChange}))),s.createElement("div",{style:y.docRow},s.createElement("div",{style:y.docColumn},s.createElement(u,{title:"Saaja:",name:"asutusid",libName:"asutused",sqlFields:["nimetus","regkood"],data:[],value:e.docData.asutusid||0,defaultValue:e.docData.asutus,boundToGrid:"nimetus",boundToData:"asutus",ref:"select-asutusid",btnDelete:!1,onChange:e.handleInputChange,readOnly:!t})),s.createElement("div",{style:y.docColumn},s.createElement(h,{ref:"btnEdit",value:"Muuda",onClick:this.btnEditAsutusClick,show:!t,style:y.btnEdit,disabled:!1}))),s.createElement("div",{style:y.docRow},s.createElement(m,{title:"Sisu",name:"sisu",ref:"textarea-sisu",onChange:e.handleInputChange,value:e.docData.sisu||"",readOnly:!t})),s.createElement("div",{style:y.docRow},s.createElement(m,{title:"Märkused",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!t})))}},{key:"handlePageClick",value:function(e){var t=this.refs.document.docData.vanem_nimi;this.props.history.push({pathname:"/lapsed/"+e,state:{asutus:t,type:"text"}})}},{key:"btnEditAsutusClick",value:function(){var e=this.refs.document.docData.asutusid;this.props.history.push("/lapsed/asutused/"+e)}}]),t}(s.PureComponent));g.propTypes={docId:l.number,initData:l.object,userData:l.object},g.defaultProps={params:{docId:0},initData:{},userData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(306),u=a(307).grid.gridConfiguration,c="ASUTUSE_LIIK",p=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,gridConfig:u,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:c,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t){"use strict";e.exports={selectAsLibs:"SELECT *\n                   FROM (\n                            SELECT 0 AS id, ''::VARCHAR(20) AS kood, ''::VARCHAR(254) AS nimetus, $1 AS rekv_id\n                            UNION\n                            SELECT id, kood::TEXT AS kood, nimetus::TEXT AS name, $1 AS rekv_id\n                            FROM libs.library l\n                            WHERE library::TEXT = 'ASUTUSE_LIIK'\n                              AND l.status <> 3\n                        ) qry\n                   ORDER BY kood",select:[{sql:"SELECT l.id,\n                     l.kood::VARCHAR(20)     AS kood,\n                     l.nimetus::VARCHAR(254) AS nimetus,\n                     l.library::VARCHAR(20),\n                     l.muud,\n                     $2::INTEGER             AS userid,\n                     'ASUTUSE_LIIK'          AS doc_type_id\n              FROM libs.library l\n              WHERE l.library = 'ASUTUSE_LIIK'\n                AND l.id = $1",sqlAsNew:"select  \n                    $1::integer as id , \n                    $2::integer as userid, \n                    'ASUTUSE_LIIK' as doc_type_id,\n                    null::TEXT as  kood,\n                    null::integer as rekvid,\n                    null::TEXT as nimetus,\n                    'ASUTUSE_LIIK'::varchar(20) as library,\n                    null::text as muud",query:null,multiple:!1,alias:"row",data:[]}],returnData:{row:{},details:[],gridConfig:[]},requiredFields:[{name:"kood",type:"C"},{name:"nimetus",type:"C"},{name:"library",type:"C"}],saveDoc:"select libs.sp_salvesta_library($1, $2, $3) as id",deleteDoc:"SELECT error_code, result, error_message\n                FROM libs.sp_delete_library($1::INTEGER, $2::INTEGER)",grid:{gridConfiguration:[{id:"id",name:"id",width:"10%",show:!1},{id:"kood",name:"Kood",width:"25%"},{id:"nimetus",name:"Nimetus",width:"35%"}],sqlString:"SELECT l.*, $1::INTEGER AS rekv_id, $2::INTEGER AS userId\n                    FROM libs.library l\n                    WHERE l.library::TEXT = 'ASUTUSE_LIIK'\n                      AND l.status <> 3",params:"",alias:"curLiik"},print:[{view:"asutuse_liik",params:"id"},{view:"asutuse_liik",params:"sqlWhere"}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(221),p=a(309),h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"ASUTUSE_LIIK",module:this.props.module,initData:this.props.initData,
renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:p.doc},l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);h.propTypes={docId:s.number,initData:s.object},h.defaultProps={initData:{}},e.exports=h},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(311),u="KOOLITUSE_TYYP",c=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(221),p=a(313),h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"KOOLITUSE_TYYP",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:p.doc},l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);h.propTypes={docId:s.number,initData:s.object},h.defaultProps={initData:{}},e.exports=h},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(315),u="KOOLITUSE_LIIK",c=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=c},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(221),p=a(317),h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"KOOLITUSE_LIIK",module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-kood",history:this.props.history})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:p.doc},l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Kood ",name:"kood",ref:"input-kood",readOnly:!e.state.edited,value:e.docData.kood||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement("div",{style:p.docColumn},l.createElement(u,{title:"Nimetus ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange}))),l.createElement("div",{style:p.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);h.propTypes={docId:s.number,initData:s.object},h.defaultProps={initData:{}},e.exports=h},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(319),u="PANK_VV",c=a(170),p=a(171),h=a(1),m=c[u]?c[u]:[],f=h.userData?h.userData.roles:[],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.btnEditClick=a.btnEditClick.bind(a),a.Doc=null,a.renderer=a.renderer.bind(a),a.render=a.render.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){var e=void 0;this.Doc&&(e=this.Doc&&this.Doc.state?this.Doc.state:null);var t={btnAdd:{show:!1},btnEdit:{show:e&&e.value&&p(f,m,"edit")},btnDelete:{show:p(f,m,"delete")},btnPrint:{show:!1},btnStart:{show:!1}};return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:u,style:d,toolbarParams:t,btnEditClick:this.btnEditClick,render:this.renderer})}},{key:"renderer",value:function(e){this.Doc=e}},{key:"btnEditClick",value:function(){if(this.Doc&&this.Doc.state){var e=this.Doc.state.value,t=this.Doc.gridData,a=t.find(function(t){return t.id=e}).doc_id;if(a)return this.props.history.push({pathname:"/"+this.props.module+"/SMK/"+a,state:{module:this.props.module}});this.Doc.setState({warning:"Maksekorraldus ei leidnud",warningType:"error"})}}}]),t}(l.PureComponent);e.exports=y},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(219),p=a(221),h=a(321),m=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"CONFIG",history:this.props.history,module:this.props.module,initData:this.props.initData,renderer:this.renderer,focusElement:"input-number"})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Prefiks: ",name:"number",ref:"input-number",readOnly:!e.state.edited,value:e.docData.number||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Arvete tahtpäev ",name:"tahtpaev",ref:"input-tahtpaev",readOnly:!e.state.edited,value:e.docData.tahtpaev||"",onChange:e.handleInputChange}),l.createElement(c,{title:"Arve võlgnevuse limiit: ",name:"limiit",ref:"input-limiit",readOnly:!e.state.edited,value:e.docData.limiit||0,onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(p,{title:"Omniva e-arvete server",name:"earved",ref:"textarea-earved",onChange:e.handleInputChange,value:e.docData.earved||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);m.propTypes={docId:s.number,initData:s.object},m.defaultProps={initData:{}},e.exports=m},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(187),p=a(221),h=a(182),m=a(211),f=a(191),y=a(323),k=[{id:"kontod",filter:""},{id:"asutuse_liik",filter:""}],g=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a.createGridRow=a.createGridRow.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"REKV",history:this.props.history,module:this.props.module,libs:k,initData:this.props.initData,renderer:this.renderer,createGridRow:this.createGridRow})}},{key:"renderer",value:function(e){if(!e.docData)return null;var t=e.docData.gridData,a=e.docData.gridConfig;return l.createElement("div",{style:y.doc},l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Regkood: ",name:"regkood",ref:"input-regkood",readOnly:!e.state.edited,value:e.docData.regkood||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"KBM kood: ",name:"kbmkood",ref:"input-kbmkood",readOnly:!e.state.edited,value:e.docData.kbmkood||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Nimetus: ",name:"nimetus",ref:"input-nimetus",readOnly:!e.state.edited,value:e.docData.nimetus||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Täis. nimetus: ",name:"muud",ref:"input-muud",readOnly:!e.state.edited,value:e.docData.muud||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(m,{title:"Asutuse liik:",name:"liik",data:e.libs.asutuse_liik,value:e.docData.liik||"",defaultValue:e.docData.liik||"",ref:"liik",collId:"kood",readOnly:!e.state.edited,onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(p,{title:"Aadress: ",name:"aadress",ref:"textarea-aadress",onChange:e.handleInputChange,value:e.docData.aadress||"",readOnly:!e.state.edited})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Juhataja: ",name:"juht",ref:"input-juht",readOnly:!e.state.edited,value:e.docData.juht||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Raamatupidaja: ",name:"raama",ref:"input-raama",readOnly:!e.state.edited,value:e.docData.raama||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Email: ",name:"email",ref:"input-email",readOnly:!e.state.edited,value:e.docData.email||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Omniva salasõna: ",name:"earved",ref:"input-earved",readOnly:!e.state.edited,value:e.docData.earved||"",onChange:e.handleInputChange})),l.createElement("div",{style:y.docRow},l.createElement(c,{source:"details",gridData:t,gridColumns:a,showToolBar:e.state.edited,handleGridRow:this.handleGridRow,handleGridBtnClick:e.handleGridBtnClick,readOnly:!e.state.edited,style:y.grid.headerTable,ref:"data-grid"})),e.state.gridRowEdit?this.createGridRow(e):null)}},{key:"createGridRow",value:function(e){var t=e.gridRowData?e.gridRowData:{},a="",n=a.length>0||!e.state.checked,r=["btnOk","btnCancel"];return n&&r.splice(0,1),t?l.createElement("div",{className:".modalPage"},l.createElement(h,{modalObjects:r,ref:"modalpage-grid-row",show:!0,modalPageBtnClick:e.modalPageClick,modalPageName:"Rea lisamine / parandamine"},l.createElement("div",{ref:"grid-row-container"},e.state.gridWarning.length?l.createElement("div",{style:y.docRow},l.createElement("span",null,e.state.gridWarning)):null,l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Number: ",name:"arve",value:t.arve||"",readOnly:!1,disabled:!1,bindData:!1,ref:"number",onChange:e.handleGridRowInput})),l.createElement("div",{style:y.docRow},l.createElement(u,{title:"Nimetus: ",name:"nimetus",value:t.nimetus||"",readOnly:!1,disabled:!1,bindData:!1,ref:"number",onChange:e.handleGridRowInput})),l.createElement("div",{style:y.docRow},l.createElement(m,{title:"Tüüp: ",name:"kassapank",data:[{id:0,nimetus:"Kassa"},{id:1,nimetus:"Pank"},{id:2,nimetus:"TP"}],value:t.kassapank||"",ref:"kassapank",collId:"id",onChange:e.handleGridRowChange})),l.createElement("div",{style:y.docRow},l.createElement(m,{title:"Konto: ",name:"konto",data:e.libs.kontod,value:t.konto||"",ref:"konto",collId:"kood",onChange:e.handleGridRowChange})),l.createElement("div",{style:y.docRow},l.createElement(f,{title:"Kas põhiline?",name:"default_",value:!!e.docData.default_,ref:"checkbox_default_",onChange:e.handleInputChange,readOnly:!1}))),l.createElement("div",null,l.createElement("span",null,a)))):l.createElement("div",null)}}]),t}(l.PureComponent);g.propTypes={docId:s.number,initData:s.object},g.defaultProps={initData:{}},e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},grid:{mainTable:{width:"100%"},headerTable:{width:"100%"},gridContainer:{width:"100%"}},gridRow:{backgroundColor:"white",position:"relative",margin:"10% 30% 10% 30%",width:"auto",opacity:"1",top:"100px"},btnEdit:{width:"min-content"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(221),p=a(211),h=a(325),m=[{id:"kontod",filter:"where len(kood::text) >= 6"}],f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1,docTypeId:a.props.history.location.state?a.props.history.location.state.docPropId:""},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",history:this.props.history,libs:m,docTypeId:"DOKPROPS",initData:this.props.initData,renderer:this.renderer})}},{key:"renderer",value:function(e){return e.docData?(!e.docData.dok&&this.props.history&&(e.docData.dok=this.props.history.location.state.dokPropId),l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Dokument ",name:"dok",ref:"input-dok",readOnly:!0,value:e.docData.dok}),l.createElement(p,{title:"Korr. konto: ",name:"konto",libs:"kontod",data:e.libs.kontod,value:e.docData.konto,readOnly:!e.state.edited,ref:"konto",collId:"kood",onChange:e.handleInputChange}),l.createElement(p,{title:"KBM.konto: ",name:"kbmkonto",libs:"kontod",data:e.libs.kontod,value:e.docData.kbmkonto,readOnly:!e.state.edited,ref:"kbmkonto",collId:"kood",onChange:e.handleInputChange}))),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Selgitus",name:"selg",ref:"textarea-selg",onChange:e.handleInputChange,value:e.docData.selg||"",readOnly:!e.state.edited})),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited})))):null}}]),t}(l.PureComponent);f.propTypes={docId:s.number,initData:s.object,userData:s.object},f.defaultProps={initData:{},userData:{}},e.exports=f},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(32),d=a(169),u=a(217),c=a(221),p=a(191),h=a(327),m=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={docId:e.docId?e.docId:+e.match.params.docId,loadedData:!1},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(d,{docId:this.state.docId,ref:"document",docTypeId:"USERID",module:this.props.module,initData:this.props.initData,renderer:this.renderer})}},{key:"renderer",value:function(e){return e.docData?l.createElement("div",{style:h.doc},l.createElement("div",{style:h.docRow},l.createElement("div",{style:h.docColumn},l.createElement(u,{title:"Kasutaja tunnus:  ",name:"kasutaja",ref:"input-kasutaja",readOnly:!0,value:e.docData.kasutaja||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Nimi: ",name:"ametnik",ref:"input-ametnik",readOnly:!e.state.edited,value:e.docData.ametnik||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email: ",name:"email",ref:"input-email",readOnly:!e.state.edited,value:e.docData.email||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Smtp: ",name:"smtp",ref:"input-smtp",readOnly:!e.state.edited,value:e.docData.smtp||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Port: ",name:"port",ref:"input-port",readOnly:!e.state.edited,value:e.docData.port||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email kasutaja: ",name:"user",ref:"input-user",readOnly:!e.state.edited,value:e.docData.user||"",onChange:e.handleInputChange}),l.createElement(u,{title:"Email parool: ",name:"pass",ref:"input-pass",readOnly:!e.state.edited,value:e.docData.pass||"",onChange:e.handleInputChange}),l.createElement(p,{title:"Kas raamatupidaja?",name:"is_kasutaja",value:!!e.docData.is_kasutaja,ref:"checkbox_is_kasutaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas peakasutaja?",name:"is_peakasutaja",value:!!e.docData.is_peakasutaja,ref:"checkbox_is_peakasutaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas administraator?",name:"is_admin",value:!!e.docData.is_admin,ref:"checkbox_is_admin",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas vaatleja?",name:"is_vaatleja",value:!!e.docData.is_vaatleja,ref:"checkbox_is_vaatleja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas laste arvestaja?",name:"is_arvestaja",value:!!e.docData.is_arvestaja,ref:"checkbox_is_arvestaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse koostaja?",name:"is_eel_koostaja",value:!!e.docData.is_eel_koostaja,ref:"checkbox_is_eel_koostaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse allkriastaja?",name:"is_eel_allkirjastaja",value:!!e.docData.is_eel_allkirjastaja,ref:"checkbox_is_eel_allkirjastaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas eelarve taotluse esitaja?",name:"is_eel_esitaja",value:!!e.docData.is_eel_esitaja,ref:"checkbox_is_eel_esitaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas asutuste korraldaja?",name:"is_asutuste_korraldaja",value:!!e.docData.is_asutuste_korraldaja,ref:"checkbox_is_asutuste_korraldaja",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas rekl.maksu administraator?",name:"is_rekl_administrator",value:!!e.docData.is_rekl_administrator,ref:"checkbox_is_rekl_administrator",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas rekl.maksu haldur?",name:"is_rekl_maksuhaldur",value:!!e.docData.is_rekl_maksuhaldur,ref:"checkbox_is_rekl_maksuhaldur",onChange:e.handleInputChange,readOnly:!0}),l.createElement(p,{title:"Kas ladu kasutaja?",name:"is_ladu_kasutaja",value:!!e.docData.is_ladu_kasutaja,ref:"checkbox_is_ladu_kasutaja",onChange:e.handleInputChange,readOnly:!0}))),l.createElement("div",{style:h.docRow},l.createElement(c,{title:"Muud",name:"muud",ref:"textarea-muud",onChange:e.handleInputChange,value:e.docData.muud||"",readOnly:!e.state.edited}))):null}}]),t}(l.PureComponent);m.propTypes={docId:s.number,initData:s.object},m.defaultProps={initData:{}},e.exports=m},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=(a(32),a(50)),d=a(1),u=a(217),c=a(172),p=a(181),h=a(184),m=a(77),f=a(221),y=a(84),k=a(329),g=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={email:null,subject:null,context:null,attachment:null,warningType:null,warning:null},a.btnEmailClickHandler=a.btnEmailClickHandler.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.handleBtnGetPdf=a.handleBtnGetPdf.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){var e=!!this.state.email,t=k[this.state.warningType]?k[this.state.warningType]:null;return l.createElement(c,null,l.createElement(m,null,l.createElement(p,{ref:"btnEmail",docTypeId:d.docTypeId,onClick:this.btnEmailClickHandler,disabled:!e}),l.createElement(y,{ref:"btnInfo",value:"",docTypeId:"email_document",show:!0})),l.createElement(m,{ref:"toolbar-container"},l.createElement("div",{className:"doc-toolbar-warning",style:t},this.state.warning?l.createElement("span",null,this.state.warning):null)),l.createElement(u,{title:"Adressaat: ",name:"email",ref:"input-email",value:this.state.email||"",onChange:this.handleInputChange}),l.createElement(u,{title:"Pealkiri: ",name:"subject",ref:"input-subject",value:this.state.subject||"",onChange:this.handleInputChange}),l.createElement(f,{title:"Sisu",name:"context",ref:"textarea-context",onChange:this.handleInputChange,value:this.state.context||""}),l.createElement(h,{value:"doc.pdf",name:"btnGetPdf",ref:"btnGetPdf",onClick:this.handleBtnGetPdf}))}},{key:"handleBtnGetPdf",value:function(){var e=void 0;if("id"==d["email-params"].queryType)e="/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/"+d["email-params"].docId,window.open(""+e);else{var t=encodeURIComponent(""+d["email-params"].sqlWhere),a=encodeURIComponent(""+JSON.stringify(d["email-params"].filterData));e=d["email-params"].filterData.length?"/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/"+a:"/pdf/"+d.docTypeId+"/"+d.userData.uuid+"/0",window.open(e+"/"+t)}}},{key:"handleInputChange",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:"btnEmailClickHandler",value:function(){var e=this,t={docTypeId:d["email-params"].docTypeId,id:"id"==d["email-params"].queryType?d["email-params"].docId:null,sqlWhere:"id"==d["email-params"].queryType?null:d["email-params"].sqlWhere,filterData:"id"==d["email-params"].queryType?null:d["email-params"].filterData,module:d.module,userId:d.userData.userId,uuid:d.userData.uuid,context:this.state.context,email:this.state.email,subject:this.state.subject};this.fetchData("Post","/email/sendPrintForm",t).then(function(t){200===t.status?e.setState({warning:"Email saadetud edukalt, suunatan ...",warningType:"ok"},function(){setTimeout(function(){e.props.history.goBack()},1e4)}):e.setState({warning:"Tekkis viga",warningType:"error"})}).catch(function(t){e.setState({warning:"Tekkis viga "+t.error,warningType:"error"})})}},{key:"fetchData",
value:function(e,t,a){var n=this,r=t?t:URL+"/"+this.props.docTypeId+"/"+this.state.docId,i="fetchDataPost";return e&&(i="fetchData"+e),new Promise(function(e,t){s[i](r,a).then(function(a){return a.status&&401===a.status&&(document.location="/login"),a.data?(a.data.action&&"select"===a.data.action&&(n.docData=a.data.data[0],a.data.data[0].requiredFields&&(n.requiredFields=a.data.data[0].requiredFields),a.data.data[0].bpm&&(n.bpm=a.data.data[0].bpm),n.setState({reloadData:!1,warning:"",warningType:null}),e(a.data.data[0])),a.data.action&&"save"===a.data.action&&a.data.result.error_code?(n.setState({warning:"Tekkis viga "+a.data.result.error_message,warningType:"error"}),t()):e(a.data)):(n.setState({warning:"Tekkis viga "+(a.data.error_message?a.data.error_message:""),warningType:"error"}),t())})},function(e){return n.props.history&&n.props.history.push("/login"),rejected()})}}]),t}(l.Component);e.exports=g},function(e,t){"use strict";e.exports={docRow:{display:"flex",flexDirection:"row"},docColumn:{display:"flex",flexDirection:"column",width:"50%"},doc:{display:"flex",flexDirection:"column"},ok:{backgroundColor:"lightgreen",width:"100%",textAlign:"right"},error:{backgroundColor:"lightcoral",width:"100%",textAlign:"right"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(250),p=a(219),h=a(331),m="INF3",f=a(1),y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={summa:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:y,docTypeId:m,style:h,render:this.renderer}),l.createElement(p,{title:"Read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:(+this.state.read).toFixed(2)||0,disabled:!0}),l.createElement(p,{title:"Summa kokku:",name:"summa_kokku",style:h.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?c(e.gridData,"summa"):0;return t&&this.setState({summa:t,read:e.gridData.length}),l.createElement(u,null,l.createElement(d,{value:"Saama XML fail",onClick:this.onClickHandler,ref:"btn-getXml"}))}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n="/reports/inf3/"+f.userData.uuid,r=encodeURIComponent(""+a);window.open(n+"/"+r)}else t.setState({warning:"Mitte ühtegi INF teenused leidnum",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(219),u=a(250),c=a(333),p=a(334).grid.gridConfiguration,h="LAPS_KOKKUVOTTE",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,tasutud:0,jaak:0,read:0},a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:p,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:h,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Arve summa kokku:",name:"summa_kokku",style:c.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Jääk kokku:",name:"jaak_kokku",style:c.total,ref:"input-jaak",value:(+this.state.jaak).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Tasutud kokku:",name:"tasutud_kokku",style:c.total,ref:"input-tasutud",value:(+this.state.tasutud).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"summa"):0,a=e.gridData?u(e.gridData,"tasutud"):0,n=e.gridData?u(e.gridData,"jaak"):0;return t&&this.setState({summa:t,tasutud:a,jaak:n,read:e.gridData.length}),l.createElement("div",null)}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{position:"relative",height:"100%",display:"flex",flexDirection:"column"}}},function(e,t){"use strict";e.exports={grid:{gridConfiguration:[{id:"lapse_isikukood",name:"Lapse isikukood",width:"10%"},{id:"lapse_nimi",name:"Lapse nimi",width:"20%"},{id:"number",name:"Arve nr",width:"10%"},{id:"kpv",name:"Kuupäev",width:"10%",type:"date",interval:!0},{id:"summa",name:"Arve summa",width:"10%",type:"number"},{id:"tasutud",name:"Tasutud",width:"10%",type:"number"},{id:"jaak",name:"Jääk",width:"10%",type:"number"},{id:"maksja_nimi",name:"Maksja nimi",width:"20%",show:!0},{id:"maksja_isikukood",name:"Maksja isikukood",width:"10%"},{id:"asutus",name:"Asutus",width:"10%"}],sqlString:"SELECT summa::NUMERIC(12, 2)                     AS summa,\n                           number::TEXT                              AS number,\n                           to_char(kpv, 'DD.MM.YYYY')::TEXT          AS kpv,\n                           jaak::NUMERIC(12, 2)                      AS jaak,\n                           tasutud::NUMERIC(12, 2)                   AS tasutud,\n                           lapse_nimi,\n                           lapse_isikukood,\n                           maksja_nimi,\n                           maksja_isikukood,\n                           r.nimetus                                 AS asutus,\n                           $2                                        AS user_id,\n                           to_char(current_date, 'DD.MM.YYYY')::TEXT AS print_date\n                    FROM lapsed.child_summary($1::INTEGER, 1) qryReport\n                             INNER JOIN ou.rekv r ON r.id = qryReport.rekvid\n                    WHERE qryReport.jaak <> 0\n                    ORDER BY lapse_nimi, r.nimetus, kpv\n        ",params:"",alias:"child_summary_report",subtotals:["summa","jaak","tasutud"]},print:[{view:"child_summary_register",params:"sqlWhere",converter:function(e){var t=0,a=0,n=0;return e.forEach(function(e){t+=+e.summa,a+=+e.jaak}),e.map(function(e){return n++,e.summa_kokku=t,e.jaak_kokku=a,e.row_id=n,e})}}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(219),p=a(250),h=a(1),m=a(336),f=a(337).grid.gridConfiguration,y="ARVED_KOODI_JARGI",k={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},g=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={summa:0,read:0},a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:f,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:k,docTypeId:y,style:m,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:m.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Summa kokku:",name:"summa_kokku",style:m.total,ref:"input-summa",value:(+this.state.summa).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?p(e.gridData,"summa"):0,a=e.gridData?e.gridData.length:0;return t&&this.setState({summa:t,read:a}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getcsv"}))}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n="/reports/arved_koodi_jargi/"+h.userData.uuid,r=encodeURIComponent(""+a);window.open(n+"/"+r)}else t.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"95%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t){"use strict";e.exports={grid:{gridConfiguration:[{id:"kpv",name:"Kuupäev",width:"10%",type:"date"},{id:"aasta",name:"Aasta",width:"10%",type:"integer"},{id:"kuu",name:"Kuu",width:"5%",type:"integer",interval:!0},{id:"number",name:"Arve nr",width:"10%"},{id:"kood",name:"Kood",width:"15%"},{id:"hind",name:"Hind",width:"10%",type:"number",interval:!0},{id:"uhik",name:"Ühik",width:"10%"},{id:"kogus",name:"Kogus",width:"10%",type:"number",interval:!0},{id:"summa",name:"Summa",width:"10%",type:"number",interval:!0},{id:"asutus",name:"Asutus",width:"20%"}],sqlString:"SELECT sum(a1.summa) OVER ()        AS summa_kokku,\n                           to_char(a.kpv, 'DD.MM.YYYY') AS kpv,\n                           year(a.kpv)                  AS aasta,\n                           month(a.kpv)                 AS kuu,\n                           a.number::TEXT,\n                           n.kood,\n                           n.uhik,\n                           a1.hind,\n                           a1.kogus,\n                           a1.summa,\n                           r.nimetus::TEXT              AS asutus,\n                           $2                           AS user_id\n                    FROM docs.doc d\n                             INNER JOIN docs.arv a ON d.id = a.parentid\n                             INNER JOIN docs.arv1 a1 ON a1.parentid = a.id\n                             INNER JOIN libs.nomenklatuur n ON a1.nomid = n.id\n                             INNER JOIN lapsed.liidestamine l ON l.docid = d.id\n                             INNER JOIN ou.rekv r ON r.id = d.rekvid\n                    WHERE d.status <> 3\n                      AND a.rekvid IN (SELECT rekv_id\n                                       FROM get_asutuse_struktuur($1))\n                    ORDER BY aasta, kuu, a.number, r.nimetus\n        ",params:"",alias:"arved_koodi_jargi_report"},print:[{view:"arved_koodi_jargi_register",params:"sqlWhere",converter:function(e){var t=0,a=0;return e.forEach(function(e){t+=+e.summa}),e.map(function(e){return a++,e.summa_kokku=t,e.row_id=a,e})}}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(219),p=a(250),h=a(339),m="SALDO_JA_KAIVE",f={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},y=a(1),k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={alg_saldo:0,arvestatud:0,soodustus:0,laekumised:0,tagastused:0,jaak:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:f,docTypeId:m,style:h,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Alg.saldo kokku:",name:"alg_saldo_kokku",style:h.total,ref:"input-read",value:+this.state.alg_saldo||0,disabled:!0}),l.createElement(c,{title:"Arvestatud kokku:",name:"arvestatud_kokku",style:h.total,ref:"input-arvestatud",value:+this.state.arvestatud||0,disabled:!0}),l.createElement(c,{title:"Soodustus kokku:",name:"soodustus_kokku",style:h.total,ref:"input-soodustus",value:+this.state.soodustus||0,disabled:!0}),l.createElement(c,{title:"Laekumised kokku:",name:"laekumised_kokku",style:h.total,ref:"input-laekumised",value:+this.state.laekumised||0,disabled:!0}),l.createElement(c,{title:"Tagastused kokku:",name:"tagastused_kokku",style:h.total,ref:"input-tagastused",value:+this.state.tagastused||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:h.total,ref:"input-jaak",value:+this.state.jaak||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?p(e.gridData,"alg_saldo"):0,a=e.gridData?p(e.gridData,"arvestatud"):0,n=e.gridData?p(e.gridData,"soodustus"):0,r=e.gridData?p(e.gridData,"laekumised"):0,i=e.gridData?p(e.gridData,"tagastused"):0,o=e.gridData?p(e.gridData,"jaak"):0,s=e.gridData?e.gridData.length:0;return e.gridData&&e.gridData.length&&this.setState({alg_saldo:t,arvestatud:a,soodustus:n,laekumised:r,tagastused:i,jaak:o,read:s}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-getCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/saldo_ja_kaive/"+y.userData.uuid,n=encodeURIComponent(""+t),r=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+r+"/"+n:a+"/"+r;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(341),u="SENT_DOCS",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:c,docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(219),p=a(1),h=a(343),m=a(344).grid.gridConfiguration,f="CHILD_AGE",y={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},k=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:m,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:y,docTypeId:f,style:h,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:h.total,ref:"input-read",value:+this.state.read||0,disabled:!0}))}},{key:"renderer",value:function(e){return e.gridData&&e.gridData.length&&this.setState({read:e.gridData.length}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/child_age/"+p.userData.uuid,n=encodeURIComponent(""+t),r=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+r+"/"+n:a+"/"+r;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=k},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t){"use strict";e.exports={grid:{gridConfiguration:[{id:"id",name:"id",width:"0%",show:!1},{id:"isikukood",name:"Isikukood",width:"20%"},{id:"nimi",name:"Lapse nimi",width:"40%"},{id:"age",name:"Sünniaeg",width:"10%",type:"date",interval:!0},{id:"age_27",name:"27 aastane",width:"10%",type:"date",interval:!0},{id:"asutus",name:"Asutud",width:"20%"}],sqlString:"SELECT row_number() OVER ()                                                             AS id,\n                           qry.isikukood,\n                           qry.nimi,\n                           qry.asutus,\n                           to_char(date_of_birth, 'DD.MM.YYYY')                                             AS age,\n                           to_char(current_date + (INTERVAL '27 years' - age(date_of_birth)), 'DD.MM.YYYY') AS age_27\n                    FROM (\n                             SELECT l.isikukood,\n                                    l.nimi,\n                                    r.nimetus                             AS asutus,\n                                    lk.rekvid,\n                                    lapsed.get_date_of_birth(l.isikukood) AS date_of_birth,\n                                    $2                                    AS userid\n                             FROM lapsed.laps l\n                                      INNER JOIN (SELECT DISTINCT parentid, rekvid\n                                                  FROM lapsed.lapse_kaart lk\n                                                  WHERE lk.staatus <> 3) lk ON lk.parentid = l.id\n                                      INNER JOIN ou.rekv r ON lk.rekvid = r.id\n                         ) qry\n                    WHERE date_of_birth IS NOT NULL\n                      AND qry.rekvid IN (SELECT rekv_id\n                                         FROM get_asutuse_struktuur($1))\n                    ORDER BY qry.asutus, qry.nimi\n        ",params:"",alias:"child_age_report"},print:[{view:"child_age_report",params:"sqlWhere",group:"asutus"}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(219),u=a(250),c=a(346),p="SOODUSTUSED",h={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},m=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={soodustus:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:h,docTypeId:p,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Soodustus kokku:",name:"soodustus_kokku",style:c.total,ref:"input-soodustus",value:(+this.state.soodustus).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"soodustus"):0;return t&&this.setState({soodustus:t,read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=m},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},doc:{height:"100%"},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(348),u="STATISTIKA",c={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},p=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:c,docTypeId:u,style:d,render:this.renderer})}},{key:"renderer",value:function(){return null}}]),t}(l.PureComponent);e.exports=p},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(219),p=a(250),h=a(1),m=a(350),f=a(351).grid.gridConfiguration,y="EBATOENAOLISED",k={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},g=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a.state={noude_50:0,noude_100:0,jaak:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:f,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",docTypeId:y,toolbarProps:k,style:m,render:this.renderer}),l.createElement(c,{title:"Read kokku:",name:"read_kokku",style:m.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(c,{title:"Nõude 50% kokku:",name:"noude_50_kokku",style:m.total,ref:"input-noude_50",value:(+this.state.noude_50).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Nõude 100% kokku:",name:"noude_100_kokku",style:m.total,ref:"input-noude_100",value:(+this.state.noude_100).toFixed(2)||0,disabled:!0}),l.createElement(c,{title:"Jääk kokku:",name:"jaak_kokku",style:m.total,ref:"input-jaak",value:(+this.state.jaak).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?p(e.gridData,"noude_50"):0,a=e.gridData?p(e.gridData,"noude_100"):0,n=e.gridData?p(e.gridData,"jaak"):0;return e.gridData&&this.setState({noude_50:t,noude_100:a,jaak:n,read:e.gridData.length}),l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/ebatoenaolised/"+h.userData.uuid,n=encodeURIComponent(""+t),r=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+r+"/"+n:a+"/"+r;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=g},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t){"use strict";e.exports={grid:{gridConfiguration:[{id:"id",name:"id",width:"0%",show:!1},{id:"kpv",name:"Seisuga",width:"0%",show:!1,type:"date",interval:!1},{id:"number",name:"Arve nr",width:"10%"},{id:"tahtaeg",name:"Tähtaeg",width:"10%",show:!0,type:"date",interval:!0},{id:"lapse_isikukood",name:"Lapse IK",width:"10%"},{id:"lapse_nimi",name:"Lapse nimi",width:"15%"},{id:"maksja_isikukood",name:"Maksja nimi",width:"10%"},{id:"maksja_nimi",name:"Maksja nimi",width:"15%"},{id:"noude_50",name:"50%",width:"7%",type:"number"},{id:"noude_100",name:"100%",width:"7%",type:"number"},{id:"jaak",name:"Võlg",width:"7%",type:"number"},{id:"asutus",name:"Asutus",width:"10"}],sqlString:"SELECT row_number() OVER ()                           AS id,\n                           sum(qry.noude_50) OVER (PARTITION BY nimetus)  AS noude_50_group,\n                           sum(qry.noude_100) OVER (PARTITION BY nimetus) AS noude_100_group,\n                           sum(qry.jaak) OVER (PARTITION BY nimetus)      AS jaak_group,\n                           r.nimetus::TEXT                                AS asutus,\n                           qry.kpv,\n                           qry.number,\n                           to_char(qry.tahtaeg, 'DD.MM.YYYY')             AS tahtaeg,\n                           qry.lapse_nimi,\n                           qry.lapse_isikukood,\n                           qry.maksja_isikukood,\n                           qry.maksja_nimi,\n                           qry.noude_50,\n                           qry.noude_100,\n                           qry.jaak,\n                           $2                                             AS user_id\n                    FROM lapsed.ebatoenaolised($1, $3) qry\n                             INNER JOIN ou.rekv r ON r.id = qry.rekvid\n                    WHERE noude_50 > 0\n                       OR noude_100 > 0\n                    ORDER BY asutus, number\n        ",
params:["rekvid","userid","kpv"],alias:"ebatoenaolised_report"},print:[{view:"ebatoenaolised_register",params:"sqlWhere",group:"asutus"}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(1),p=a(353),h="KONDARVE",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickHandler=a.onClickHandler.bind(a),a.renderer=a.renderer.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:h,style:p,render:this.renderer}),";")}},{key:"renderer",value:function(){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,showDate:!1,ref:"btn-geCsv"}))}},{key:"onClickHandler",value:function(){var e=this.refs.register;if(e.gridData&&e.gridData.length){var t=e.state.sqlWhere,a="/reports/kondarve/"+c.userData.uuid,n=encodeURIComponent(""+t),r=encodeURIComponent(""+JSON.stringify(e.filterData)),i=t?a+"/"+r+"/"+n:a+"/"+r;window.open(i)}else e.setState({warning:"Mitte ühtegi kirjed leidnud",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(219),u=a(250),c=a(355),p=a(356).grid.gridConfiguration,h="AASTA_NAITAJAD",m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.state={jaanuar:0,veebruar:0,marts:0,apriil:0,mai:0,juuni:0,juuli:0,august:0,september:0,oktoober:0,november:0,detsember:0,read:0},a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement(s,{initData:this.props.initData,gridConfig:p,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:h,style:c,render:this.renderer}),l.createElement(d,{title:"Read kokku:",name:"read_kokku",style:c.total,ref:"input-read",value:+this.state.read||0,disabled:!0}),l.createElement(d,{title:"Jaanuar kokku:",name:"jaanuar_kokku",style:c.total,ref:"input-jaanuar",value:(+this.state.jaanuar).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Veebruar kokku:",name:"veebruar_kokku",style:c.total,ref:"input-veebruar",value:(+this.state.veebruar).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Märts kokku:",name:"marts_kokku",style:c.total,ref:"input-marts",value:(+this.state.marts).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Apriil kokku:",name:"apriil_kokku",style:c.total,ref:"input-apriil",value:(+this.state.apriil).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Mai kokku:",name:"mai_kokku",style:c.total,ref:"input-mai",value:(+this.state.mai).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Juuni kokku:",name:"juuni_kokku",style:c.total,ref:"input-juuni",value:(+this.state.juuni).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Juuli kokku:",name:"juuli_kokku",style:c.total,ref:"input-juuli",value:(+this.state.juuli).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"August kokku:",name:"august_kokku",style:c.total,ref:"input-august",value:(+this.state.august).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"September kokku:",name:"september_kokku",style:c.total,ref:"input-september",value:(+this.state.september).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Oktoober kokku:",name:"oktoober_kokku",style:c.total,ref:"input-oktoober",value:(+this.state.oktoober).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"November kokku:",name:"november_kokku",style:c.total,ref:"input-november",value:(+this.state.november).toFixed(2)||0,disabled:!0}),l.createElement(d,{title:"Detsember kokku:",name:"detsember_kokku",style:c.total,ref:"input-detsember",value:(+this.state.detsember).toFixed(2)||0,disabled:!0}))}},{key:"renderer",value:function(e){var t=e.gridData?u(e.gridData,"jaanuar"):0,a=e.gridData?u(e.gridData,"veebruar"):0,n=e.gridData?u(e.gridData,"marts"):0,r=e.gridData?u(e.gridData,"apriil"):0,i=e.gridData?u(e.gridData,"mai"):0,o=e.gridData?u(e.gridData,"juuni"):0,l=e.gridData?u(e.gridData,"juuli"):0,s=e.gridData?u(e.gridData,"august"):0,d=e.gridData?u(e.gridData,"september"):0,c=e.gridData?u(e.gridData,"oktoober"):0,p=e.gridData?u(e.gridData,"november"):0,h=e.gridData?u(e.gridData,"detsember"):0;return e.gridData&&this.setState({jaanuar:t,veebruar:a,marts:n,apriil:r,mai:i,juuni:o,juuli:l,august:s,september:d,oktoober:c,november:p,detsember:h,read:e.gridData.length}),null}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},total:{width:"auto"},doc:{height:"100%"}}},function(e,t){"use strict";e.exports={grid:{gridConfiguration:[{id:"period",name:"Seisuga",width:"0%",type:"date",interval:!1,show:!1},{id:"grupp_liik",name:"Grupi liik",width:"0%",show:!1,toolTip:"LASTEAED,HUVIKOOL,KOOL"},{id:"koolituse_tyyp",name:"Koolituse tüüp",width:"0%",show:!1,toolTip:"LASTEAJARÜHM,AED,SPORT,HUVIRING"},{id:"liik",name:"Liik",width:"10%"},{id:"asutus",name:"Asutus",width:"15%"},{id:"jaanuar",name:"Jaanuar",width:"5%",type:"integer",filter:"not"},{id:"veebruar",name:"Veebruar",width:"5%",type:"integer",filter:"not"},{id:"marts",name:"Märts",width:"5%",type:"integer",filter:"not"},{id:"apriil",name:"Apriil",width:"5%",type:"integer",filter:"not"},{id:"mai",name:"Mai",width:"5%",type:"integer",filter:"not"},{id:"juuni",name:"Juuni",width:"5%",type:"integer",filter:"not"},{id:"juuli",name:"Juuli",width:"5%",type:"integer",filter:"not"},{id:"august",name:"August",width:"5%",type:"integer",filter:"not"},{id:"september",name:"September",width:"5%",type:"integer",filter:"not"},{id:"oktoober",name:"Oktoober",width:"5%",type:"integer",filter:"not"},{id:"november",name:"November",width:"5%",type:"integer",filter:"not"},{id:"detsember",name:"Detsember",width:"5%",type:"integer",filter:"not"}],sqlString:"SELECT row_number() OVER ()                        AS row_id,\n                           sum(d.jaanuar) OVER (PARTITION BY rekvid)   AS jaanuar_group,\n                           sum(d.veebruar) OVER (PARTITION BY rekvid)  AS veebruar_group,\n                           sum(d.marts) OVER (PARTITION BY rekvid)     AS marts_group,\n                           sum(d.apriil) OVER (PARTITION BY rekvid)    AS apriil_group,\n                           sum(d.mai) OVER (PARTITION BY rekvid)       AS mai_group,\n                           sum(d.juuni) OVER (PARTITION BY rekvid)     AS juuni_group,\n                           sum(d.juuli) OVER (PARTITION BY rekvid)     AS juuli_group,\n                           sum(d.august) OVER (PARTITION BY rekvid)    AS august_group,\n                           sum(d.september) OVER (PARTITION BY rekvid) AS september_group,\n                           sum(d.oktoober) OVER (PARTITION BY rekvid)  AS oktoober_group,\n                           sum(d.november) OVER (PARTITION BY rekvid)  AS november_group,\n                           sum(d.detsember) OVER (PARTITION BY rekvid) AS detsember_group,\n                           $4::TEXT                                    AS grupp_liik,\n                           $5::TEXT                                    AS koolituse_tyyp,\n                           d.rekvid,\n                           d.period,\n                           d.liik,\n                           d.yksused::TEXT,\n                           d.lapsed_kokku,\n                           d.jaanuar,\n                           d.veebruar,\n                           d.marts,\n                           d.apriil,\n                           d.mai,\n                           d.juuni,\n                           d.juuli,\n                           d.august,\n                           d.september,\n                           d.oktoober,\n                           d.november,\n                           d.detsember,\n                           r.nimetus::TEXT                             AS asutus,\n                           $2                                          AS user_id\n                    FROM lapsed.aasta_naitajad($1::INTEGER, $3::DATE, $4::TEXT, $5::TEXT) d\n                             INNER JOIN ou.rekv r ON r.id = d.rekvid\n                    ORDER BY r.nimetus, d.liik\n        ",params:["rekvid","userid","period","grupp_liik","koolituse_tyyp"],alias:"aasta_naitajad_report"},print:[{view:"aasta_naitajad_register",params:"sqlWhere",group:"asutus"}]}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(358),p="KUU_TAABEL",h=a(1),m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.checkWeekEnds=a.checkWeekEnds.bind(a),a.custom_styling=a.custom_styling.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:p,style:c,render:this.renderer,trigger_select:this.checkWeekEnds,custom_styling:this.custom_styling})}},{key:"renderer",value:function(e){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"checkWeekEnds",value:function(e){if(!e.gridConfig)return null;var t=[];e.gridData.length&&(t=e.gridData[0].week_ends),t.length&&e.gridConfig.map(function(e){return e.showBold=t.indexOf(+e.name)>-1,e}),e.gridData=e.gridData.filter(function(e){return e.is_row})}},{key:"custom_styling",value:function(e,t){var a={};return isNaN(e.name)||999999999!=t.nom_id||null===t[e.id]||(a=t[e.id]?c.custom.positive:c.custom.negative),a}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n="/reports/kuu_taabel/"+h.userData.uuid,r=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?n+"/"+i+"/"+r:n+"/"+i;window.open(o)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid black",display:"table-cell",paddingLeft:"5px",nullColour:"lightGrey"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}},custom:{positive:{backgroundColor:"lightgreen"},negative:{backgroundColor:"pink"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(360),p="YKSUSE_TAABEL",h=a(1),m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.checkWeekEnds=a.checkWeekEnds.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:p,style:c,render:this.renderer,trigger_select:this.checkWeekEnds,custom_styling:this.custom_styling})}},{key:"renderer",value:function(e){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"checkWeekEnds",value:function(e){if(!e.gridConfig)return null;var t=[];e.gridData.length&&(t=e.gridData[0].week_ends),t.length&&e.gridConfig.map(function(e){return e.showBold=t.indexOf(+e.name)>-1,e}),e.gridData=e.gridData.filter(function(e){return e.is_row})}},{key:"custom_styling",value:function(e,t){var a={};return isNaN(e.name)||999999999!=t.nom_id||null===t[e.id]||(a=+t[e.id]?c.custom.positive:c.custom.negative),a}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n="/reports/yksuse_taabel/"+h.userData.uuid,r=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?n+"/"+i+"/"+r:n+"/"+i;window.open(o)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid black",display:"table-cell",paddingLeft:"5px",nullColour:"lightGrey"}},headerTable:{width:"100%"},th:{borderBottom:"1px solid black",backgroundColor:"grey",height:"30px",border:"1px solid lightgray",display:"table-cell",color:"black",boldColor:"red"},gridContainer:{width:"100%"},boolColour:{yes:null,no:null}},custom:{positive:{backgroundColor:"lightgreen"},negative:{backgroundColor:"pink"}}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),s=a(228),d=a(238),u=a(77),c=a(362),p="KOHALOLEKU_ARUANNE",h=a(1),m={add:!1,edit:!1,delete:!1,start:!1,print:!0,email:!0},f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderer=a.renderer.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),o(t,[{key:"render",value:function(){return l.createElement(s,{initData:this.props.initData,history:this.props.history?this.props.history:null,module:this.props.module,ref:"register",toolbarProps:m,docTypeId:p,style:c,render:this.renderer})}},{key:"renderer",value:function(e){return l.createElement(u,null,l.createElement(d,{value:"Saama CSV fail",onClick:this.onClickHandler,ref:"btn-getXml",showDate:!1}))}},{key:"onClickHandler",value:function(e){var t=this.refs.register;if(t.gridData&&t.gridData.length){var a=t.state.sqlWhere,n="/reports/kohaoleku_aruanne/"+h.userData.uuid,r=encodeURIComponent(""+a),i=encodeURIComponent(""+JSON.stringify(t.filterData)),o=a?n+"/"+i+"/"+r:n+"/"+i;window.open(o)}else t.setState({warning:"Tulemus 0",warningType:"notValid"})}}]),t}(l.PureComponent);e.exports=f},function(e,t){"use strict";e.exports={grid:{mainTable:{width:"100%",td:{border:"1px solid lightGrey",display:"table-cell",paddingLeft:"5px"}},headerTable:{width:"100%"},gridContainer:{width:"100%"}}}}]);